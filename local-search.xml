<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>é‡åš2023å¹´å›½A</title>
    <link href="/2024/05/17/%E8%93%9D%E6%A1%A5%E6%9D%AF%E5%9B%BD%E8%B5%9B%E5%A4%87%E8%B5%9B/%E9%87%8D%E5%81%9A2023%E5%B9%B4%E5%9B%BDA/"/>
    <url>/2024/05/17/%E8%93%9D%E6%A1%A5%E6%9D%AF%E5%9B%BD%E8%B5%9B%E5%A4%87%E8%B5%9B/%E9%87%8D%E5%81%9A2023%E5%B9%B4%E5%9B%BDA/</url>
    
    <content type="html"><![CDATA[<h2 id="é‡åš2023å¹´å›½A"><a href="#é‡åš2023å¹´å›½A" class="headerlink" title="é‡åš2023å¹´å›½A"></a>é‡åš2023å¹´å›½A</h2><h4 id="Cåˆ‡å‰²ï¼š"><a href="#Cåˆ‡å‰²ï¼š" class="headerlink" title="Cåˆ‡å‰²ï¼š"></a>Cåˆ‡å‰²ï¼š</h4><ul><li>æ€è·¯ï¼šç®€å•çš„æ¨¡æ‹Ÿé¢˜ï¼Œæ ¹æ®é¢˜æ„æ¥æ¨¡æ‹Ÿå³å¯ï¼Œå¯ä»¥å¤šåŠ æµ‹è¯•æ¥é™ä½é£é™©</li></ul><h4 id="DXYZ"><a href="#DXYZ" class="headerlink" title="DXYZ:"></a>DXYZ:</h4><ul><li>æ€è·¯ï¼šæ‰¾è§„å¾‹é¢˜ç›®ï¼Œæ€»ç»“å…¬å¼ï¼Œä»æ ·ä¾‹å‡ºå‘ï¼Œè€å¿ƒä¸€ç‚¹å®Œå…¨å¯ä»¥åšå‡ºæ¥ï¼Œå¾ˆæ£’ï¼</li></ul><h4 id="Eç¬¬Kå°çš„å’Œï¼š"><a href="#Eç¬¬Kå°çš„å’Œï¼š" class="headerlink" title="Eç¬¬Kå°çš„å’Œï¼š"></a>Eç¬¬Kå°çš„å’Œï¼š</h4><ul><li>æ€è·¯ï¼šåŒé‡äºŒåˆ†ï¼Œè°ƒè¯•äº†ä¸€ä¼šå„¿è¾¹ç•Œæœ€ç»ˆåšå‡ºæ¥äº†ï¼äºŒåˆ†æ¡ä»¶çš„åŸºæœ¬åŸåˆ™è¿˜æ˜¯è¦åšæŒï¼ˆ<strong>ç­‰å·åœ¨å“ªï¼Œå“ªé‡Œæ²¡æœ‰åŠ å‡1ã€‚ç„¶åå°±æ˜¯è€ƒè™‘æ‰¾æœ€å·¦è¿˜æ˜¯æœ€å³ï¼Œæ²¡æœ‰ç»“æœçš„æ—¶å€™åˆè¦è¿”å›ä»€ä¹ˆ</strong>ï¼‰ï¼Œç„¶åå¦‚æœå‡ºé”™å°±debugè¾“å‡ºä¹Ÿä¼šæ¯”è¾ƒå®¹æ˜“æ‰¾åˆ°é—®é¢˜æ‰€åœ¨ï¼Œç»†å¿ƒä¸€ç‚¹å³å¯ã€‚æœ€åNå¿˜è®°è®¾å¤§ä¸€ç‚¹å¯¼è‡´ä¸€ä¸ªç‚¹æ²¡è¿‡ï¼Œç»éªŒ+1ã€‚</li></ul><h4 id="Fç›¸è¿çš„è¾¹ï¼š"><a href="#Fç›¸è¿çš„è¾¹ï¼š" class="headerlink" title="Fç›¸è¿çš„è¾¹ï¼š"></a>Fç›¸è¿çš„è¾¹ï¼š</h4><ul><li>æ€è·¯ï¼šå›¾çš„å­˜å‚¨å’Œéå†ã€‚</li><li>ä¸‰æ¡ç›¸è¿çš„è¾¹çš„å’Œæœ€å¤§ï¼Œå…ˆåˆ†ææœ‰ä¸¤ç§æƒ…å†µï¼Œä¸€æ˜¯ä¸‰æ¡è¾¹æœ‰ä¸€å…±åŒç«¯ç‚¹ï¼ŒäºŒæ˜¯ä¸‰æ¡è¾¹é¦–ä½ç›¸è¿ã€‚å¯¹äºä¸€ï¼Œéå†æ‰€æœ‰ç‚¹ï¼Œæ‰€è¿çš„è¾¹æŒ‰ç…§è¾¹é•¿å€’å™æ’åºï¼Œå–å‰3ä¸ªï¼ˆ&gt;&#x3D;3ï¼‰ã€‚å¯¹äºäºŒï¼Œéå†æ‰€æœ‰è¾¹ï¼Œå¯¹äºä¸¤ä¸ªç«¯ç‚¹åˆ†åˆ«å–æ‰€è¿çš„è¾¹çš„æœ€é•¿ï¼Œä¸èƒ½æ˜¯å½“å‰è¾¹ï¼Œéœ€è¦å¢åŠ ä¸€ä¸ªidå˜é‡æ¥æ ‡è®°æ¯ä¸€æ¡è¾¹ã€‚ä½¿ç”¨äº†vector<edge> nodeè¿™ä¸€ç±»å‹ã€‚</li><li>ä¸»è¦åœ¨äºåˆ†ç±»åˆ†æï¼Œå¯¹ä¸€ç§æƒ…å†µçš„è¾¹ç•Œæƒ…å†µè¦è€ƒè™‘æ¸…æ¥šï¼Œæ˜¯å¯ä»¥åšå‡ºæ¥çš„ã€‚</li></ul><h4 id="G01æ¸¸æˆï¼š"><a href="#G01æ¸¸æˆï¼š" class="headerlink" title="G01æ¸¸æˆï¼š"></a>G01æ¸¸æˆï¼š</h4><ul><li>æ€è·¯ï¼š01å›¾dfsæ±‚è§£ã€‚</li><li>æœ‰ä¸‰ä¸ªé™å®šæ¡ä»¶ï¼šä¸€æ˜¯æ°´å¹³æˆ–å‚ç›´ï¼Œä¸èƒ½å‡ºç°è¿ç»­3ä¸ª0æˆ–1ï¼ŒäºŒæ˜¯æ¯è¡Œæ¯åˆ—çš„0ï¼Œ1ä¸ªæ•°éƒ½è¦æƒ³åˆ°ï¼Œä¸‰æ˜¯æ¯è¡Œæ¯åˆ—å„ä¸ç›¸åŒï¼ˆnæ¯”è¾ƒå°ï¼Œå¯ä»¥ç”¨çŠ¶å‹æ•°ç»„è®°å½•ï¼‰ã€‚é’ˆå¯¹é™å®šæ¡ä»¶åŠæ—¶è¿›è¡Œå‰ªæã€‚ä»å·¦å¾€å³ï¼Œä»ä¸Šåˆ°ä¸‹éå†ï¼Œæœ€ç»ˆè¿›è¡ŒéªŒè¯ã€‚dfsæœ‰0å’Œ1ä¸¤ä¸ªåˆ†æ”¯ï¼Œæ³¨æ„è¦æ¢å¤ç°åœºã€‚</li><li>å‡ºç°é—®é¢˜å»è¾“å‡ºå†åŠ ä¸Šé€»è¾‘åˆ†æåŸºæœ¬å°±å¯ä»¥åˆ¤å®šè§£å†³é—®é¢˜ï¼Œå¯ä»¥åšå‡ºæ¥ï¼Œå¾ˆæ£’ï¼</li></ul><h4 id="Hå­ä¸²ï¼š"><a href="#Hå­ä¸²ï¼š" class="headerlink" title="Hå­ä¸²ï¼š"></a>Hå­ä¸²ï¼š</h4><ul><li>æ€è·¯ï¼šå­—ç¬¦ä¸²hash</li><li>æš´åŠ›æšä¸¾æ‰€æœ‰å­ä¸²ï¼Œå…ˆéå†lenï¼Œå†éå†èµ·å§‹ä½ç½®ï¼Œs.substr(i, len)æ¥è·å–å­ä¸²ï¼Œå¯ä»¥è¿‡25%ï¼Œä¸é”™ğŸ‘</li></ul><h4 id="Iæ ‘ä¸Šçš„è·¯å¾„ï¼š"><a href="#Iæ ‘ä¸Šçš„è·¯å¾„ï¼š" class="headerlink" title="Iæ ‘ä¸Šçš„è·¯å¾„ï¼š"></a>Iæ ‘ä¸Šçš„è·¯å¾„ï¼š</h4><ul><li>æ ‘ä¸Šè·ç¦»æšä¸¾</li><li>åˆ©ç”¨lcaæ¥æ±‚ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»ï¼Œå¯ä»¥è¿‡65%ï¼Œåˆ©ç”¨lcaçš„æ¨¡æ¿æ±‚æ ‘ä¸Šä¸¤ç‚¹è·ç¦»å·²ç»æ¯”è¾ƒç†Ÿç»ƒäº†</li></ul><h4 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h4><p>1.é¢˜ç›®åˆ†å¸ƒï¼š</p><ul><li><strong>ä¸¤é“å¡«ç©ºé¢˜</strong>ä¸€èˆ¬æ¶‰åŠæ¯”è¾ƒä¸å¸¸ç”¨çš„ç®—æ³•çŸ¥è¯†ï¼Œå¯ä»¥ç®€å•çœ‹ä¸€ä¸‹ï¼Œèƒ½ä¸èƒ½æœ‰æ€è·¯ï¼Œæ²¡æœ‰çš„è¯ï¼Œå¿«é€Ÿè¿‡çœ‹ä¸‹é¢çš„é¢˜å°±å¯ä»¥äº†ã€‚</li><li><strong>å‰ä¸‰é“ç®—æ³•é¢˜</strong>ç›¸å¯¹æ¥è¯´éš¾åº¦è¿˜å¯ä»¥ï¼Œæ¶‰åŠæ¨¡æ‹Ÿå’ŒåŸºç¡€ç®—æ³•ã€‚å¯ä»¥å°è¯•å»æƒ³æ­£è§£ï¼Œæ³¨æ„å¤šåŠ æµ‹è¯•ï¼Œç›¸ä¿¡è‡ªå·±æ˜¯å¯ä»¥æ‹¿åˆ°è¿™äº›åˆ†æ•°çš„ã€‚</li><li><strong>åå››é“é¢˜</strong>æˆ–è€…åŠ ä¸Šæœ€åä¸€é“é¢˜ï¼Œæ¶‰åŠ<strong>å›¾çš„å­˜å‚¨å’Œdfs</strong>å¯ä»¥æ‹¿éƒ¨åˆ†åˆ†ç”šè‡³å…¨éƒ¨åˆ†æ•°ï¼Œå…¶ä»–èƒ½æ¨¡æ‹Ÿçš„é¢˜ç›®ä¹Ÿå°½é‡å»æ‹¿éƒ¨åˆ†åˆ†ï¼Œå¤šæƒ³å‡ ç»„æµ‹è¯•æ•°æ®ï¼Œç¨³ä¸­æ±‚èƒœã€‚</li></ul><p>2.æ—¶é—´ï¼š</p><ul><li>åœ¨ä¸€é“é¢˜ç›®ä¸Šä¸è¦åœç•™è¿‡é•¿çš„æ—¶é—´ï¼Œä¸è¦è¶…è¿‡30-40åˆ†é’Ÿï¼Œå¯ä»¥å…ˆæ”¾ä¸€æ”¾ï¼Œåšåé¢çš„é¢˜ï¼Œä¹‹åå¯ä»¥å†å›è¿‡å¤´æ¥çœ‹ï¼Œå¯èƒ½ä¼šæœ‰æ–°æ€è·¯ã€‚</li><li>æœ€åä¸€å®šè¦ç•™40åˆ†é’Ÿä»¥ä¸Šçš„æ—¶é—´æ¥æ£€æŸ¥æ‰€æœ‰é¢˜ç›®ï¼ŒæŠŠæäº¤çš„å†…å®¹å†æ‹¿å›æ¥æµ‹è¯•ï¼Œæˆ–æ˜¯å¯ä»¥æ¨¡æ‹Ÿæ‹¿åˆ†çš„é¢˜ç›®å†æƒ³æƒ³æœ‰æ²¡æœ‰æ›´å¥½çš„åŠæ³•ã€‚æœ€åå‡ åˆ†é’Ÿå†çœ‹ä¸€ä¸‹æäº¤çš„å†…å®¹æœ‰æ²¡æœ‰é—®é¢˜ã€‚</li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å›½èµ›ä¸“é¢˜è®­ç»ƒ</title>
    <link href="/2024/05/12/%E8%93%9D%E6%A1%A5%E6%9D%AF%E5%9B%BD%E8%B5%9B%E5%A4%87%E8%B5%9B/%E5%9B%BD%E8%B5%9B%E4%B8%93%E9%A2%98%E8%AE%AD%E7%BB%83/"/>
    <url>/2024/05/12/%E8%93%9D%E6%A1%A5%E6%9D%AF%E5%9B%BD%E8%B5%9B%E5%A4%87%E8%B5%9B/%E5%9B%BD%E8%B5%9B%E4%B8%93%E9%A2%98%E8%AE%AD%E7%BB%83/</url>
    
    <content type="html"><![CDATA[<h2 id="å›½èµ›ä¸“é¢˜è®­ç»ƒ"><a href="#å›½èµ›ä¸“é¢˜è®­ç»ƒ" class="headerlink" title="å›½èµ›ä¸“é¢˜è®­ç»ƒ"></a>å›½èµ›ä¸“é¢˜è®­ç»ƒ</h2><h3 id="1-æš´åŠ›-for"><a href="#1-æš´åŠ›-for" class="headerlink" title="1.æš´åŠ›-for"></a>1.æš´åŠ›-for</h3><h4 id="owo"><a href="#owo" class="headerlink" title="owo:"></a>owo:</h4><ul><li>æ€è·¯ï¼šæš´åŠ›çš„æ—¶å€™ï¼Œå› ä¸ºé‡‡ç”¨çš„random_shuffleæ¥æ‰“ä¹±å†è®¡æ•°ï¼Œé‚£ä¹ˆforçš„æ¬¡æ•°è¶Šå¤šè¶Šå¥½ï¼Œæ‰€ä»¥<strong>ä¸å¿…è€ƒè™‘æœ€å¤§çš„1e6,è€ƒè™‘5000å³å¯</strong>ï¼Œç„¶åå¢åŠ forçš„æ¬¡æ•°åˆ°5e3ï¼Œè¿™æ ·é€šè¿‡çš„æ ·ä¾‹ä¼šæ›´å¤šã€‚</li><li>å­—ç¬¦ä¸²å¤„ç†ï¼šrandom_shufle(begin, end), å¯ä»¥æ‰“ä¹±æ•°ç»„é¡ºåºã€‚str.find(â€œowoâ€)è¿”å›æ‰¾åˆ°ç¬¬ä¸€ä¸ªowoçš„ä½ç½®ï¼Œ str.find(â€œowoâ€, p+1)è¿”å›ä»p+1å¼€å§‹æ‰¾çš„ç¬¬ä¸€ä¸ªowoçš„ä½ç½®ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long </span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e6</span>+<span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> n;<br><span class="hljs-type">int</span> ans;<br>string str[N]; <br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)&#123;<br>cin&gt;&gt;str[i];<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> cnt = <span class="hljs-number">1</span>; cnt &lt;= <span class="hljs-number">5e3</span>; cnt++)&#123;<br><span class="hljs-type">int</span> count = <span class="hljs-number">0</span>;<br><span class="hljs-built_in">random_shuffle</span>(str, str+<span class="hljs-number">1</span>+i);<br>string t = <span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt;= i; j++) t = t + str[j];<br><span class="hljs-type">int</span> p = t.<span class="hljs-built_in">find</span>(<span class="hljs-string">&quot;owo&quot;</span>);<br><span class="hljs-keyword">while</span>(p != <span class="hljs-number">-1</span>)&#123;<br>count++;<br>p = t.<span class="hljs-built_in">find</span>(<span class="hljs-string">&quot;owo&quot;</span>, p+<span class="hljs-number">1</span>);<br>&#125;<br>ans = <span class="hljs-built_in">max</span>(ans, count);<br>&#125;<br>cout&lt;&lt;ans&lt;&lt;endl;<br>&#125;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="å­ä¸²ï¼š"><a href="#å­ä¸²ï¼š" class="headerlink" title="å­ä¸²ï¼š"></a>å­ä¸²ï¼š</h4><ul><li>æ€è·¯ï¼šä½¿ç”¨hashï¼Œå³mapæ¥å­˜å‚¨æ‰€æœ‰çš„å­ä¸²å‡ºç°çš„æ¬¡æ•°ï¼Œå†å¯¹æ‰€æœ‰çš„mapè¿›è¡Œä¸€ä¸ªè®¡æ•°</li><li>å­—ç¬¦ä¸²å¤„ç†ï¼šå–å­ä¸²t &#x3D; s.substr(begin, len)</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e6</span>;<br>string s; <br>unordered_map&lt;string, <span class="hljs-type">int</span>&gt; mp;<br><span class="hljs-type">int</span> res[N];<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;s;<br><span class="hljs-type">int</span> n = s.<span class="hljs-built_in">size</span>();<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> len = <span class="hljs-number">1</span>; len &lt;= n; len++)&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i + len <span class="hljs-number">-1</span> &lt; n; i++)&#123;<br>string t = s.<span class="hljs-built_in">substr</span>(i, len);<br>mp[t]++;<br>&#125; <br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> i:mp)&#123;<br><span class="hljs-type">int</span> cnt = i.second;<br>res[cnt]++;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br>cout&lt;&lt;res[i]&lt;&lt;endl;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="2æš´åŠ›ï¼šdfs"><a href="#2æš´åŠ›ï¼šdfs" class="headerlink" title="2æš´åŠ›ï¼šdfs"></a>2æš´åŠ›ï¼šdfs</h3><h4 id="ä¹°ç“œï¼š"><a href="#ä¹°ç“œï¼š" class="headerlink" title="ä¹°ç“œï¼š"></a>ä¹°ç“œï¼š</h4><ul><li>æ€è·¯ï¼šé¦–å…ˆæ˜¯åŠˆç“œæ¶‰åŠåˆ°&#x2F;2ï¼Œé‚£ä¹ˆå°±å¯¹æ‰€æœ‰æ•°*2æ¥é¿å…æµ®ç‚¹æ•°çš„é—®é¢˜ã€‚å…¶æ¬¡ï¼Œå¯¹äºæ¯ä¸ªç“œæœ‰ä¸‰ç§å¯èƒ½ï¼Œå†åŠ ä¸Šæ’åºå‰ªæä¼˜åŒ–ã€‚ç«Ÿç„¶å¯ä»¥è¿‡70%çš„æ•°æ®ï¼Œè€Œä¸”è¿™æ¬¡å†™çš„ä¹Ÿæ¯”è¾ƒé¡ºåˆ©ï¼Œæ€è·¯æ¸…æ™°ï¼Œå¾ˆæ£’ï¼</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long </span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">35</span>;<br><span class="hljs-type">int</span> n, m;<br><span class="hljs-type">int</span> a[N];<br><span class="hljs-type">int</span> ans = N;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> u, <span class="hljs-type">int</span> sum, <span class="hljs-type">int</span> cnt)</span></span>&#123;<br><span class="hljs-keyword">if</span>(sum == m)&#123;<br>ans = <span class="hljs-built_in">min</span>(ans, cnt);<br><span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-keyword">if</span>(u == n+<span class="hljs-number">1</span>) <span class="hljs-keyword">return</span>;<br><span class="hljs-keyword">if</span>(sum &gt; m) <span class="hljs-keyword">return</span>;<br><span class="hljs-built_in">dfs</span>(u + <span class="hljs-number">1</span>, sum, cnt);<br><span class="hljs-keyword">if</span>(sum + a[u]/<span class="hljs-number">2</span> &lt;= m) <span class="hljs-built_in">dfs</span>(u+<span class="hljs-number">1</span>, sum+a[u]/<span class="hljs-number">2</span>, cnt + <span class="hljs-number">1</span>);<br><span class="hljs-keyword">if</span>(sum + a[u] &lt;= m) <span class="hljs-built_in">dfs</span>(u+<span class="hljs-number">1</span>, sum + a[u], cnt);<br><span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n&gt;&gt;m;<br>m = m*<span class="hljs-number">2</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br>cin&gt;&gt;a[i];<br>a[i] = a[i]*<span class="hljs-number">2</span>;<br>&#125;<br><span class="hljs-built_in">sort</span>(a+<span class="hljs-number">1</span>, a+<span class="hljs-number">1</span>+n);<br><span class="hljs-built_in">dfs</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br><span class="hljs-keyword">if</span>(ans != N) cout&lt;&lt;ans&lt;&lt;endl;<br><span class="hljs-keyword">else</span> cout&lt;&lt;<span class="hljs-string">&quot;-1&quot;</span>&lt;&lt;endl;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="01æ¸¸æˆï¼š"><a href="#01æ¸¸æˆï¼š" class="headerlink" title="01æ¸¸æˆï¼š"></a>01æ¸¸æˆï¼š</h4><ul><li>ä¸»è¦é‡‡å–dfsçš„æ–¹å¼ï¼Œå¯¹äºæ²¡å¡«æ•°çš„æ¯ä¸ªä½å­æœ‰ä¸¤ç§å¯èƒ½ï¼Œ0æˆ–1ï¼Œé‚£ä¹ˆå°±åˆ†åˆ«è¿›è¡Œdfsï¼Œè®°å¾—æ¢å¤ç°åœºã€‚å½“ä½ç½®åˆ°è¾¾n+1,1æ—¶ï¼Œæ ¹æ®3æ¡è¦æ±‚è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœé€šè¿‡ï¼Œflag&#x3D; 1,ä¹‹åçš„dfséƒ½ç›´æ¥returnã€‚å†åŠ ä¸Šfr,fcçš„å‰ªæã€‚</li><li>s(i)(j)!&#x3D;â€™_â€™çš„returnå°‘äº›äº†ï¼Œä¸èƒ½å†å¾€ä¸‹èµ°äº†ï¼Œå¦å¤–å°±æ˜¯åˆšå¼€å§‹è®¡æ•°è¿˜è¦è€ƒè™‘ä¸‹åˆ’çº¿ï¼Œæ‰€ä»¥ifè¦è¯´æ¸…æ¥šã€‚ä¸¤ä¸ªæ¼æ´æ²¡èƒ½é€šè¿‡debugæ‰¾å‡ºæ¥ï¼Œè¿˜æ˜¯è¦æ›´åŠ ä»”ç»†ä¸€ç‚¹ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">int</span> n; <br>string s[<span class="hljs-number">15</span>];<br><span class="hljs-type">int</span> fc[<span class="hljs-number">15</span>][<span class="hljs-number">2</span>], fr[<span class="hljs-number">15</span>][<span class="hljs-number">2</span>];<br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">chk</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span></span>&#123;<br><span class="hljs-keyword">if</span>(x &gt; <span class="hljs-number">2</span>&amp;&amp;s[x<span class="hljs-number">-1</span>][y]==s[x][y]&amp;&amp;s[x<span class="hljs-number">-2</span>][y]==s[x][y]) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">if</span>(y &gt; <span class="hljs-number">2</span>&amp;&amp;s[x][y<span class="hljs-number">-1</span>]==s[x][y]&amp;&amp;s[x][y<span class="hljs-number">-2</span>]==s[x][y]) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-type">int</span> flag = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> A[<span class="hljs-number">1050</span>], B[<span class="hljs-number">1050</span>];<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span></span>&#123;<br><span class="hljs-keyword">if</span>(flag) <span class="hljs-keyword">return</span>;<br><span class="hljs-keyword">if</span>(x == n+<span class="hljs-number">1</span> &amp;&amp; y == <span class="hljs-number">1</span>)&#123;<br><span class="hljs-type">int</span> res = <span class="hljs-number">1</span>; <br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br><span class="hljs-keyword">if</span>(fr[i][<span class="hljs-number">0</span>]!=n/<span class="hljs-number">2</span> || fr[i][<span class="hljs-number">1</span>]!=n/<span class="hljs-number">2</span>) res = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">if</span>(fc[i][<span class="hljs-number">0</span>]!=n/<span class="hljs-number">2</span> || fc[i][<span class="hljs-number">1</span>]!=n/<span class="hljs-number">2</span>) res = <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-keyword">if</span>(res == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>;<br><span class="hljs-built_in">memset</span>(A, <span class="hljs-number">0</span>, <span class="hljs-built_in">sizeof</span>(A));<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br><span class="hljs-type">int</span> tmp = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j++)&#123;<br>tmp = tmp * <span class="hljs-number">2</span> + s[i][j]-<span class="hljs-string">&#x27;0&#x27;</span>;<br>&#125;<br><span class="hljs-keyword">if</span>(A[tmp]!=<span class="hljs-number">0</span>) res = <span class="hljs-number">0</span>;<br>A[tmp]++;<br>&#125;<br><span class="hljs-built_in">memset</span>(B, <span class="hljs-number">0</span>, <span class="hljs-built_in">sizeof</span>(B));<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br><span class="hljs-type">int</span> tmp = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j++)&#123;<br>tmp = tmp * <span class="hljs-number">2</span> + s[j][i]-<span class="hljs-string">&#x27;0&#x27;</span>;<br>&#125;<br><span class="hljs-keyword">if</span>(B[tmp]!=<span class="hljs-number">0</span>) res = <span class="hljs-number">0</span>;<br>B[tmp]++;<br>&#125;<br><span class="hljs-keyword">if</span>(res == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j++)&#123;<br><span class="hljs-keyword">if</span>(i + <span class="hljs-number">2</span> &lt;= n)&#123;<br><span class="hljs-keyword">if</span>(s[i][j] == s[i+<span class="hljs-number">1</span>][j]&amp;&amp;s[i][j] == s[i+<span class="hljs-number">2</span>][j]) res = <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-keyword">if</span>(j + <span class="hljs-number">2</span> &lt;= n)&#123;<br><span class="hljs-keyword">if</span>(s[i][j] == s[i][j+<span class="hljs-number">1</span>]&amp;&amp;s[i][j] == s[i][j+<span class="hljs-number">2</span>]) res = <span class="hljs-number">0</span>;<br>&#125;<br>&#125;<br>&#125;<br><span class="hljs-keyword">if</span>(res == <span class="hljs-number">1</span>)&#123;<br>flag = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;=n; i++)&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j++)&#123;<br>cout&lt;&lt;s[i][j];<br>&#125;<br>cout&lt;&lt;endl;<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-type">int</span> nx = x, ny = y + <span class="hljs-number">1</span>;<br><span class="hljs-keyword">if</span>(ny == n+<span class="hljs-number">1</span>)&#123;<br>nx = x + <span class="hljs-number">1</span>;<br>ny = <span class="hljs-number">1</span>;<br>&#125;<br><br><span class="hljs-keyword">if</span>(s[x][y] != <span class="hljs-string">&#x27;_&#x27;</span>)&#123;<br><span class="hljs-built_in">dfs</span>(nx, ny);<br><span class="hljs-keyword">return</span>;<br>&#125;<br><br>s[x][y] = <span class="hljs-string">&#x27;0&#x27;</span>;<br>fr[x][<span class="hljs-number">0</span>]++;<br>fc[y][<span class="hljs-number">0</span>]++;<br><span class="hljs-keyword">if</span>(fr[x][<span class="hljs-number">0</span>]&lt;=n/<span class="hljs-number">2</span>&amp;&amp;fc[y][<span class="hljs-number">0</span>]&lt;=n/<span class="hljs-number">2</span>&amp;&amp;<span class="hljs-built_in">chk</span>(x, y)) <span class="hljs-built_in">dfs</span>(nx, ny);<br>fr[x][<span class="hljs-number">0</span>]--;<br>fc[y][<span class="hljs-number">0</span>]--;<br><br>s[x][y] = <span class="hljs-string">&#x27;1&#x27;</span>;<br>fr[x][<span class="hljs-number">1</span>]++;<br>fc[y][<span class="hljs-number">1</span>]++;<br><span class="hljs-keyword">if</span>(fr[x][<span class="hljs-number">1</span>]&lt;=n/<span class="hljs-number">2</span>&amp;&amp;fc[y][<span class="hljs-number">1</span>]&lt;=n/<span class="hljs-number">2</span>&amp;&amp;<span class="hljs-built_in">chk</span>(x, y)) <span class="hljs-built_in">dfs</span>(nx, ny);<br>fr[x][<span class="hljs-number">1</span>]--;<br>fc[y][<span class="hljs-number">1</span>]--;<br>s[x][y] = <span class="hljs-string">&#x27;_&#x27;</span>;<br><span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br>cin&gt;&gt;s[i];<br>s[i] = <span class="hljs-string">&#x27; &#x27;</span>+ s[i];<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j++)&#123;<br><span class="hljs-keyword">if</span>(s[i][j] == <span class="hljs-string">&#x27;0&#x27;</span>)&#123;<br>fr[i][<span class="hljs-number">0</span>]++;<br>fc[j][<span class="hljs-number">0</span>]++;<br>&#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(s[i][j] == <span class="hljs-string">&#x27;1&#x27;</span>)&#123;<br>fr[i][<span class="hljs-number">1</span>]++;<br>fc[j][<span class="hljs-number">1</span>]++;<br>&#125;<br>&#125;<br>&#125;<br><span class="hljs-built_in">dfs</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è“æ¡¥æ¯2023å¹´å›½A</title>
    <link href="/2024/05/03/%E8%93%9D%E6%A1%A5%E6%9D%AF%E5%9B%BD%E8%B5%9B%E5%A4%87%E8%B5%9B/%E8%93%9D%E6%A1%A5%E6%9D%AF2023%E5%B9%B4%E5%9B%BDA/"/>
    <url>/2024/05/03/%E8%93%9D%E6%A1%A5%E6%9D%AF%E5%9B%BD%E8%B5%9B%E5%A4%87%E8%B5%9B/%E8%93%9D%E6%A1%A5%E6%9D%AF2023%E5%B9%B4%E5%9B%BDA/</url>
    
    <content type="html"><![CDATA[<h2 id="è“æ¡¥æ¯2023å¹´å›½AçœŸé¢˜"><a href="#è“æ¡¥æ¯2023å¹´å›½AçœŸé¢˜" class="headerlink" title="è“æ¡¥æ¯2023å¹´å›½AçœŸé¢˜"></a>è“æ¡¥æ¯2023å¹´å›½AçœŸé¢˜</h2><h4 id="Cåˆ‡å‰²"><a href="#Cåˆ‡å‰²" class="headerlink" title="Cåˆ‡å‰²:"></a>Cåˆ‡å‰²:</h4><ul><li>æ€è·¯ï¼šæ‰¾ä¸¤ä¸ªæ•°çš„æœ€å°å…¬å› æ•°ï¼Œä»å°æš´åŠ›éå†å³å¯</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">int</span> w, h, ans;<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;w&gt;&gt;h;<br><span class="hljs-type">int</span> minn = <span class="hljs-built_in">min</span>(w, h);<br><span class="hljs-type">int</span> maxn = <span class="hljs-built_in">max</span>(w, h);<br><span class="hljs-type">int</span> flag = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>; i &lt;= minn; i++)&#123;<br><span class="hljs-keyword">if</span>(minn % i==<span class="hljs-number">0</span> &amp;&amp; maxn %i ==<span class="hljs-number">0</span>)&#123;<br>ans = (minn/i)*(maxn/i);<br>cout&lt;&lt;ans&lt;&lt;endl;<br>flag = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br><span class="hljs-keyword">if</span>(!flag)&#123;<br>cout&lt;&lt;<span class="hljs-string">&quot;0&quot;</span>&lt;&lt;endl;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="DXYZï¼š"><a href="#DXYZï¼š" class="headerlink" title="DXYZï¼š"></a>DXYZï¼š</h4><ul><li>æ€è·¯ï¼šå…ˆæ€è€ƒ1-Rçš„ä¸ªæ•°ï¼Œæ˜¯æœ‰è§„å¾‹çš„ï¼Œå†é€æ­¥å‡å»Lå‰é¢çš„æ•°,æœ€ç»ˆå¯ä»¥æ€»ç»“å‡ºä¸€ä¸ªå…¬å¼ã€‚æ³¨æ„ï¼Œå½“R&lt;2L,åº”ç›´æ¥è¿”å›ï¼Œä¸èƒ½ä½¿ç”¨å…¬å¼ä¼šå‡ºé”™ã€‚æ‰€ä»¥è¿˜æ˜¯è¦å¤šå¤šè€ƒè™‘ç‰¹æ®Šæƒ…å†µï¼Œå¤šæƒ³ä¸€äº›æµ‹è¯•ç”¨ä¾‹ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">int</span> T;<br><span class="hljs-type">int</span> l, r, sum, res; <br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;T;<br><span class="hljs-keyword">while</span>(T--)&#123;<br>cin&gt;&gt;l&gt;&gt;r;<br><span class="hljs-keyword">if</span>(r&lt;<span class="hljs-number">2</span>*l) cout&lt;&lt;<span class="hljs-string">&quot;0&quot;</span>&lt;&lt;endl;<br><span class="hljs-keyword">else</span>&#123;<br>sum = r*(r<span class="hljs-number">-1</span>)/<span class="hljs-number">2</span>;<br><span class="hljs-comment">//cout&lt;&lt;&quot;sum:&quot;&lt;&lt;sum&lt;&lt;endl;</span><br>res = (<span class="hljs-number">2</span>*r<span class="hljs-number">-2</span>*l+<span class="hljs-number">1</span>)*(l<span class="hljs-number">-1</span>);<br><span class="hljs-comment">//cout&lt;&lt;&quot;res:&quot;&lt;&lt;res&lt;&lt;endl;</span><br>cout&lt;&lt;sum-res&lt;&lt;endl;<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šä»”ç»†æ€è€ƒæ˜¯å¯ä»¥åšå‡ºæ¥çš„ï¼Œå¹¶ä¸æ˜¯å¾ˆéš¾ã€‚è¦å¤šæƒ³å‡ ç»„æµ‹è¯•ç”¨ä¾‹ã€‚</li></ul><h4 id="Eç¬¬Kå°çš„æ•°ï¼š"><a href="#Eç¬¬Kå°çš„æ•°ï¼š" class="headerlink" title="Eç¬¬Kå°çš„æ•°ï¼š"></a>Eç¬¬Kå°çš„æ•°ï¼š</h4><h5 id="æš´åŠ›ï¼š"><a href="#æš´åŠ›ï¼š" class="headerlink" title="æš´åŠ›ï¼š"></a>æš´åŠ›ï¼š</h5><ul><li>æ€è·¯ï¼šç›´æ¥æ¨¡æ‹Ÿï¼Œç”¨vectoræ¥è£…5000*5000ä¸ªæ•°æ®ï¼Œ vectorçš„sortå†™æ³•sort(c.begin(), c.end());</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long </span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> n, m, k;<br><span class="hljs-type">int</span> a[N], b[N];<br>vector &lt;<span class="hljs-type">int</span>&gt; c; <br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n&gt;&gt;m&gt;&gt;k;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) cin&gt;&gt;a[i];<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++) cin&gt;&gt;b[i];<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j++)&#123;<br>c.<span class="hljs-built_in">push_back</span>(a[i]+b[j]);<br>&#125;<br>&#125; <br><span class="hljs-built_in">sort</span>(c.<span class="hljs-built_in">begin</span>(), c.<span class="hljs-built_in">end</span>());<br>    cout&lt;&lt;c[k<span class="hljs-number">-1</span>]&lt;&lt;endl;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šå¯ä»¥æ‹¿30%åˆ†æ•°ï¼Œæ³¨æ„vectorä¸‹æ ‡ä»0å¼€å§‹</li></ul><h5 id="æ­£è§£ï¼šäºŒåˆ†"><a href="#æ­£è§£ï¼šäºŒåˆ†" class="headerlink" title="æ­£è§£ï¼šäºŒåˆ†"></a>æ­£è§£ï¼šäºŒåˆ†</h5><ul><li>æ€è·¯ï¼šå…ˆäºŒåˆ†å€¼ï¼Œæ¥é€¼è¿‘kï¼Œç„¶åå†å¥—ä¸€å±‚äºŒåˆ†ï¼Œå›ºå®šæ•°ç»„a,äºŒåˆ†æ•°ç»„bï¼Œæ‰¾åˆ°å½“å‰å€¼æ’ç¬¬å‡ ã€‚ä¸¤ä¸ªäºŒåˆ†ä¸»è¦è¦æ³¨æ„è¾¹ç•Œæƒ…å†µçš„è€ƒè™‘ï¼Œlå’Œrçš„æ›´æ–°</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long </span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> n, m, k;<br><span class="hljs-type">int</span> a[N], b[N];<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">get</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span></span>&#123;<br><span class="hljs-type">int</span> res = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br><span class="hljs-type">int</span> l = <span class="hljs-number">1</span>, r = m;<br><span class="hljs-keyword">while</span>(l&lt;r)&#123;<br><span class="hljs-type">int</span> mid = l + r + <span class="hljs-number">1</span>&gt;&gt;<span class="hljs-number">1</span>;<br><span class="hljs-keyword">if</span>(a[i] + b[mid] &gt; x)  r = mid<span class="hljs-number">-1</span>;<br><span class="hljs-keyword">else</span> l = mid;<br>&#125;<br><span class="hljs-keyword">if</span>(a[i] + b[l] &lt;= x)res += l;<br>&#125;<br><span class="hljs-keyword">return</span> res;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n&gt;&gt;m&gt;&gt;k;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) cin&gt;&gt;a[i];<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++) cin&gt;&gt;b[i];<br><span class="hljs-built_in">sort</span>(a+<span class="hljs-number">1</span>, a+<span class="hljs-number">1</span>+n);<br><span class="hljs-built_in">sort</span>(b+<span class="hljs-number">1</span>, b+<span class="hljs-number">1</span>+m);<br><span class="hljs-type">int</span> l = <span class="hljs-number">1</span>, r = <span class="hljs-number">1e18</span>;<br><span class="hljs-keyword">while</span>(l&lt;r)&#123;<br><span class="hljs-type">int</span> mid = l + r&gt;&gt;<span class="hljs-number">1</span>;<br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">get</span>(mid)&gt;=k) r = mid;<br><span class="hljs-keyword">else</span> l = mid + <span class="hljs-number">1</span>;<br>&#125; <br>cout&lt;&lt;l&lt;&lt;endl;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>å»æ€è€ƒæš´åŠ›æ‰‹æ³•ä¸ºä»€ä¹ˆå¤æ‚åº¦é«˜ï¼Œå¦‚ä½•ç®€åŒ–ï¼Œåƒè¿™é“é¢˜ï¼Œå­˜åœ¨å¾ˆæ˜æ˜¾çš„é€’å¢æ€§ï¼Œä¸¤æ¬¡äºŒåˆ†å°±å¯ä»¥è§£å†³ï¼Œä¸è¦å±€é™äºä¸€æ¬¡çš„æƒ…å†µï¼Œå­¦ä¹ äº†ã€‚</li></ul><h4 id="Fç›¸è¿çš„è¾¹ï¼š"><a href="#Fç›¸è¿çš„è¾¹ï¼š" class="headerlink" title="Fç›¸è¿çš„è¾¹ï¼š"></a>Fç›¸è¿çš„è¾¹ï¼š</h4><ul><li>æ€è·¯ï¼šå–è¾¹é•¿å’Œæœ€å¤§çš„è¿åœ¨ä¸€èµ·çš„ä¸‰æ¡è¾¹æœ‰ä¸¤ç§å¯èƒ½æ€§ï¼Œä¸€æ˜¯ä¸‰æ¡è¾¹æœ‰ä¸€ä¸ªå…±åŒç«¯ç‚¹ï¼ŒäºŒæ˜¯ä¸‰æ¡è¾¹ä¾æ¬¡ç›¸è¿ã€‚å¯¹äºä¸€çš„è¯ï¼Œå¯ä»¥éå†æ‰€æœ‰ç‚¹ï¼ŒæŠŠå®ƒæ‰€åœ¨çš„è¾¹æŒ‰è¾¹é•¿è¿›è¡Œå€’å™æ’åºï¼Œå–å‰ä¸‰æ¡å³å¯ï¼›å¯¹äºäºŒçš„è¯ï¼Œéå†æ‰€æœ‰è¾¹ï¼Œå¯¹äºå®ƒçš„ä¸¤ä¸ªç«¯ç‚¹æ‰¾æœ€å¤§çš„è¾¹é•¿ï¼Œä½†ä¸èƒ½å’Œå½“å‰è¿™æ¡è¾¹é‡å¤ï¼Œå¯ä»¥ç»™æ¯æ¡è¾¹ä¸€ä¸ªidæ¥åŒºåˆ†ã€‚ä½¿ç”¨vectoræ¥å­˜å‚¨æ¯ä¸ªç‚¹å¯¹åº”çš„è¾¹ï¼Œæ‰‹å†™è‡ªå®šä¹‰æ’åºã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">2e5</span>+<span class="hljs-number">10</span>;<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">edge</span>&#123;<br><span class="hljs-type">int</span> x, y, l, id;<br>&#125;e[N];<br>vector&lt;edge&gt; node[N];<br><span class="hljs-type">int</span> n, ans;<br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">cmp</span><span class="hljs-params">(edge a, edge b)</span></span>&#123;<br><span class="hljs-keyword">return</span> a.l&gt;b.l;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt; n; i++)&#123;<br><span class="hljs-type">int</span> x, l;<br>cin&gt;&gt;x&gt;&gt;l;<br>e[i] = &#123;x, i+<span class="hljs-number">1</span>, l, i&#125;;<br>node[x].<span class="hljs-built_in">push_back</span>(e[i]);<br>node[i+<span class="hljs-number">1</span>].<span class="hljs-built_in">push_back</span>(e[i]); <br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br><span class="hljs-built_in">sort</span>(node[i].<span class="hljs-built_in">begin</span>(), node[i].<span class="hljs-built_in">end</span>(), cmp);<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br><span class="hljs-keyword">if</span>(node[i].<span class="hljs-built_in">size</span>()&gt;=<span class="hljs-number">3</span>)&#123;<br>ans = <span class="hljs-built_in">max</span>(ans, node[i][<span class="hljs-number">0</span>].l+node[i][<span class="hljs-number">1</span>].l+node[i][<span class="hljs-number">2</span>].l);<br>&#125;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt; n; i++)&#123;<br><span class="hljs-type">int</span> x = e[i].x, y = e[i].y, l = e[i].l, id = e[i].id;<br><span class="hljs-type">int</span> tmp = l;<br><span class="hljs-keyword">if</span>(node[x].<span class="hljs-built_in">size</span>()&gt;<span class="hljs-number">1</span>)&#123;<br>tmp += node[x][<span class="hljs-number">0</span>].id == id? node[x][<span class="hljs-number">1</span>].l : node[x][<span class="hljs-number">0</span>].l;<br>&#125;<br><span class="hljs-keyword">if</span>(node[y].<span class="hljs-built_in">size</span>()&gt;<span class="hljs-number">1</span>)&#123;<br>tmp += node[y][<span class="hljs-number">0</span>].id == id? node[y][<span class="hljs-number">1</span>].l : node[y][<span class="hljs-number">0</span>].l;<br>&#125;<br>ans = <span class="hljs-built_in">max</span>(ans, tmp);<br>&#125;<br>cout&lt;&lt;ans&lt;&lt;endl; <br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šé¦–å…ˆå¯¹é—®é¢˜è¿›è¡Œåˆ†ç±»ï¼Œæ¶‰åŠåˆ°æ ‘çš„å­˜å‚¨ï¼Œä½¿ç”¨vectorï¼Œå®é™…ä¸Šå¹¶ä¸éš¾ï¼Œåªæ˜¯éœ€è¦ç»éªŒã€‚å°¤å…¶æ˜¯è¿™ç§æ ‘ä¸Šçš„é—®é¢˜ï¼Œå¤šåšå¤šç§¯ç´¯ç»éªŒã€‚</li></ul><h4 id="G01æ¸¸æˆï¼š"><a href="#G01æ¸¸æˆï¼š" class="headerlink" title="G01æ¸¸æˆï¼š"></a>G01æ¸¸æˆï¼š</h4><ul><li>æ€è·¯ï¼šä½¿ç”¨dfs+å‰ªæï¼Œæœ‰ä¸¤ç§æƒ…å†µ0æˆ–1ï¼Œå†å¾€ä¸‹æ·±å…¥ï¼Œç›´åˆ°æ‰€æœ‰éƒ½éå†è¿‡äº†ï¼ŒéªŒè¯çŸ©é˜µæ˜¯å¦åˆæ³•ï¼šæ‰€æœ‰è¡Œå’Œåˆ—ä¸èƒ½ç›¸åŒï¼Œä½¿ç”¨çŠ¶å‹æ•°ç»„æ¥è®°å½•ï¼Œä¸èƒ½æœ‰è¿ç»­ä¸‰ä¸ªç›¸åŒã€‚åˆæ³•çš„è¯å°±ç›´æ¥åœ¨dfsé‡Œè¾“å‡ºï¼Œå¹¶å°†flagç½®ä¸º1ï¼Œåç»­çš„dfsé™†ç»­returnã€‚å‰ªæï¼šåœ¨éå†è¿‡ç¨‹ä¸­éªŒè¯æ˜¯å¦å’Œå‰ä¸¤ä¸ªï¼ˆè¡Œï¼Œåˆ—ï¼‰ç›¸åŒï¼Œ0ï¼Œ1ä¸ªæ•°æ˜¯å¦&lt;&#x3D;n&#x2F;2ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long </span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">12</span>;<br>string s[N];<br><span class="hljs-type">int</span> n, flag =<span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> fr[N][<span class="hljs-number">2</span>], fc[N][<span class="hljs-number">2</span>];<br><span class="hljs-type">int</span> A[<span class="hljs-number">1050</span>], B[<span class="hljs-number">1050</span>];<br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">chk</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span></span>&#123;<br><span class="hljs-keyword">if</span>(x&gt;<span class="hljs-number">2</span>&amp;&amp;s[x<span class="hljs-number">-1</span>][y]==s[x][y]&amp;&amp;s[x<span class="hljs-number">-2</span>][y]==s[x][y]) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">if</span>(y&gt;<span class="hljs-number">2</span>&amp;&amp;s[x][y<span class="hljs-number">-1</span>]==s[x][y]&amp;&amp;s[x][y<span class="hljs-number">-2</span>]==s[x][y]) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span></span>&#123;<br><span class="hljs-keyword">if</span>(flag == <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span>;<br><span class="hljs-keyword">if</span>(x == n+<span class="hljs-number">1</span> &amp;&amp; y == <span class="hljs-number">1</span>)&#123;<br><span class="hljs-type">int</span> res = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">2</span>; j &lt; n; j++) <span class="hljs-keyword">if</span>(s[i][j] == s[i][j<span class="hljs-number">-1</span>] &amp;&amp; s[i][j] == s[i][j+<span class="hljs-number">1</span>]) res = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">2</span>; j &lt; n; j++) <span class="hljs-keyword">if</span>(s[j][i] == s[j<span class="hljs-number">-1</span>][i] &amp;&amp; s[j][i] == s[j+<span class="hljs-number">1</span>][i]) res = <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-keyword">if</span>(res == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>;<br><span class="hljs-built_in">memset</span>(A,<span class="hljs-number">0</span>,<span class="hljs-built_in">sizeof</span>(A));<br><span class="hljs-built_in">memset</span>(B,<span class="hljs-number">0</span>,<span class="hljs-built_in">sizeof</span>(B)); <br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br><span class="hljs-type">int</span> tmp = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j++)&#123;<br>tmp = tmp*<span class="hljs-number">2</span> + s[i][j]-<span class="hljs-string">&#x27;0&#x27;</span>;<br>&#125;<br><span class="hljs-keyword">if</span>(A[tmp]) res = <span class="hljs-number">0</span>;<br>A[tmp]++;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br><span class="hljs-type">int</span> tmp = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j++)&#123;<br>tmp = tmp*<span class="hljs-number">2</span> + s[j][i]-<span class="hljs-string">&#x27;0&#x27;</span>;<br>&#125;<br><span class="hljs-keyword">if</span>(B[tmp]) res = <span class="hljs-number">0</span>;<br>B[tmp]++;<br>&#125;<br><span class="hljs-keyword">if</span>(!res) <span class="hljs-keyword">return</span>;<br>flag = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i&lt;=n; i++)&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt;= n ;j++)&#123;<br>cout&lt;&lt;s[i][j];<br>&#125;<br>cout&lt;&lt;endl;<br>&#125;<br><span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-type">int</span> a = x, b = y;<br>b++;<br><span class="hljs-keyword">if</span>(b==n+<span class="hljs-number">1</span>) a++, b=<span class="hljs-number">1</span>;<br><span class="hljs-keyword">if</span>(s[x][y]!=<span class="hljs-string">&#x27;_&#x27;</span>)&#123;<br><span class="hljs-built_in">bfs</span>(a, b);<br><span class="hljs-keyword">return</span>;<br>&#125;<br>s[x][y] = <span class="hljs-string">&#x27;0&#x27;</span>;<br>fr[x][<span class="hljs-number">0</span>]++;<br>fc[y][<span class="hljs-number">0</span>]++;<br><span class="hljs-keyword">if</span>(fr[x][<span class="hljs-number">0</span>]&lt;=n/<span class="hljs-number">2</span>&amp;&amp;fc[y][<span class="hljs-number">0</span>]&lt;=n/<span class="hljs-number">2</span>&amp;&amp;<span class="hljs-built_in">chk</span>(x,y)) <span class="hljs-built_in">bfs</span>(a, b);<br>fr[x][<span class="hljs-number">0</span>]--;<br>fc[y][<span class="hljs-number">0</span>]--;<br><br>s[x][y] = <span class="hljs-string">&#x27;1&#x27;</span>;<br>fr[x][<span class="hljs-number">1</span>]++;<br>fc[y][<span class="hljs-number">1</span>]++;<br><span class="hljs-keyword">if</span>(fr[x][<span class="hljs-number">1</span>]&lt;=n/<span class="hljs-number">2</span>&amp;&amp;fc[y][<span class="hljs-number">1</span>]&lt;=n/<span class="hljs-number">2</span>&amp;&amp;<span class="hljs-built_in">chk</span>(x,y)) <span class="hljs-built_in">bfs</span>(a, b);<br>fr[x][<span class="hljs-number">1</span>]--;<br>fc[y][<span class="hljs-number">1</span>]--;<br>s[x][y]=<span class="hljs-string">&#x27;_&#x27;</span>;  <span class="hljs-comment">//è®°å¾—å›å¤ç°åœº</span><br><span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br>cin&gt;&gt;s[i];<br>s[i] = <span class="hljs-string">&#x27; &#x27;</span>+s[i];<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j++)&#123;<br><span class="hljs-keyword">if</span>(s[i][j] == <span class="hljs-string">&#x27;0&#x27;</span>)&#123;<br>fr[i][<span class="hljs-number">0</span>]++;<br>fc[j][<span class="hljs-number">0</span>]++;<br>&#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(s[i][j] == <span class="hljs-string">&#x27;1&#x27;</span>)&#123;<br>fr[i][<span class="hljs-number">1</span>]++;<br>fc[j][<span class="hljs-number">1</span>]++;<br>&#125;<br>&#125;<br>&#125;<br><span class="hljs-built_in">bfs</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>è¦å…ˆç†æ¸…æ€è·¯å†å¼€å§‹å†™ï¼Œå°¤å…¶æ˜¯dfsï¼ˆbfsï¼‰ï¼Œä¸»è¦æ˜¯æˆªæ­¢åˆ¤æ–­ï¼Œä¸‹ä¸€ä¸ªdfsçš„å†™æ³•ï¼Œè¿˜æ˜¯è¦å¤šå¤šç»ƒä¹ ã€‚å¹¶æ²¡æœ‰æƒ³è±¡çš„é‚£ä¹ˆå¤æ‚ã€‚</li></ul><h4 id="Hå­ä¸²æš´åŠ›ï¼š"><a href="#Hå­ä¸²æš´åŠ›ï¼š" class="headerlink" title="Hå­ä¸²æš´åŠ›ï¼š"></a>Hå­ä¸²æš´åŠ›ï¼š</h4><ul><li>æ€è·¯ï¼š ç»Ÿè®¡å‡ºç°æ¬¡æ•°ä¸º1-nçš„å­ä¸²ä¸ªæ•°ï¼Œå¯ä»¥é‡‡ç”¨mapç»Ÿè®¡æ‰€æœ‰å­ä¸²çš„å‡ºç°æ¬¡æ•°ï¼Œå†éå†æ‰€æœ‰mapæ¥å¯¹å‡ºç°æ¬¡æ•°è¿›è¡Œä¸€ä¸ªè®¡æ•°å³å¯ã€‚å¯ä»¥è¿‡25%ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e6</span>+<span class="hljs-number">10</span>;<br>string s; <br>unordered_map&lt;string, <span class="hljs-type">int</span>&gt; mp;<br><span class="hljs-type">int</span> cnt[N];<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;s;<br><span class="hljs-type">int</span> n = s.<span class="hljs-built_in">size</span>();<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> len = <span class="hljs-number">1</span>; len &lt;= n; len++)&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i+len<span class="hljs-number">-1</span>&lt;n; i++)&#123;<br>string t = s.<span class="hljs-built_in">substr</span>(i, len); <br>mp[t]++;<br>&#125;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> i:mp)&#123;<br><span class="hljs-type">int</span> t = i.second;<br>cnt[t]++;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br>cout&lt;&lt;cnt[i]&lt;&lt;endl;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>éœ€è¦æŒæ¡mapçš„ä½¿ç”¨ä»¥åŠè·å–ï¼Œè¿˜æœ‰å­—ç¬¦ä¸²çš„å¤„ç†ã€‚éå†æ‰€æœ‰å­—ä¸²å¯ä»¥å…ˆéå†é•¿åº¦å†éå†èµ·å§‹ç‚¹ï¼Œä½¿ç”¨substræ¥è·å–å­ä¸²ï¼Œéå†æ‰€æœ‰mapå¯ä»¥é‡‡å–autoï¼Œè·å–æ¬¡æ•°ï¼ˆmapçš„æ˜ å°„å€¼ï¼‰å¯ä»¥ä½¿ç”¨i.secondã€‚</li></ul><h4 id="Iæ ‘ä¸Šçš„è·¯å¾„æš´åŠ›ï¼š"><a href="#Iæ ‘ä¸Šçš„è·¯å¾„æš´åŠ›ï¼š" class="headerlink" title="Iæ ‘ä¸Šçš„è·¯å¾„æš´åŠ›ï¼š"></a>Iæ ‘ä¸Šçš„è·¯å¾„æš´åŠ›ï¼š</h4><ul><li>è®¡ç®—ä»»æ„ä¸¤ä¸ªç‚¹çš„è·ç¦»éœ€è¦ç”¨åˆ°lcaç®—æ³•ï¼Œå†æšä¸¾æ‰€æœ‰ä¸¤ä¸ªç‚¹çš„ç»„åˆï¼Œå¯ä»¥è¿‡65%ï¼Œå¤ªç‰›äº†ï¼æ˜¯å¯ä»¥åšåˆ°çš„ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e6</span>+<span class="hljs-number">10</span>;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; PII;<br><span class="hljs-type">int</span> n, l, r, sum[N], ans;<br>vector&lt;PII&gt; e[N];<br><span class="hljs-type">int</span> siz[N], dep[N], top[N], fa[N], son[N];<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs1</span><span class="hljs-params">(<span class="hljs-type">int</span> u ,<span class="hljs-type">int</span> father)</span></span>&#123;<span class="hljs-comment">//(1,0)</span><br>siz[u] = <span class="hljs-number">1</span>;<br>dep[u] = dep[father] + <span class="hljs-number">1</span>;<br>fa[u] = father;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; e[u].<span class="hljs-built_in">size</span>(); i++)&#123;<br><span class="hljs-type">int</span> s = e[u][i].first;<br><span class="hljs-keyword">if</span>(s == fa[u]) <span class="hljs-keyword">continue</span>;<br><span class="hljs-built_in">dfs1</span>(s, u);<br>siz[u] += siz[s];<br><span class="hljs-keyword">if</span>(siz[son[u]] &lt; siz[s])&#123;<br>son[u] = s;<br>&#125;<br>&#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs2</span><span class="hljs-params">(<span class="hljs-type">int</span> u ,<span class="hljs-type">int</span> t)</span></span>&#123;<span class="hljs-comment">//(1,1)</span><br>top[u] = t;<br><span class="hljs-keyword">if</span>(son[u] == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>;<br><span class="hljs-built_in">dfs2</span>(son[u], t);<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; e[u].<span class="hljs-built_in">size</span>(); i++)&#123;<br><span class="hljs-type">int</span> s = e[u][i].first;<br><span class="hljs-keyword">if</span>(s == fa[u] || s == son[u]) <span class="hljs-keyword">continue</span>;<br><span class="hljs-built_in">dfs2</span>(s, s);<br>&#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">lca</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span></span>&#123;<br><span class="hljs-keyword">while</span>(top[x] != top[y])&#123;<br><span class="hljs-keyword">if</span>(dep[top[x]] &lt; dep[top[y]])&#123;<br><span class="hljs-built_in">swap</span>(x, y);<br>&#125;<br>x = fa[top[x]];<br>&#125;<br><span class="hljs-keyword">return</span> dep[x] &lt; dep[y]? x : y;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">cal_sum</span><span class="hljs-params">(<span class="hljs-type">int</span> u)</span></span>&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; e[u].<span class="hljs-built_in">size</span>(); i++)&#123;<br><span class="hljs-type">int</span> x = e[u][i].first;<br><span class="hljs-keyword">if</span>(x == fa[u]) <span class="hljs-keyword">continue</span>;<br><span class="hljs-type">int</span> y = e[u][i].second;<br>sum[x] = sum[u] + y;<br><span class="hljs-built_in">cal_sum</span>(x);<br>&#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n&gt;&gt;l&gt;&gt;r;<br><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>,x; i &lt; n; i++)&#123;<br>cin&gt;&gt;x;<br>e[x].<span class="hljs-built_in">push_back</span>(&#123;i + <span class="hljs-number">1</span>,<span class="hljs-number">1</span>&#125;);<br>e[i+<span class="hljs-number">1</span>].<span class="hljs-built_in">push_back</span>(&#123;x, <span class="hljs-number">1</span>&#125;);<br>&#125;<br><span class="hljs-built_in">dfs1</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br><span class="hljs-built_in">dfs2</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);<br><span class="hljs-built_in">cal_sum</span>(<span class="hljs-number">1</span>);<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = i + <span class="hljs-number">1</span>; j &lt;=n; j++)&#123;<br><span class="hljs-type">int</span> dis = sum[i]+sum[j]<span class="hljs-number">-2</span>*sum[<span class="hljs-built_in">lca</span>(i,j)];<br><span class="hljs-comment">//cout&lt;&lt;&quot;i:&quot;&lt;&lt;i&lt;&lt;&quot; j:&quot;&lt;&lt;j&lt;&lt;&quot; dis:&quot;&lt;&lt;dis&lt;&lt;endl;</span><br><span class="hljs-keyword">if</span>(dis&gt;=l&amp;&amp;dis&lt;=r)&#123;<br>ans+=dis;<br>&#125;<br>&#125;<br>&#125; <br>cout&lt;&lt;ans&lt;&lt;endl;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šlcaè¿˜æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„ç®—æ³•ï¼Œè¦ç†Ÿç»ƒæŒæ¡ï¼Œå¦å¤–æš´åŠ›è®¡ç®—æ ‘ä¸Šä¸¤ç‚¹çš„è·ç¦»ä¹Ÿè¦ç†Ÿç»ƒæ‰è¡Œã€‚</li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2022å¹´è“æ¡¥æ¯å›½Aæ€»ç»“</title>
    <link href="/2024/05/03/%E8%93%9D%E6%A1%A5%E6%9D%AF%E5%9B%BD%E8%B5%9B%E5%A4%87%E8%B5%9B/2022%E5%B9%B4%E8%93%9D%E6%A1%A5%E6%9D%AF%E5%9B%BDA%E6%80%BB%E7%BB%93/"/>
    <url>/2024/05/03/%E8%93%9D%E6%A1%A5%E6%9D%AF%E5%9B%BD%E8%B5%9B%E5%A4%87%E8%B5%9B/2022%E5%B9%B4%E8%93%9D%E6%A1%A5%E6%9D%AF%E5%9B%BDA%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<h2 id="è“æ¡¥æ¯2022å¹´ç¬¬åä¸‰å±Šå›½èµ›çœŸé¢˜æ€»ç»“"><a href="#è“æ¡¥æ¯2022å¹´ç¬¬åä¸‰å±Šå›½èµ›çœŸé¢˜æ€»ç»“" class="headerlink" title="è“æ¡¥æ¯2022å¹´ç¬¬åä¸‰å±Šå›½èµ›çœŸé¢˜æ€»ç»“"></a>è“æ¡¥æ¯2022å¹´ç¬¬åä¸‰å±Šå›½èµ›çœŸé¢˜æ€»ç»“</h2><h4 id="Aå°è“ä¸é’¥åŒ™ï¼š"><a href="#Aå°è“ä¸é’¥åŒ™ï¼š" class="headerlink" title="Aå°è“ä¸é’¥åŒ™ï¼š"></a>Aå°è“ä¸é’¥åŒ™ï¼š</h4><ul><li>é”™æ’ï¼Œéœ€è¦æå‰æ¥è§¦è¿‡ï¼Œæˆ–è€…ç†è§£æ¸…æ¥šé¢˜æ„ï¼Œè‡ªå·±æ‰¾è§„å¾‹æ€»ç»“</li></ul><h4 id="Bæ’åˆ—è·ç¦»ï¼š"><a href="#Bæ’åˆ—è·ç¦»ï¼š" class="headerlink" title="Bæ’åˆ—è·ç¦»ï¼š"></a>Bæ’åˆ—è·ç¦»ï¼š</h4><ul><li>åº·æ‰˜å±•å¼€ï¼Œä¹Ÿéœ€è¦ä¸€å®šç®—æ³•åŸºç¡€</li></ul><h4 id="Cå†…å­˜ç©ºé—´ï¼š"><a href="#Cå†…å­˜ç©ºé—´ï¼š" class="headerlink" title="Cå†…å­˜ç©ºé—´ï¼š"></a>Cå†…å­˜ç©ºé—´ï¼š</h4><ul><li>åˆ†ç±»æ¨¡æ‹Ÿé¢˜ï¼Œå­—ç¬¦ä¸²å¤„ç†ï¼Œç»†å¿ƒä¸€ç‚¹æ˜¯å¯ä»¥åšå‡ºæ¥çš„</li></ul><h4 id="Dæœ€å¤§å…¬çº¦æ•°ï¼š"><a href="#Dæœ€å¤§å…¬çº¦æ•°ï¼š" class="headerlink" title="Dæœ€å¤§å…¬çº¦æ•°ï¼š"></a>Dæœ€å¤§å…¬çº¦æ•°ï¼š</h4><ul><li>æš´åŠ›å¯ä»¥æ‹¿80%çš„åˆ†æ•°ï¼Œå¹¶ä¸éš¾ï¼Œå¯ä»¥åšå‡ºæ¥çš„</li></ul><h4 id="E-owo"><a href="#E-owo" class="headerlink" title="E owo:"></a>E owo:</h4><ul><li>é‡‡å–éšæœºçš„æ–¹æ³•æš´åŠ›ï¼Œè¦å¯¹å­—ç¬¦ä¸²ç›¸å…³å¤„ç†æ¯”è¾ƒç†Ÿæ‚‰ï¼Œå¯ä»¥æ‹¿30%åˆ†æ•°</li></ul><h4 id="Fç¯å¢ƒæ²»ç†ï¼š"><a href="#Fç¯å¢ƒæ²»ç†ï¼š" class="headerlink" title="Fç¯å¢ƒæ²»ç†ï¼š"></a>Fç¯å¢ƒæ²»ç†ï¼š</h4><ul><li>äºŒåˆ†+Floyed,ä¸¤ä¸ªç®—æ³•éƒ½è¦æ¯”è¾ƒç†Ÿç»ƒæ‰è¡Œ</li></ul><h4 id="Gé€‰ç´ æ•°"><a href="#Gé€‰ç´ æ•°" class="headerlink" title="Gé€‰ç´ æ•°:"></a>Gé€‰ç´ æ•°:</h4><ul><li>æ•°å­¦é¢˜ï¼Œç»“åˆäº†çº¿æ€§ç­›ï¼Œæœ‰æš´åŠ›çš„å¯èƒ½ï¼Œé¦–å…ˆéœ€è¦ç ”ç©¶å‡ºé¢˜çœ¼æ˜¯æ‰¾æœ€å¤§è´¨å› å­</li></ul><h4 id="Hæ›¿æ¢å­—ç¬¦ï¼š"><a href="#Hæ›¿æ¢å­—ç¬¦ï¼š" class="headerlink" title="Hæ›¿æ¢å­—ç¬¦ï¼š"></a>Hæ›¿æ¢å­—ç¬¦ï¼š</h4><ul><li>æš´åŠ›å³å¯ï¼Œå¯ä»¥æ‹¿åˆ°ä¸€åŠå·¦å³åˆ†æ•°</li></ul><h4 id="Iä¸‰è§’åºåˆ—ï¼š"><a href="#Iä¸‰è§’åºåˆ—ï¼š" class="headerlink" title="Iä¸‰è§’åºåˆ—ï¼š"></a>Iä¸‰è§’åºåˆ—ï¼š</h4><ul><li>æš´åŠ›æ¨¡æ‹Ÿ+äºŒåˆ†ï¼Œæœ‰å¤šä¸ªå‡½æ•°åµŒå¥—å®ç°ï¼Œéœ€è¦ä»”ç»†åˆ†æåˆ†è§£é¢˜æ„</li></ul><h4 id="åˆ†æ•°åˆ†å¸ƒï¼š5-5-10-10-15-15-20-20-25-25-150åˆ†"><a href="#åˆ†æ•°åˆ†å¸ƒï¼š5-5-10-10-15-15-20-20-25-25-150åˆ†" class="headerlink" title="åˆ†æ•°åˆ†å¸ƒï¼š5+5+10+10+15+15+20+20+25+25&#x3D;150åˆ†"></a>åˆ†æ•°åˆ†å¸ƒï¼š5+5+10+10+15+15+20+20+25+25&#x3D;150åˆ†</h4><h4 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h4><ul><li>æš´åŠ›è¿˜æ˜¯å¾ˆé‡è¦çš„ï¼Œå¯ä»¥æ‹¿åˆ°ä¸å°‘åˆ†æ•°ï¼Œå¯ä»¥æ€»ç»“ä¸€äº›å¸¸ç”¨çš„æš´åŠ›æ‰‹æ®µ</li><li>åŸºç¡€ç®—æ³•æ¯”å¦‚äºŒåˆ†ï¼ŒFloyedæ‰€å±çš„å›¾è®ºï¼Œè¦å¾ˆç†Ÿç»ƒ</li><li>è¿›é˜¶ç®—æ³•ï¼šé”™æ’ï¼Œåº·æ‰˜å±•å¼€ï¼Œçº¿æ€§ç­›éƒ½å¯ä»¥å¤šå¤šå­¦ä¹ æ¥è§¦ä¸€ä¸‹ï¼ŒçœŸçš„è€ƒåˆ°äº†æ˜¯äº‹åŠåŠŸå€çš„</li><li>&#x3D;&#x3D;&#x3D;&gt;è¿˜æ˜¯æŠŠç²¾åŠ›æ”¾åœ¨<strong>æš´åŠ›å’ŒåŸºç¡€ç®—æ³•çš„è®­ç»ƒ</strong>ä¸Šï¼Œè¿›é˜¶ç®—æ³•å¯ä»¥é€‚å½“åœ°å­¦ä¹ ï¼Œè¿˜æœ‰å°±æ˜¯å¿ƒæ€çš„è®­ç»ƒï¼Œå‰ä¸¤é“é€‰æ‹©é¢˜æ²¡æ€è·¯å¯ä»¥å…ˆæœæ–­è·³è¿‡ï¼Œåé¢åˆ†æ•°æ¯”é‡æ›´é«˜ï¼Œæœºä¼šæ›´å¤š</li></ul><h2 id="è“æ¡¥æ¯2023å¹´ç¬¬åå››å±Šå›½èµ›çœŸé¢˜æ€»ç»“"><a href="#è“æ¡¥æ¯2023å¹´ç¬¬åå››å±Šå›½èµ›çœŸé¢˜æ€»ç»“" class="headerlink" title="è“æ¡¥æ¯2023å¹´ç¬¬åå››å±Šå›½èµ›çœŸé¢˜æ€»ç»“"></a>è“æ¡¥æ¯2023å¹´ç¬¬åå››å±Šå›½èµ›çœŸé¢˜æ€»ç»“</h2><h4 id="ABå¡«ç©ºé¢˜ï¼š"><a href="#ABå¡«ç©ºé¢˜ï¼š" class="headerlink" title="ABå¡«ç©ºé¢˜ï¼š"></a>ABå¡«ç©ºé¢˜ï¼š</h4><ul><li>æ¶‰åŠåˆ°çš„æ˜¯æ¯”è¾ƒä¸å¸¸ç”¨çš„ç®—æ³•ï¼Œä¸äº†è§£ç®—æ³•çš„è¯ä¹Ÿå¾ˆéš¾æš´åŠ›ï¼Œæ€§ä»·æ¯”ä¸é«˜ï¼Œäºæ˜¯è·³è¿‡</li></ul><h4 id="Cåˆ‡å‰²ï¼š"><a href="#Cåˆ‡å‰²ï¼š" class="headerlink" title="Cåˆ‡å‰²ï¼š"></a>Cåˆ‡å‰²ï¼š</h4><ul><li>æ¨¡æ‹Ÿæš´åŠ›æ±‚è§£ï¼Œæ¯”è¾ƒç®€å•çš„ä¸€é“é¢˜ç›®</li></ul><h4 id="DXYZï¼š"><a href="#DXYZï¼š" class="headerlink" title="DXYZï¼š"></a>DXYZï¼š</h4><ul><li>è§„å¾‹é¢˜ï¼Œæœ‰ç‰¹æ®Šæƒ…å†µéœ€è¦è€ƒè™‘ï¼Œéœ€è¦å‡ºä¸€äº›æµ‹è¯•æ ·ä¾‹ä¼šæ¯”è¾ƒä¿é™©</li></ul><h4 id="Eç¬¬Kå°çš„æ•°ï¼š"><a href="#Eç¬¬Kå°çš„æ•°ï¼š" class="headerlink" title="Eç¬¬Kå°çš„æ•°ï¼š"></a>Eç¬¬Kå°çš„æ•°ï¼š</h4><ul><li>æš´åŠ›ï¼šä½¿ç”¨vectoræ•°ç»„+sortå³å¯ï¼Œä»£ç ç®€å•</li><li>æ­£è§£ï¼šäºŒåˆ†+äºŒåˆ†ï¼ŒäºŒåˆ†çš„åˆ¤å®šæ¡ä»¶ä¹Ÿè¦è€ƒè™‘å¦¥å½“ï¼Œç†æ¸…æ€è·¯åå¹¶ä¸éš¾å†™ã€‚è¿™æ–¹é¢çš„æ€ç»´å¯ä»¥å†å¤šå¤šé”»ç‚¼</li></ul><h4 id="Fç›¸è¿çš„è¾¹ï¼š"><a href="#Fç›¸è¿çš„è¾¹ï¼š" class="headerlink" title="Fç›¸è¿çš„è¾¹ï¼š"></a>Fç›¸è¿çš„è¾¹ï¼š</h4><ul><li>åˆ†ç±»è®¨è®ºï¼Œæ¶‰åŠå›¾çš„å­˜å‚¨ï¼Œè¾¹çš„æ’åºï¼Œæ€è·¯å¹¶ä¸éš¾ï¼Œä½†æ˜¯ä¸å¤Ÿç†Ÿç»ƒè¿™ä¸€ç±»çš„é¢˜ç›®</li></ul><h4 id="G01æ¸¸æˆ"><a href="#G01æ¸¸æˆ" class="headerlink" title="G01æ¸¸æˆ:"></a>G01æ¸¸æˆ:</h4><ul><li>dfs+å‰ªæï¼Œå¯¹äºdfsæ€è·¯æ¸…æ™°æ¯”è¾ƒé‡è¦ï¼Œå†™çš„è¿‡ç¨‹ä¸­å‘ç°æ€è·¯è¿˜æœ‰ä¼˜ç‚¹æ··ä¹±éœ€è¦åœ¨dfsè¿™å†å¤šå¤šç»ƒä¹ ã€‚dfsçš„å†™æ³•æœ‰å¤šç§ï¼Œä½†è¦æ‰¾åˆ°ä¸€ç§è‡ªå·±ç†Ÿæ‚‰çš„æ¨¡å¼ï¼Œå›ºå®šä¸‹æ¥ã€‚</li></ul><h4 id="Hå­ä¸²ï¼š"><a href="#Hå­ä¸²ï¼š" class="headerlink" title="Hå­ä¸²ï¼š"></a>Hå­ä¸²ï¼š</h4><ul><li>ç”¨mapæ¥å®ç°å­—ç¬¦ä¸²hashï¼Œå¯ä»¥å¤šå¤šäº†è§£å­—ç¬¦ä¸²çš„å¸¸è§å¤„ç†ä»¥åŠmapè¿™äº›å¸¸ç”¨stlçš„ç”¨æ³•</li></ul><h4 id="Iæ ‘ä¸Šçš„è·¯å¾„ï¼š"><a href="#Iæ ‘ä¸Šçš„è·¯å¾„ï¼š" class="headerlink" title="Iæ ‘ä¸Šçš„è·¯å¾„ï¼š"></a>Iæ ‘ä¸Šçš„è·¯å¾„ï¼š</h4><ul><li>ç”¨LCAæš´åŠ›å¯ä»¥è·å¾—ä¸å°‘åˆ†æ•°ï¼Œè¯æ˜äº†è¿™ä¸€ç®—æ³•çš„é‡è¦æ€§ï¼Œéœ€è¦ç†Ÿç»ƒæŒæ¡ã€‚</li></ul><h4 id="æ€»ç»“ï¼š-1"><a href="#æ€»ç»“ï¼š-1" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h4><ul><li>é¦–å…ˆå…ˆæ‰“ä¸€å‰‚å¼ºå¿ƒé’ˆï¼Œä¸¤å¹´çš„çœŸé¢˜è¿‡ä¸‹æ¥ï¼Œå†å¢å¼ºå½“å‰åŸºç¡€çš„å‰æä¸‹ï¼Œæ˜¯æœ‰å¯èƒ½æ‹¿åˆ°å›½äºŒçš„ï¼Œè¦æœ‰ä¿¡å¿ƒ</li><li>éœ€è¦åŠ å¼ºçš„åŸºç¡€ç®—æ³•ï¼š<ul><li>å›¾çš„å­˜å‚¨: åŒ…æ‹¬æœ€çŸ­è·¯ç®—æ³•</li><li>dfsæš´åŠ›ï¼šå„ç§å›¾ä¸Šçš„æœç´¢</li><li>lca:æ¿å­è¦ç‰¹åˆ«ç†Ÿæ‚‰ï¼ŒåŒ…æ‹¬cal_sumè¿™ä¸ªå‡½æ•°</li><li>è¡¥å……ï¼šçº¿æ€§ç­›ï¼Œå¹¶æŸ¥é›†ï¼Œå­—ç¬¦ä¸²å¤„ç†ï¼Œmapå¤„ç†ï¼ŒdpåŸºç¡€é¢˜</li></ul></li><li>ç¨³æ‰ç¨³æ‰“ï¼Œé™¤äº†å‰ä¸¤é“é¢˜å’Œæœ€åä¸€é“é¢˜ï¼Œå…¶ä»–é¢˜ç›®éƒ½æ˜¯å¯ä»¥äº‰å–éƒ¨åˆ†åˆ†æ•°çš„ã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è“æ¡¥æ¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æœºå™¨å­¦ä¹ -æ”¯æŒå‘é‡æœº</title>
    <link href="/2024/04/22/%E6%A0%A1%E5%86%85%E5%AD%A6%E4%B9%A0/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E6%94%AF%E6%8C%81%E5%90%91%E9%87%8F%E6%9C%BA/"/>
    <url>/2024/04/22/%E6%A0%A1%E5%86%85%E5%AD%A6%E4%B9%A0/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E6%94%AF%E6%8C%81%E5%90%91%E9%87%8F%E6%9C%BA/</url>
    
    <content type="html"><![CDATA[<h2 id="æ”¯æŒå‘é‡æœº"><a href="#æ”¯æŒå‘é‡æœº" class="headerlink" title="æ”¯æŒå‘é‡æœº"></a>æ”¯æŒå‘é‡æœº</h2><h4 id="0-åˆ†ç±»ï¼š"><a href="#0-åˆ†ç±»ï¼š" class="headerlink" title="0.åˆ†ç±»ï¼š"></a>0.åˆ†ç±»ï¼š</h4><ul><li>ç¡¬é—´éš”SVMâ€”â€”çº¿æ€§å¯åˆ†</li><li>è½¯é—´éš”SVMâ€”â€”çº¿æ€§å¼±å¯åˆ†â€”â€”å¢åŠ æƒ©ç½šé¡¹</li><li>æ ¸SVMâ€”â€”çº¿æ€§ä¸å¯åˆ†ï¼ˆéçº¿æ€§SVMï¼‰â€”â€”æ˜ å°„åˆ°æ›´é«˜ç»´åº¦</li></ul><h4 id="1-é—´éš”ï¼š"><a href="#1-é—´éš”ï¼š" class="headerlink" title="1.é—´éš”ï¼š"></a>1.é—´éš”ï¼š</h4><h4 id="2-å¯¹å¶ï¼š"><a href="#2-å¯¹å¶ï¼š" class="headerlink" title="2.å¯¹å¶ï¼š"></a>2.å¯¹å¶ï¼š</h4><h4 id="3-æ ¸æŠ€å·§ï¼š"><a href="#3-æ ¸æŠ€å·§ï¼š" class="headerlink" title="3.æ ¸æŠ€å·§ï¼š"></a>3.æ ¸æŠ€å·§ï¼š</h4>]]></content>
    
    
    
    <tags>
      
      <tag>æœºå™¨å­¦ä¹ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç®—æ³•æ¦‚å¿µå’Œæ¿å­æ•´ç†</title>
    <link href="/2024/04/21/%E8%93%9D%E6%A1%A5%E6%9D%AF%E5%9B%BD%E8%B5%9B%E5%A4%87%E8%B5%9B/%E7%AE%97%E6%B3%95%E6%A6%82%E5%BF%B5%E5%92%8C%E6%9D%BF%E5%AD%90%E6%95%B4%E7%90%86/"/>
    <url>/2024/04/21/%E8%93%9D%E6%A1%A5%E6%9D%AF%E5%9B%BD%E8%B5%9B%E5%A4%87%E8%B5%9B/%E7%AE%97%E6%B3%95%E6%A6%82%E5%BF%B5%E5%92%8C%E6%9D%BF%E5%AD%90%E6%95%B4%E7%90%86/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸€äº›ç®—æ³•æ¦‚å¿µå’Œæ¿å­é›†ä¸­æ•´ç†"><a href="#ä¸€äº›ç®—æ³•æ¦‚å¿µå’Œæ¿å­é›†ä¸­æ•´ç†" class="headerlink" title="ä¸€äº›ç®—æ³•æ¦‚å¿µå’Œæ¿å­é›†ä¸­æ•´ç†"></a>ä¸€äº›ç®—æ³•æ¦‚å¿µå’Œæ¿å­é›†ä¸­æ•´ç†</h2><h3 id="ç®—æ³•æ¦‚å¿µï¼š"><a href="#ç®—æ³•æ¦‚å¿µï¼š" class="headerlink" title="ç®—æ³•æ¦‚å¿µï¼š"></a>ç®—æ³•æ¦‚å¿µï¼š</h3><h4 id="1-é”™æ’ï¼š"><a href="#1-é”™æ’ï¼š" class="headerlink" title="1.é”™æ’ï¼š"></a>1.é”™æ’ï¼š</h4><ul><li>nä¸ªæœ‰åºçš„å…ƒç´ åº”æœ‰n!ä¸ªä¸åŒçš„æ’åˆ—ï¼Œå¦‚è‹¥ä¸€ä¸ªæ’åˆ—ä½¿å¾—æ‰€æœ‰çš„å…ƒç´ ä¸åœ¨åŸæ¥çš„ä½ç½®ä¸Šï¼Œåˆ™ç§°è¿™ä¸ªæ’åˆ—ä¸ºé”™æ’</li><li>d[1] &#x3D; 0, d[2] &#x3D; 1,d[3] &#x3D; 2</li><li>d[n] &#x3D; (n-1)*(d[n-1]+d[n-2]) æ•°æ®ä¸€èˆ¬è¾ƒå¤§ï¼Œå¼€long long</li></ul><h4 id="2-åº·æ‰˜å±•å¼€ï¼š"><a href="#2-åº·æ‰˜å±•å¼€ï¼š" class="headerlink" title="2.åº·æ‰˜å±•å¼€ï¼š"></a>2.åº·æ‰˜å±•å¼€ï¼š</h4><ul><li><p><strong>åº·æ‰˜å±•å¼€</strong>æ˜¯ä¸€ä¸ªå…¨æ’åˆ—åˆ°ä¸€ä¸ªè‡ªç„¶æ•°çš„æ˜ å°„ï¼Œä»0å¼€å§‹ç¼–å·ï¼Œå…¨æ’åˆ—çš„å­—ç¬¦ä¸²ä¸­æŸä¸€ä¸ªçš„ç¼–å·æ˜¯<strong>ai*f[len-1-i]</strong>,aiè¡¨ç¤ºåé¢å°äºå½“å‰æ•°å­—çš„ä¸ªæ•°ï¼Œfæ•°ç»„è¡¨ç¤ºé˜¶ä¹˜</p></li><li><p><strong>åº·æ‰˜é€†å±•å¼€</strong>ï¼Œç»™å®šä¸€ä¸ªè‡ªç„¶æ•°ï¼Œæ±‚å¯¹åº”çš„å…¨æ’åˆ—ä¸­çš„æŸä¸€ä¸ªå­—ç¬¦ä¸²</p><ul><li><p>å¦‚æœåˆå§‹åºåˆ—æ˜¯12345ï¼ˆç¬¬ä¸€ä¸ªï¼‰ï¼Œè®©ä½ æ±‚ç¬¬107ä¸ªåºåˆ—æ˜¯ä»€ä¹ˆã€‚ï¼ˆæŒ‰å­—å…¸åºé€’å¢ï¼‰</p><p>å…ˆæŠŠ107å‡1ï¼Œå› ä¸ºåº·æ‰˜å±•å¼€é‡Œçš„åˆå§‹åºåˆ—ç¼–å·ä¸º0<br>ç„¶åè®¡ç®—ä¸‹åç¼€ç§¯ï¼š<br>  1      2      3    4    5<br>  5ï¼  4ï¼  3ï¼ 2ï¼1ï¼ 0ï¼<br>120   24     6    2    1     1</p><p>106 &#x2F;  4! &#x3D; 4 Â·Â·Â·Â·Â·Â· 10 æœ‰4ä¸ªæ¯”å®ƒå°çš„æ‰€ä»¥å› è¯¥æ˜¯5   ä»ï¼ˆ1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ï¼‰é‡Œé€‰<br>10   &#x2F;  3!  &#x3D; 1 Â·Â·Â·Â·Â·Â· 4  æœ‰1ä¸ªæ¯”å®ƒå°çš„æ‰€ä»¥å› è¯¥æ˜¯2   ä»ï¼ˆ1ï¼Œ 2ï¼Œ 3ï¼Œ 4ï¼‰é‡Œé€‰<br> 4    &#x2F;  2!  &#x3D; 2 Â·Â·Â·Â·Â·Â· 0  æœ‰2ä¸ªæ¯”å®ƒå°çš„æ‰€ä»¥å› è¯¥æ˜¯4   ä»ï¼ˆ1ï¼Œ 3ï¼Œ 4ï¼‰é‡Œé€‰<br> 0    &#x2F;  1!  &#x3D; 0 Â·Â·Â·Â·Â·Â· 0  æœ‰0ä¸ªæ¯”å®ƒå°çš„æ‰€ä»¥å› è¯¥æ˜¯1   ä»ï¼ˆ1ï¼Œ3ï¼‰é‡Œé€‰<br> 0    &#x2F;  0!  &#x3D; 0 Â·Â·Â·Â·Â·Â· 0  æœ‰0ä¸ªæ¯”å®ƒå°çš„æ‰€ä»¥å› è¯¥æ˜¯3   ä»ï¼ˆ3ï¼‰é‡Œé€‰</p><p>æ‰€ä»¥ç¼–å·107çš„æ˜¯ 52413</p></li></ul></li><li><p>ä»£ç ï¼š</p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long </span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">20</span>;<br><span class="hljs-type">int</span> f[<span class="hljs-number">25</span>];<br><span class="hljs-type">int</span> num;<br>vector&lt;<span class="hljs-type">char</span>&gt; vec;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">jie_cheng</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span></span>&#123;<br>f[<span class="hljs-number">0</span>] = f[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; i++)&#123;<br>f[i] = i * f[i<span class="hljs-number">-1</span>];<br>&#125;<br><span class="hljs-keyword">return</span>;<br>&#125; <br><span class="hljs-function">string <span class="hljs-title">re_kangtuo</span><span class="hljs-params">(<span class="hljs-type">int</span> k)</span></span>&#123;<br><span class="hljs-type">int</span> n = vec.<span class="hljs-built_in">size</span>();<br>k--;<br>string ans = <span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br><span class="hljs-type">int</span> t = k / f[n-i];<br>ans += vec[t];<br>k %= f[n-i];<br>vec.<span class="hljs-built_in">erase</span>(vec.<span class="hljs-built_in">begin</span>()+t);<br>&#125;<br><span class="hljs-keyword">return</span> ans;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-built_in">jie_cheng</span>(N);<br><span class="hljs-type">int</span> x = <span class="hljs-number">107</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= N; i++)&#123;<br><span class="hljs-keyword">if</span>(x / f[i] == <span class="hljs-number">0</span>)&#123;<br>num = i;<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= num; i++)&#123;<br>vec.<span class="hljs-built_in">push_back</span>(<span class="hljs-string">&#x27;0&#x27;</span> + i);<br>&#125;<br>cout&lt;&lt;<span class="hljs-built_in">re_kangtuo</span>(x)&lt;&lt;endl;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="3-çº¿æ€§ç­›ï¼š"><a href="#3-çº¿æ€§ç­›ï¼š" class="headerlink" title="3.çº¿æ€§ç­›ï¼š"></a>3.çº¿æ€§ç­›ï¼š</h4><ul><li>O[N]çš„æ—¶é—´å¤æ‚åº¦æ¥æ±‚ä¸€ä¸ªèŒƒå›´å†…çš„ç´ æ•°ã€‚<strong>i % prime[j] &#x3D;&#x3D; 0</strong>æ˜¯å…³é”®ï¼Œä¸¾ä¾‹30&#x3D;2 * 15 &#x3D; 10 * 3ï¼Œä¸ºäº†ä½¿å¾—30åªç­›é™¤ä¸€æ¬¡ï¼Œå½“i &#x3D; 10æ—¶ï¼Œå‘ç°i%prime[j] (2) &#x3D;&#x3D; 0,è¯´æ˜ä¹‹åçš„æ•°å­—ä¹Ÿå‡å¯ä»¥è¢«2æ•´é™¤ï¼Œæ‰€ä»¥è·³å‡ºjçš„forå¾ªç¯ï¼ŒæŠŠç­›é™¤çš„æœºä¼šç•™åˆ°åé¢ï¼Œå³ç”¨æœ€å°çš„è´¨å› å­å»ç­›ã€‚</li><li>å¦å¤–ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­è¿˜å¯ä»¥æ±‚ä¸€ä¸ªèŒƒå›´å†…æ‰€æœ‰æ•°çš„æœ€å¤§è´¨å› å­</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Linear_sieve</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; i++)&#123;<br>isprime[i] = <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; i++)&#123;<br><span class="hljs-keyword">if</span>(isprime[i])&#123;<br>t++;<br>prime[t] = i;<br><span class="hljs-comment">//p[i] = i;</span><br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt;= t&amp;&amp;prime[j]*i&lt;=n; j++)&#123;<br><span class="hljs-comment">//p[prime[j]*i] = max(p[i], prime[j]);</span><br>isprime[prime[j]*i] = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">if</span>(i % prime[j] == <span class="hljs-number">0</span>)&#123;<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>è“æ¡¥æ¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>4.20å­¦æœ¯èŠ‚</title>
    <link href="/2024/04/21/%E7%94%9F%E6%B4%BB%E4%B8%8E%E6%8A%80%E6%9C%AF/4-20%E5%AD%A6%E6%9C%AF%E8%8A%82/"/>
    <url>/2024/04/21/%E7%94%9F%E6%B4%BB%E4%B8%8E%E6%8A%80%E6%9C%AF/4-20%E5%AD%A6%E6%9C%AF%E8%8A%82/</url>
    
    <content type="html"><![CDATA[<h2 id="4-20å­¦æ ¡å­¦æœ¯èŠ‚"><a href="#4-20å­¦æ ¡å­¦æœ¯èŠ‚" class="headerlink" title="4.20å­¦æ ¡å­¦æœ¯èŠ‚"></a>4.20å­¦æ ¡å­¦æœ¯èŠ‚</h2><h4 id="å°èŠ‚ï¼š"><a href="#å°èŠ‚ï¼š" class="headerlink" title="å°èŠ‚ï¼š"></a>å°èŠ‚ï¼š</h4><p>è¶…å‡ºé¢„æœŸçš„ä¸€åœºå­¦æœ¯æ´»åŠ¨</p><p>ä¸Šåˆçš„å­¦æœ¯å¤§ä½¬ä»¬æ±‡æŠ¥åˆ†äº«æœ€å‰æ²¿çš„æŠ€æœ¯å’Œåšç§‘ç ”çš„å¿ƒå¾—</p><p>ä¸‹åˆåç ”ç©¶ç”Ÿå­¦é•¿å­¦å§ä»¬åˆ†äº«è®ºæ–‡å±•æ¿</p><p>å¤§å¤§å¼€æ‹“äº†çœ¼ç•Œ</p><h4 id="ä¸€äº›è®°å½•ï¼š"><a href="#ä¸€äº›è®°å½•ï¼š" class="headerlink" title="ä¸€äº›è®°å½•ï¼š"></a>ä¸€äº›è®°å½•ï¼š</h4><img src="01.jpg" alt="02" width="400px"><p>é’å¹´æ•™å¸ˆç§‘ç ”çš„åˆ†äº«</p><img src="02.jpg" alt="02" width="400px"><p>å¤§éƒ¨åˆ†è€å¸ˆåˆ†äº«çš„éƒ½ä¸å¤§æ¨¡å‹AIç›¸å…³</p><img src="03.jpg" alt="03" width="400px"><p>ä½œä¸ºå°ç™½ï¼Œåœ¨å­¦é•¿çš„è§£è¯´ä¸‹ä¹Ÿæ˜ç™½äº†åšçš„æ˜¯ä»€ä¹ˆï¼Œæ€ä¹ˆåšçš„ã€‚è¡¨è¾¾é€»è¾‘éå¸¸æ¸…æ™°ç®€æ´ï¼Œè¶…çº§å‰å®³ğŸ‘</p>]]></content>
    
    
    
    <tags>
      
      <tag>æ´»åŠ¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç¬¬åä¸‰å±Šè“æ¡¥æ¯å›½èµ›çœŸé¢˜è®­ç»ƒ</title>
    <link href="/2024/04/20/%E8%93%9D%E6%A1%A5%E6%9D%AF%E5%9B%BD%E8%B5%9B%E5%A4%87%E8%B5%9B/%E7%AC%AC%E5%8D%81%E4%B8%89%E5%B1%8A%E8%93%9D%E6%A1%A5%E6%9D%AF%E5%9B%BD%E8%B5%9B%E7%9C%9F%E9%A2%98%E8%AE%AD%E7%BB%83/"/>
    <url>/2024/04/20/%E8%93%9D%E6%A1%A5%E6%9D%AF%E5%9B%BD%E8%B5%9B%E5%A4%87%E8%B5%9B/%E7%AC%AC%E5%8D%81%E4%B8%89%E5%B1%8A%E8%93%9D%E6%A1%A5%E6%9D%AF%E5%9B%BD%E8%B5%9B%E7%9C%9F%E9%A2%98%E8%AE%AD%E7%BB%83/</url>
    
    <content type="html"><![CDATA[<h2 id="2022å¹´è“æ¡¥æ¯å›½èµ›çœŸé¢˜"><a href="#2022å¹´è“æ¡¥æ¯å›½èµ›çœŸé¢˜" class="headerlink" title="2022å¹´è“æ¡¥æ¯å›½èµ›çœŸé¢˜"></a>2022å¹´è“æ¡¥æ¯å›½èµ›çœŸé¢˜</h2><h4 id="Aå°è“äºé’¥åŒ™ï¼š"><a href="#Aå°è“äºé’¥åŒ™ï¼š" class="headerlink" title="Aå°è“äºé’¥åŒ™ï¼š"></a>Aå°è“äºé’¥åŒ™ï¼š</h4><ul><li>æ€è·¯ï¼šä¸»è¦åœ¨äºC14 28çš„æ±‚è§£ä»¥åŠé”™æ’çš„æ±‚è§£ã€‚é”™æ’æ˜¯ä¸€ç§åŸºäºæ¨å¯¼å¯ä»¥å¾—å‡ºçš„dp,D[n] &#x3D; (n-1)*(D[n-1]+D[n-2])</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">int</span> ans = <span class="hljs-number">1</span>;<br><span class="hljs-type">int</span> d[<span class="hljs-number">20</span>];<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-type">int</span> cnt = <span class="hljs-number">2</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">15</span>; i &lt;= <span class="hljs-number">28</span>; i++)&#123;<br>    ans = ans * i;<br>    <span class="hljs-keyword">while</span>(ans % cnt == <span class="hljs-number">0</span> &amp;&amp; cnt &lt;= <span class="hljs-number">14</span>)&#123;<br>    ans /= cnt;<br>    cnt++;<br>&#125;<br>&#125;<br>d[<span class="hljs-number">2</span>] = <span class="hljs-number">1</span>;<br>d[<span class="hljs-number">3</span>] = <span class="hljs-number">2</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">3</span>; i &lt;= <span class="hljs-number">14</span>; i++)&#123;<br>d[i] = <span class="hljs-number">1ll</span>*(i<span class="hljs-number">-1</span>) *(d[i<span class="hljs-number">-1</span>] + d[i<span class="hljs-number">-2</span>]);<br>&#125;<br>cout&lt;&lt;ans*d[<span class="hljs-number">14</span>]&lt;&lt;endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šè¦ç†è§£æ¸…æ¥šé¢˜æ„ï¼Œææ¸…æ¦‚å¿µï¼Œå­¦ä¹ äº†é”™æ’è¿™ä¸€ç®—æ³•</li></ul><h4 id="Bæ’åˆ—è·ç¦»ï¼š"><a href="#Bæ’åˆ—è·ç¦»ï¼š" class="headerlink" title="Bæ’åˆ—è·ç¦»ï¼š"></a>Bæ’åˆ—è·ç¦»ï¼š</h4><ul><li>æ€è·¯ï¼šåº·æ‰˜å±•å¼€ï¼Œä»0å¼€å§‹ç¼–å·ï¼Œå…¨æ’åˆ—çš„å­—ç¬¦ä¸²ä¸­æŸä¸€ä¸ªçš„ç¼–å·æ˜¯<strong>ai*f[len-1-i]</strong>,aiè¡¨ç¤ºåé¢å°äºå½“å‰æ•°å­—çš„ä¸ªæ•°ï¼Œfæ•°ç»„è¡¨ç¤ºé˜¶ä¹˜ã€‚æ³¨æ„æœ€ç»ˆæ¯”è¾ƒå¤§å°æ—¶çš„è¾¹ç•Œé—®é¢˜ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long </span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">20</span>;<br><span class="hljs-type">int</span> f[<span class="hljs-number">21</span>];<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">jie_cheng</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span></span>&#123;<br>f[<span class="hljs-number">0</span>] = f[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; i++)&#123;<br>f[i] = i * f[i<span class="hljs-number">-1</span>];<br>&#125;<br><span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">kangtuo</span><span class="hljs-params">(string str)</span></span>&#123;<br><span class="hljs-type">int</span> len = str.<span class="hljs-built_in">length</span>();<br><span class="hljs-type">int</span> ans = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; len; i++)&#123;<br><span class="hljs-type">int</span> tmp = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = i + <span class="hljs-number">1</span>; j &lt; len; j++)&#123;<br><span class="hljs-keyword">if</span>(str[i] &gt; str[j]) tmp++;<br>&#125;<br>ans += tmp * f[len<span class="hljs-number">-1</span>-i];<br>&#125;<br><span class="hljs-keyword">return</span> ans;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-built_in">jie_cheng</span>(N);<br><span class="hljs-type">int</span> s1 = <span class="hljs-built_in">kangtuo</span>(<span class="hljs-string">&quot;aejcldbhpiogfqnkr&quot;</span>);<br><span class="hljs-type">int</span> s2 = <span class="hljs-built_in">kangtuo</span>(<span class="hljs-string">&quot;ncfjboqiealhkrpgd&quot;</span>);<br><span class="hljs-type">int</span> ans = <span class="hljs-built_in">min</span>(s2-s1,f[<span class="hljs-number">17</span>]-(s2-s1));<br>cout&lt;&lt;ans&lt;&lt;endl;<br><br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="Cå†…å­˜ç©ºé—´ï¼š"><a href="#Cå†…å­˜ç©ºé—´ï¼š" class="headerlink" title="Cå†…å­˜ç©ºé—´ï¼š"></a>Cå†…å­˜ç©ºé—´ï¼š</h4><ul><li>æ€è·¯ï¼šæ¨¡æ‹Ÿé¢˜ï¼Œä¸»è¦è€ƒéªŒå­—ç¬¦ä¸²çš„å¤„ç†ï¼Œé€è¡Œè¾“å…¥ï¼Œé‡‡ç”¨getline(cin, s)ã€‚å¦å¤–ï¼Œcin&gt;&gt;tä¹‹åè¦getchar()å–èµ°ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚å…ˆåˆ†å¥½ç±»ï¼Œå†é€ä¸ªå®ç°ï¼Œå¹¶ä¸éš¾ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long </span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">int</span> t, ans, a[<span class="hljs-number">4</span>];<br>string s, mp[<span class="hljs-number">4</span>] = &#123;<span class="hljs-string">&quot;GB&quot;</span>, <span class="hljs-string">&quot;MB&quot;</span>, <span class="hljs-string">&quot;KB&quot;</span>, <span class="hljs-string">&quot;B&quot;</span>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">solve1</span><span class="hljs-params">()</span></span>&#123;<br><span class="hljs-type">int</span> m, num = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">if</span>(s[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;i&#x27;</span>) m = <span class="hljs-number">4</span>;<br><span class="hljs-keyword">else</span> m = <span class="hljs-number">8</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; s.<span class="hljs-built_in">length</span>(); i++)&#123;<br><span class="hljs-keyword">if</span>(s[i] == <span class="hljs-string">&#x27;=&#x27;</span>)&#123;<br>num ++;<br>&#125;<br>&#125;<br>ans += num*m;<br><span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">solve2</span><span class="hljs-params">()</span></span>&#123;<br><span class="hljs-type">int</span> m;<br><span class="hljs-keyword">if</span>(s[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;i&#x27;</span>) m = <span class="hljs-number">4</span>;<br><span class="hljs-keyword">else</span> m = <span class="hljs-number">8</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; s.<span class="hljs-built_in">length</span>(); i++)&#123;<br><span class="hljs-keyword">if</span>(s[i] == <span class="hljs-string">&#x27;[&#x27;</span>)&#123;<br><span class="hljs-type">int</span> num = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = i + <span class="hljs-number">1</span>; s[j] != <span class="hljs-string">&#x27;]&#x27;</span>; j++)&#123;<br>num = num * <span class="hljs-number">10</span> + (s[j]-<span class="hljs-string">&#x27;0&#x27;</span>);<br>&#125;<br>ans += m*num;<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">solve3</span><span class="hljs-params">()</span></span>&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; s.<span class="hljs-built_in">length</span>(); i++)&#123;<br><span class="hljs-keyword">if</span>(s[i] == <span class="hljs-string">&#x27;&quot;&#x27;</span> &amp;&amp; s[i<span class="hljs-number">-1</span>] == <span class="hljs-string">&#x27;=&#x27;</span>)&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = i + <span class="hljs-number">1</span>; s[j] != <span class="hljs-string">&#x27;&quot;&#x27;</span>; j++)&#123;<br>ans++;<br>&#125;<br>&#125;<br>&#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;t;<br><span class="hljs-built_in">getchar</span>();<br><span class="hljs-keyword">while</span>(t--)&#123;<br><span class="hljs-built_in">getline</span>(cin, s);<br><span class="hljs-keyword">if</span>((s[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;i&#x27;</span> &amp;&amp; s[<span class="hljs-number">3</span>] == <span class="hljs-string">&#x27;[&#x27;</span>)|| (s[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;l&#x27;</span> &amp;&amp; s[<span class="hljs-number">4</span>] == <span class="hljs-string">&#x27;[&#x27;</span>))&#123;<br><span class="hljs-built_in">solve2</span>();<br>&#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (s[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;S&#x27;</span>)&#123;<br><span class="hljs-built_in">solve3</span>();<br>&#125;<span class="hljs-keyword">else</span>&#123;<br><span class="hljs-built_in">solve1</span>();<br>&#125;<br>&#125;<br><span class="hljs-type">int</span> cur = <span class="hljs-number">4</span>;<br><span class="hljs-keyword">while</span>(ans)&#123;<br>a[--cur] = ans % <span class="hljs-number">1024</span>;<br>ans /= <span class="hljs-number">1024</span>;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">3</span>; i++)&#123;<br><span class="hljs-keyword">if</span>(a[i])&#123;<br>cout&lt;&lt;a[i]&lt;&lt;mp[i];<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="Dæœ€å¤§å…¬çº¦æ•°ï¼š"><a href="#Dæœ€å¤§å…¬çº¦æ•°ï¼š" class="headerlink" title="Dæœ€å¤§å…¬çº¦æ•°ï¼š"></a>Dæœ€å¤§å…¬çº¦æ•°ï¼š</h4><h5 id="æš´åŠ›ï¼š"><a href="#æš´åŠ›ï¼š" class="headerlink" title="æš´åŠ›ï¼š"></a>æš´åŠ›ï¼š</h5><ul><li>æ€è·¯ï¼šæœ‰ä¸€ä¸ª1å°±å¥½åŠäº†ï¼Œæ‰€ä»¥æ²¡æœ‰1çš„è¯å°±æ‰¾æœ€çŸ­çš„ä¸€ä¸ªèŒƒå›´[a,b]å†…çš„æ•°çš„gcdä¸º1ï¼Œéœ€è¦è¿›è¡Œb-a+1æ¬¡å‡ºç°ä¸€ä¸ª1ï¼Œç„¶åå°±æ˜¯åŠ ä¸Šn-1æ¬¡ï¼Œæ‰€æœ‰æ•°éƒ½ä¼šå˜ä¸º1</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long </span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> n, a[N];<br><span class="hljs-type">int</span> ans = <span class="hljs-number">1e9</span>;<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n;<br><span class="hljs-type">int</span> cnt = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br>cin&gt;&gt;a[i];<br><span class="hljs-keyword">if</span>(a[i]==<span class="hljs-number">1</span>) cnt++;<br>&#125; <br><span class="hljs-keyword">if</span>(cnt)&#123;<br>cout&lt;&lt;n-cnt&lt;&lt;endl;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt; n; i++)&#123;<br><span class="hljs-type">int</span> x = a[i], sum = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = i + <span class="hljs-number">1</span>; j &lt;= n; j++)&#123;<br>sum++;<br>x=__gcd(x,a[j]);<br><span class="hljs-keyword">if</span>(x==<span class="hljs-number">1</span>)&#123;<br>ans = <span class="hljs-built_in">min</span>(ans, sum);<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br>&#125;<br><br><span class="hljs-keyword">if</span>(ans == <span class="hljs-number">1e9</span>)&#123;<br>cout&lt;&lt;<span class="hljs-string">&quot;-1&quot;</span>&lt;&lt;endl;<br>&#125;<span class="hljs-keyword">else</span>&#123;<br>cout&lt;&lt;n<span class="hljs-number">-1</span>+ans&lt;&lt;endl;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šæš´åŠ›çš„æ€è·¯å¹¶ä¸éš¾ï¼ŒæŠ“ä½1è¿™ä¸ªé¢˜çœ¼å³å¯</li></ul><h5 id="æ­£è§£ï¼šçº¿æ®µæ ‘-åŒæŒ‡é’ˆï¼š"><a href="#æ­£è§£ï¼šçº¿æ®µæ ‘-åŒæŒ‡é’ˆï¼š" class="headerlink" title="æ­£è§£ï¼šçº¿æ®µæ ‘+åŒæŒ‡é’ˆï¼š"></a>æ­£è§£ï¼šçº¿æ®µæ ‘+åŒæŒ‡é’ˆï¼š</h5><ul><li>æ€è·¯ï¼šç›®æ ‡æ˜¯æ±‚æœ€çŸ­åŒºé—´æ»¡è¶³å…¶gcdä¸º1ï¼Œå¯ä»¥ä½¿ç”¨çº¿æ®µæ ‘æ¥ç»´æŠ¤å®ç°å¿«é€ŸæŸ¥è¯¢ï¼Œåˆ©ç”¨åŒæŒ‡é’ˆé™ä½æ—¶é—´å¤æ‚åº¦ï¼Œå¾ˆå·§å¦™çš„ç»“åˆ</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e5</span>+<span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> n, a[N]; <br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">node</span>&#123;<br><span class="hljs-type">int</span> l,r,g;<br>&#125;tr[N*<span class="hljs-number">4</span>];<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-type">int</span> k, <span class="hljs-type">int</span> l, <span class="hljs-type">int</span> r)</span></span>&#123;<br>tr[k].l = l, tr[k].r = r;<br><span class="hljs-keyword">if</span>(l == r)&#123;<br>tr[k].g = a[l];<br><span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-type">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br><span class="hljs-built_in">build</span>(k*<span class="hljs-number">2</span>, l, mid);<br><span class="hljs-built_in">build</span>(k*<span class="hljs-number">2</span>+<span class="hljs-number">1</span>, mid+<span class="hljs-number">1</span>, r);<br>tr[k].g = __gcd(tr[k*<span class="hljs-number">2</span>].g, tr[k*<span class="hljs-number">2</span>+<span class="hljs-number">1</span>].g);<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">search</span><span class="hljs-params">(<span class="hljs-type">int</span> k, <span class="hljs-type">int</span> l, <span class="hljs-type">int</span> r)</span></span>&#123;<br><span class="hljs-keyword">if</span>(tr[k].l&gt;=l &amp;&amp; tr[k].r&lt;=r) <span class="hljs-keyword">return</span> tr[k].g;<br><span class="hljs-type">int</span> ans = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> mid = tr[k].l+tr[k].r&gt;&gt;<span class="hljs-number">1</span>;<br><span class="hljs-keyword">if</span>(l &lt;= mid) ans = __gcd(ans, <span class="hljs-built_in">search</span>(<span class="hljs-number">2</span>*k, l, r));<br><span class="hljs-keyword">if</span>(r &gt; mid) ans = __gcd(ans, <span class="hljs-built_in">search</span>(<span class="hljs-number">2</span>*k+<span class="hljs-number">1</span>, l, r));<br><span class="hljs-keyword">return</span> ans;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n;<br><span class="hljs-type">int</span> cnt = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br>cin&gt;&gt;a[i];<br><span class="hljs-keyword">if</span>(a[i] == <span class="hljs-number">1</span>) cnt++;<br>&#125;<br><span class="hljs-keyword">if</span>(cnt)&#123;<br>cout&lt;&lt;n-cnt&lt;&lt;endl;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-built_in">build</span>(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,n);<br><span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;<br><span class="hljs-type">int</span> ans = <span class="hljs-number">1e9</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt;=n; j++)&#123;<br><span class="hljs-keyword">while</span>(i&lt;j &amp;&amp; <span class="hljs-built_in">search</span>(<span class="hljs-number">1</span>, i+<span class="hljs-number">1</span>, j) == <span class="hljs-number">1</span>) i++;<br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">search</span>(<span class="hljs-number">1</span>,i,j) == <span class="hljs-number">1</span>) ans = <span class="hljs-built_in">min</span>(ans, j-i);<br>&#125;<br><span class="hljs-keyword">if</span>(ans == <span class="hljs-number">1e9</span>) cout&lt;&lt;<span class="hljs-string">&quot;-1&quot;</span>&lt;&lt;endl;<br><span class="hljs-keyword">else</span> cout&lt;&lt;n<span class="hljs-number">-1</span>+ans&lt;&lt;endl; <br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šçº¿æ®µæ ‘è¿™éƒ¨åˆ†ç†Ÿæ‚‰ä¸€ä¸‹è¿˜æ˜¯æ¯”è¾ƒå¥½ç†è§£çš„ï¼Œç»“åˆ<strong>åŒæŒ‡é’ˆ</strong>è¿™é‡Œè¿˜æ˜¯ä¸æ˜¯ç‰¹åˆ«æ¸…æ¥šï¼Œå¥½åƒæ˜¯<strong>æŠŠå¾ˆå¤šä¸å¿…è¦çš„æƒ…å†µè·³è¿‡äº†</strong>ï¼Œä»è€Œé™ä½äº†æ—¶é—´å¤æ‚åº¦ã€‚</li></ul><h4 id="Eowo"><a href="#Eowo" class="headerlink" title="Eowo:"></a>Eowo:</h4><ul><li>æ€è·¯ï¼šé‡‡å–ä¸€ç§å¾ˆç‰¹åˆ«çš„æ‰‹æ³•ï¼Œéšæœºï¼Œä»¥æœ€å¤§çš„å¯èƒ½å»æµ‹å‡ºç»“æœï¼Œä¸å­—ç¬¦ä¸²çš„æ“ä½œå¾ˆå¯†åˆ‡ï¼ŒåŒ…æ‹¬findå‡½æ•°ï¼Œrandom_shuffleå‡½æ•°</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e6</span>+<span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> n, ans;<br>string st[N]; <br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)&#123;<br>cin&gt;&gt;st[i];<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">5e3</span>; j++ )&#123;<br><span class="hljs-built_in">random_shuffle</span>(st, st+i+<span class="hljs-number">1</span>);<br>string t;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> k = <span class="hljs-number">0</span>; k &lt;= i; k++)&#123;<br>t = t + st[k];<br>&#125;<br><span class="hljs-type">int</span> res = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> p = t.<span class="hljs-built_in">find</span>(<span class="hljs-string">&quot;owo&quot;</span>);<br><span class="hljs-keyword">while</span>(p != <span class="hljs-number">-1</span>)&#123;<br>res++;<br>p = t.<span class="hljs-built_in">find</span>(<span class="hljs-string">&quot;owo&quot;</span>, p+<span class="hljs-number">1</span>);<br>&#125;<br>ans = <span class="hljs-built_in">max</span>(ans, res);<br>&#125;<br>cout&lt;&lt;ans&lt;&lt;endl;<br>&#125;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šæ‹“å±•çš„é¢˜ç›®ï¼Œæ­£å¸¸æš´åŠ›æƒ…å†µå¤ªå¤šå¤ªå¤æ‚äº†</li></ul><h4 id="Fç¯å¢ƒæ²»ç†ï¼š"><a href="#Fç¯å¢ƒæ²»ç†ï¼š" class="headerlink" title="Fç¯å¢ƒæ²»ç†ï¼š"></a>Fç¯å¢ƒæ²»ç†ï¼š</h4><ul><li>æ€è·¯ï¼šå­˜åœ¨æ˜æ˜¾çš„äºŒåˆ†æ€§ï¼Œå¯¹äºæœ€ç»ˆçš„å€¼çš„æ±‚è§£åŸºäºFloyedç®—æ³•ï¼Œç®—å‡ºæ¯ä¸¤ç‚¹ä¹‹é—´æœ€è¿‘çš„è·ç¦»ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">105</span>;<br><span class="hljs-type">int</span> n,q;<br><span class="hljs-type">int</span> d[N][N], limit[N][N], tmp[N][N]; <br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">cal</span><span class="hljs-params">(<span class="hljs-type">int</span> day)</span></span>&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j++)&#123;<br>tmp[i][j] = d[i][j];<br>&#125;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)&#123;<br><span class="hljs-type">int</span> val = day/n + (day%n<span class="hljs-number">-1</span>&gt;=i?<span class="hljs-number">1</span>:<span class="hljs-number">0</span>);<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j++)&#123;<br>tmp[i][j] = <span class="hljs-built_in">max</span>(limit[i][j], tmp[i][j]-val);<br>tmp[j][i] = <span class="hljs-built_in">max</span>(limit[j][i], tmp[j][i]-val);<br>&#125;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> k = <span class="hljs-number">0</span>; k &lt; n; k++)&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j++)&#123;<br>tmp[i][j] = <span class="hljs-built_in">min</span>(tmp[i][k]+tmp[k][j], tmp[i][j]);<br>&#125;<br>&#125;<br>&#125;<br><span class="hljs-type">int</span> res = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j++)&#123;<br>res += tmp[i][j];<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> res;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n&gt;&gt;q;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j++)&#123;<br>cin&gt;&gt;d[i][j];<br>&#125;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j++)&#123;<br>cin&gt;&gt;limit[i][j];<br>&#125;<br>&#125;<br><span class="hljs-type">int</span> l = <span class="hljs-number">0</span>, r = <span class="hljs-number">1e5</span>*n, ans = <span class="hljs-number">-1</span>;<br><span class="hljs-keyword">while</span>(l &lt; r)&#123;<br><span class="hljs-type">int</span> mid = l + r &gt;&gt;<span class="hljs-number">1</span>;<br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">cal</span>(mid)&lt;=q)&#123;<br>r = mid;<br>ans = r;<br>&#125;<span class="hljs-keyword">else</span>&#123;<br>l = mid + <span class="hljs-number">1</span>;<br>&#125;<br>&#125;<br>cout&lt;&lt;ans&lt;&lt;endl;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šäºŒåˆ†+Floyed,Floyedä¸­kåœ¨æœ€å¤–å±‚ï¼Œæ³¨æ„ç»†èŠ‚ã€‚</li></ul><h4 id="Gé€‰ç´ æ•°ï¼š"><a href="#Gé€‰ç´ æ•°ï¼š" class="headerlink" title="Gé€‰ç´ æ•°ï¼š"></a>Gé€‰ç´ æ•°ï¼š</h4><ul><li>æ€è·¯ï¼šä¸€å…±ä¸¤æ­¥ï¼Œç¬¬ä¸€æ­¥æ˜¯æ‰¾m-pmax+1,è®¾ä¸ºå‡½æ•°f(m),åœ¨f[m]åˆ°nçš„èŒƒå›´å†…æ‰¾åˆ°ä¸€ä¸ªæ•°iä½¿å¾—f[i]æœ€å°ã€‚pmaxæ˜¯ä¸€ä¸ªæ•°çš„æœ€å¤§è´¨å› å­ï¼Œå¯ä»¥ä¸çº¿æ€§ç­›ç®—æ³•ç›¸ç»“åˆï¼Œ**p[prime[j]*i] &#x3D; max[p[i], prime[j]]**ã€‚èƒ½ä¸æ±‚æœ€å¤§è´¨å› å­ç»“åˆä¹Ÿéå¸¸çš„å·§å¦™ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> MAXN=<span class="hljs-number">1000001</span>;<br><span class="hljs-type">int</span> n,t;<br><span class="hljs-type">bool</span> isprime[MAXN];<br><span class="hljs-type">int</span> prime[MAXN];<br><span class="hljs-type">int</span> p[MAXN];<br><span class="hljs-type">int</span> ans=<span class="hljs-number">1e9</span>;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">f</span><span class="hljs-params">(<span class="hljs-type">int</span> m)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">if</span>(isprime[m]==<span class="hljs-literal">true</span>)<br>&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-number">1e9</span>;<br>&#125;<br><span class="hljs-keyword">return</span> (m-p[m]+<span class="hljs-number">1</span>);<br>&#125;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Linear_sieve</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; i++)&#123;<br>isprime[i] = <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; i++)&#123;<br><span class="hljs-keyword">if</span>(isprime[i])&#123;<br>t++;<br>prime[t] = i;<br>p[i] = i;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt;= t&amp;&amp;prime[j]*i&lt;=n; j++)&#123;<br>p[prime[j]*i] = <span class="hljs-built_in">max</span>(p[i], prime[j]);<br>isprime[prime[j]*i] = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">if</span>(i % prime[j] == <span class="hljs-number">0</span>)&#123;<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br>&#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n;<br><span class="hljs-built_in">Linear_sieve</span>();<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-built_in">f</span>(n);i&lt;=n;i++)<br>&#123;<br>ans=<span class="hljs-built_in">min</span>(ans,<span class="hljs-built_in">f</span>(i));<br>&#125;<br><span class="hljs-keyword">if</span>(ans!=<span class="hljs-number">1e9</span>)<br>&#123;<br>cout&lt;&lt;ans&lt;&lt;endl;<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br>cout&lt;&lt;<span class="hljs-string">&quot;-1&quot;</span>&lt;&lt;endl;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šéœ€è¦å¯¹çº¿æ€§ç­›ç®—æ³•è¾ƒä¸ºç†Ÿæ‚‰ï¼Œç®—æ˜¯ä¸€é“æ•°è®ºé¢˜ï¼Œå€’æ¨ã€‚æˆ–è€…åŸºäºæ‰€ç»™çš„æ ·ä¾‹ä¹Ÿå¯çª¥è§ç«¯å€ªã€‚</li></ul><h4 id="Hæ›¿æ¢å­—ç¬¦ï¼š"><a href="#Hæ›¿æ¢å­—ç¬¦ï¼š" class="headerlink" title="Hæ›¿æ¢å­—ç¬¦ï¼š"></a>Hæ›¿æ¢å­—ç¬¦ï¼š</h4><h5 id="æš´åŠ›ï¼š-1"><a href="#æš´åŠ›ï¼š-1" class="headerlink" title="æš´åŠ›ï¼š"></a>æš´åŠ›ï¼š</h5><ul><li>æ€è·¯ï¼šç›´æ¥æ¨¡æ‹Ÿå³å¯ï¼Œæ´›è°·å¯è¿‡60%</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e5</span>+<span class="hljs-number">10</span>;<br>string s;<br><span class="hljs-type">int</span> m;<br><span class="hljs-type">int</span> l, r;<br><span class="hljs-type">char</span> x,y;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;s;<br>cin&gt;&gt;m;<br><span class="hljs-keyword">while</span>(m--)&#123;<br>cin&gt;&gt;l&gt;&gt;r&gt;&gt;x&gt;&gt;y;<br>l--;r--;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = l; i &lt;= r; i++)&#123;<br><span class="hljs-keyword">if</span>(s[i] == x)&#123;<br>s[i] = y;<br>&#125;<br>&#125;<br>&#125;<br>cout&lt;&lt;s&lt;&lt;endl;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="Iä¸‰è§’åºåˆ—æš´åŠ›60-ï¼š"><a href="#Iä¸‰è§’åºåˆ—æš´åŠ›60-ï¼š" class="headerlink" title="Iä¸‰è§’åºåˆ—æš´åŠ›60%ï¼š"></a>Iä¸‰è§’åºåˆ—æš´åŠ›60%ï¼š</h4><ul><li>æ€è·¯ï¼šç¬¬ä¸€ååº”å°±æ˜¯äºŒåˆ†ï¼Œå¯¹äºæ¯ä¸ªä¸‰è§’åºåˆ—ï¼Œè¿›è¡Œpreæ“ä½œç¡®å®šå®ƒçš„å·¦å³è¾¹ç•Œï¼Œç„¶åcheckå‡½æ•°å…ˆæ‰¾åˆ°L,Ræ‰€åœ¨çš„ä¸‰è§’å½¢çš„å³ç«¯ç‚¹ï¼Œåˆ†ç±»è®¨è®ºï¼Œå…ˆåŸºäºcal,å†åŸºäºcal2è®¡ç®—ï¼Œé€æ­¥è§£å†³é—®é¢˜ã€‚å¾ˆæ£’çš„ä¸€é“æ¨¡æ‹Ÿé¢˜ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long </span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">20</span>;<br><span class="hljs-type">int</span> n,m;<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">node</span>&#123;<br><span class="hljs-type">int</span> len, type, l, r;<br>&#125;a[N];<br><span class="hljs-type">int</span> pre[N];<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">cal2</span><span class="hljs-params">(<span class="hljs-type">int</span> len, <span class="hljs-type">int</span> h)</span></span>&#123;<br><span class="hljs-type">int</span> sum = len*(len+<span class="hljs-number">1</span>)/<span class="hljs-number">2</span>;<br><span class="hljs-type">int</span> tmp = <span class="hljs-built_in">max</span>(len-h,<span class="hljs-number">0LL</span>);<br><span class="hljs-type">int</span> res = tmp*(tmp+<span class="hljs-number">1</span>)/<span class="hljs-number">2</span>;<br><span class="hljs-keyword">return</span> sum-res;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">cal</span><span class="hljs-params">(<span class="hljs-type">int</span> idx, <span class="hljs-type">int</span> col, <span class="hljs-type">int</span> h)</span></span>&#123;<br><span class="hljs-keyword">if</span>(col &gt; a[idx].r) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br><span class="hljs-keyword">if</span>(a[idx].type == <span class="hljs-number">0</span>)&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-built_in">cal2</span>(a[idx].len, h)-<span class="hljs-built_in">cal2</span>(col - a[idx].l, h);<br>&#125;<span class="hljs-keyword">else</span>&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-built_in">cal2</span>(a[idx].r-col+<span class="hljs-number">1</span>, h);<br>&#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">check</span><span class="hljs-params">(<span class="hljs-type">int</span> l, <span class="hljs-type">int</span> r, <span class="hljs-type">int</span> h)</span></span>&#123;<br><span class="hljs-type">int</span> idx_l = <span class="hljs-built_in">lower_bound</span>(pre+<span class="hljs-number">1</span>,pre+<span class="hljs-number">1</span>+n,l)-pre;<br><span class="hljs-type">int</span> idx_r = <span class="hljs-built_in">lower_bound</span>(pre+<span class="hljs-number">1</span>,pre+<span class="hljs-number">1</span>+n,r)-pre;<br><span class="hljs-keyword">if</span>(idx_l == idx_r)&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-built_in">cal</span>(idx_l, l, h)-<span class="hljs-built_in">cal</span>(idx_l, r+<span class="hljs-number">1</span>, h);<br>&#125;<br><span class="hljs-type">int</span> ans = <span class="hljs-built_in">cal</span>(idx_l, l, h) + <span class="hljs-built_in">cal</span>(idx_r, a[idx_r].l, h) - <span class="hljs-built_in">cal</span>(idx_r, r+<span class="hljs-number">1</span>, h);<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = idx_l + <span class="hljs-number">1</span>; i &lt; idx_r; i++)&#123;<br>ans += <span class="hljs-built_in">cal</span>(i, a[i].l, h);<br>&#125;<br><span class="hljs-keyword">return</span> ans;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n&gt;&gt;m;<br><span class="hljs-type">int</span> max_h = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br>cin&gt;&gt;a[i].len&gt;&gt;a[i].type;<br>max_h = <span class="hljs-built_in">max</span>(max_h, a[i].len);<br>pre[i] = pre[i<span class="hljs-number">-1</span>] + a[i].len;<br>a[i].l = pre[i<span class="hljs-number">-1</span>] + <span class="hljs-number">1</span>;<br>a[i].r = pre[i];<br>&#125;<br><span class="hljs-type">int</span> L,R,v;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++)&#123;<br>cin&gt;&gt;L&gt;&gt;R&gt;&gt;v; <br><span class="hljs-type">int</span> l = <span class="hljs-number">1</span>, r = max_h + <span class="hljs-number">1</span>, h = <span class="hljs-number">-1</span>;<br><span class="hljs-keyword">while</span>(l &lt; r)&#123;<br><span class="hljs-type">int</span> mid = l + r &gt;&gt;<span class="hljs-number">1</span>;<br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">check</span>(L, R, mid) &gt;= v)&#123;<br>h = mid;<br>r = mid;<br>&#125;<span class="hljs-keyword">else</span>&#123;<br>l = mid + <span class="hljs-number">1</span>;<br>&#125;<br>&#125; <br>cout&lt;&lt;h&lt;&lt;endl;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“:é‡åˆ°è¿™ç§å¤§æ¨¡æ‹Ÿé¢˜ï¼Œæ€è·¯ä¸€å®šè¦æ¸…æ™°ï¼Œåˆ’åˆ†é—®é¢˜ç„¶åé€æ­¥å¢åŠ å‡½æ•°æ¥è§£å†³ã€‚</li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å°ç™½èµ›9</title>
    <link href="/2024/04/06/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%9C%81%E8%B5%9B%E5%A4%87%E8%B5%9B/%E5%B0%8F%E7%99%BD%E8%B5%9B9/"/>
    <url>/2024/04/06/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%9C%81%E8%B5%9B%E5%A4%87%E8%B5%9B/%E5%B0%8F%E7%99%BD%E8%B5%9B9/</url>
    
    <content type="html"><![CDATA[<h2 id="è¡¥é¢˜å’Œåæ€åšé¢˜çŠ¶æ€æ˜¯æœ€æœ€æœ€æœ€é‡è¦çš„"><a href="#è¡¥é¢˜å’Œåæ€åšé¢˜çŠ¶æ€æ˜¯æœ€æœ€æœ€æœ€é‡è¦çš„" class="headerlink" title="è¡¥é¢˜å’Œåæ€åšé¢˜çŠ¶æ€æ˜¯æœ€æœ€æœ€æœ€é‡è¦çš„"></a>è¡¥é¢˜å’Œåæ€åšé¢˜çŠ¶æ€æ˜¯æœ€æœ€æœ€æœ€é‡è¦çš„</h2><h4 id="å­—ç¬¦è¿ç§»ï¼š"><a href="#å­—ç¬¦è¿ç§»ï¼š" class="headerlink" title="å­—ç¬¦è¿ç§»ï¼š"></a>å­—ç¬¦è¿ç§»ï¼š</h4><ul><li>åªèƒ½å†™å‡ºæš´åŠ›ç®—æ³•ï¼Œå¾…è¡¥</li><li>è¡¥é¢˜ï¼šå®é™…ä¸Šå°±æ˜¯<strong>å·®åˆ†æ•°ç»„</strong>çš„æ¨¡æ¿é¢˜ï¼Œcha[i] &#x3D; a[i] - a[i-1], ç›¸å½“äºåŸæ•°ç»„å°±æ˜¯å·®åˆ†æ•°ç»„çš„å‰ç¼€å’Œã€‚</li></ul><h4 id="å­—å…¸æ ‘è€ƒè¯•ï¼š"><a href="#å­—å…¸æ ‘è€ƒè¯•ï¼š" class="headerlink" title="å­—å…¸æ ‘è€ƒè¯•ï¼š"></a>å­—å…¸æ ‘è€ƒè¯•ï¼š</h4><ul><li>é€šè¿‡ï¼Œæ•°å­¦é¢˜</li></ul><h4 id="æ— ç†æ•°ä½æ•°æŸ¥è¯¢ï¼š"><a href="#æ— ç†æ•°ä½æ•°æŸ¥è¯¢ï¼š" class="headerlink" title="æ— ç†æ•°ä½æ•°æŸ¥è¯¢ï¼š"></a>æ— ç†æ•°ä½æ•°æŸ¥è¯¢ï¼š</h4><ul><li>å¤æ‚çš„æ¨¡æ‹Ÿé¢˜ï¼Œæ²¡æœ‰æƒ³å¥½å°±å¼€å§‹å†™äº†ï¼Œè¾¹å†™è¾¹æ”¹æ€è·¯ï¼Œä»£ç ä¹Ÿå¾ˆæ··ä¹±ï¼Œå¯¼è‡´æµªè´¹äº†å¾ˆå¤šæ—¶é—´ï¼Œæœ€åè„‘å­è¶Šæ¥è¶Šä¹±ï¼Œè¿˜æ˜¯æ²¡æœ‰åšå‡ºæ¥ã€‚<strong>è¿™ä¸€ç‚¹è¦æƒ³æƒ³åŠæ³•æ€ä¹ˆé¿å…å’Œè­¦æƒ•ï¼Ÿ</strong></li><li>èŠ±äº†è¿‘ä¸‰å¤©çš„æ—¶é—´ï¼Œåœ¨æ­£ç¡®æ€è·¯çš„åŸºç¡€ä¸Šï¼Œè‡ªå·±å¯ä»¥å†™å‡ºè¿‡60%çš„ä»£ç ï¼Œå·²ç»å¾ˆä¸é”™äº†</li><li>æ€»ç»“ï¼š<ul><li>ç±»å‹ï¼šæ˜¯é‚£ç§æ¯”è¾ƒå¤æ‚çš„æ¨¡æ‹Ÿé¢˜ï¼Œå¯¹äºæ­£å¸¸çš„ç”¨ä¾‹ï¼Œå¯ä»¥ç¼–å†™å‡ºæ­£ç¡®ä»£ç ï¼Œä½†æ˜¯æœ‰å¾ˆå¤šçš„è¾¹ç•Œæƒ…å†µï¼Œç‰¹æ®Šæƒ…å†µéœ€è¦è€ƒè™‘ï¼Œéœ€è¦è‡ªå·±ç¼–å†™å¤šä¸ªå‡½æ•°å®ç°ã€‚ä»£ç è¶Šé•¿ï¼Œè¶Šå®¹æ˜“å‡ºé”™ã€‚</li></ul></li></ul><h4 id="ç›–å°ç« ï¼š"><a href="#ç›–å°ç« ï¼š" class="headerlink" title="ç›–å°ç« ï¼š"></a>ç›–å°ç« ï¼š</h4><ul><li>ååŠæ®µæ—¶é—´æ‰èƒ½åšï¼Œæ¯”è¾ƒç®€å•ï¼Œæœ€åä¸€æ®µæ—¶é—´é€šè¿‡äº†ã€‚ç›¸å½“äºæ­£å¼èµ›ä¸­æ’åœ¨åé¢ä½†éš¾åº¦æ²¡é‚£ä¹ˆé«˜çš„é¢˜ç›®ã€‚</li></ul><h4 id="è´è´çš„é›†åˆï¼š"><a href="#è´è´çš„é›†åˆï¼š" class="headerlink" title="è´è´çš„é›†åˆï¼š"></a>è´è´çš„é›†åˆï¼š</h4><ul><li>æ¥ä¸åŠçœ‹ï¼ŒåªçŸ¥é“éš¾åº¦æ¯”è¾ƒé«˜</li></ul><h4 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h4><ul><li><p>0.æ¯”èµ›<strong>åˆšå¼€å§‹çš„æ—¶å€™å°±è¦å†·é™ï¼Œä¸æ€¥è¿™ä¸€ä¸¤åˆ†é’Ÿ</strong>ï¼Œåé¢æ—¶é—´è¿˜å¾ˆå¤šï¼Œå‰å‡ é“ç®€å•çš„é¢˜ç›®å¯ä»¥åšæ…¢ä¸€ç‚¹ï¼Œåšå¯¹æœ€é‡è¦</p></li><li><p>1.é¦–è¦ç›®æ ‡æ˜¯å°½å¯èƒ½çš„æ¶µç›–å„ç§å¯ä»¥æƒ³åˆ°çš„æƒ…å†µï¼Œ<strong>ä¸€å®šè¦æŠŠç®—æ³•çš„æµç¨‹ç†æ¸…æ¥šå†ç¼–å†™ä»£ç </strong>ï¼Œå¯ä»¥å¤§å¤§èŠ‚çœåç»­çš„æ—¶é—´</p></li><li><p>2.å¯ä»¥æå‰<strong>å‡†å¤‡å¥½ä¸“é—¨çš„æµ‹è¯•ç¨‹åº</strong>ï¼Œæ¥è¿›è¡Œ<strong>å•ä¸ªå‡½æ•°çš„æµ‹è¯•</strong>æˆ–è€…<strong>é¢„å®šä¹‰è¾“å…¥å¯¹æ•´ä¸ªä»£ç è¿›è¡Œæµ‹è¯•</strong>ï¼Œåå¤ä¿®æ”¹ä»£ç ä¹Ÿä¸æ˜¯ä¸€ä¸ªå¥½çš„é€‰æ‹©ï¼Œèƒ½è¿‡éƒ¨åˆ†æƒ…å†µçš„ä»£ç è¦è¿›è¡Œä¿ç•™</p></li><li><p>3.<strong>æ§åˆ¶åœ¨ä¸€é“é¢˜ä¸Šçš„æ—¶é—´ï¼Œä¸€èˆ¬30åˆ†é’Ÿå·¦å³ä¸ºä½³</strong>ï¼Œæ—¶é—´ä¸€æ—¦é•¿ï¼Œæ€è·¯å°±ä¼šå˜å¾—å¾ˆç‹­çª„ï¼Œå¯ä»¥çœ‹çœ‹å…¶ä»–é¢˜ç›®æ¥æ¢æ¢ç¯å¢ƒ</p></li><li><p>4.å¯ä»¥ç•™å‡ºè‡³å°‘40åˆ†é’Ÿçš„æ—¶é—´ï¼Œ<strong>æŠŠæœ€åçš„æ—¶é—´æ›´å¤šæ”¾åœ¨æ£€æŸ¥ä¸Šé¢</strong>ï¼Œå†é‡æ–°çœ‹çœ‹é¢˜ç›®ï¼Œåå¤æµ‹è¯•èƒ½å¾—åˆ°çš„éƒ¨åˆ†åˆ†ï¼Œä¸è¦ä¸€ç›´æ­»ç£•æŸä¸€é“é¢˜ã€‚æµ‹è¯•å°½å¯èƒ½æƒ³å‡ºå¤šçš„æƒ…å†µï¼Œä¸°å¯Œäºé¢˜ç›®æ‰€ç»™çš„æ ·ä¾‹ã€‚</p></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>è“æ¡¥æ¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è“æ¡¥æ¯ä¸“é¢˜æ•´ç†</title>
    <link href="/2024/04/04/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%9C%81%E8%B5%9B%E5%A4%87%E8%B5%9B/%E8%93%9D%E6%A1%A5%E6%9D%AF%E4%B8%93%E9%A2%98%E6%95%B4%E7%90%86/"/>
    <url>/2024/04/04/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%9C%81%E8%B5%9B%E5%A4%87%E8%B5%9B/%E8%93%9D%E6%A1%A5%E6%9D%AF%E4%B8%93%E9%A2%98%E6%95%B4%E7%90%86/</url>
    
    <content type="html"><![CDATA[<h3 id="1-äºŒåˆ†"><a href="#1-äºŒåˆ†" class="headerlink" title="1.äºŒåˆ†:"></a>1.äºŒåˆ†:</h3><ul><li>æè¿°ï¼šå¯ä»¥æœ‰æ•ˆé™ä½æ—¶é—´å¤æ‚åº¦ä¸ºNlogN, å¤§å¤šæƒ…å†µä¸‹å‰ææ˜¯æ‰¾æœ€å¤§å€¼çš„æœ€å°å€¼æˆ–æœ€å°å€¼çš„æœ€å¤§å€¼ï¼Œå³<strong>åœ¨ä¸€ä¸ªåŒºé—´å†…æœ‰ä¸€éƒ¨åˆ†æ˜¯æ»¡è¶³æ¡ä»¶çš„ï¼Œå¦ä¸€éƒ¨åˆ†ä¸æ»¡è¶³ï¼Œæ‰¾ä¸¤ä¸ªéƒ¨åˆ†äº¤ç•Œçš„é‚£ä¸ªç‚¹</strong>ã€‚</li><li>å†™æ³•ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-type">int</span> l =  , r = ;<br><span class="hljs-keyword">while</span>(l &lt; r)&#123;<br><span class="hljs-type">int</span> mid = (l + r)&gt;&gt;<span class="hljs-number">1</span>;<br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">check</span>(mid)) r = mid;<br><span class="hljs-keyword">else</span> l = mid + <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-comment">//æˆ–è€…</span><br><span class="hljs-type">int</span> l = , r = ;<br><span class="hljs-keyword">while</span>(l &lt; r)&#123;<br><span class="hljs-type">int</span> mid = (l + r + <span class="hljs-number">1</span>)&gt;&gt;<span class="hljs-number">1</span>;<br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">check</span>(mid)) l =mid;<br><span class="hljs-keyword">else</span> r = mid - <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-comment">//ç»“æœå‡ä¸ºlæˆ–r,æ­¤æ—¶ä¸¤è€…ç›¸ç­‰ã€‚æœ€åå¯ä»¥å†double checkä¸€ä¸‹æ˜¯å¦æœ‰è§£</span><br></code></pre></td></tr></table></figure><h4 id="ä¾‹é¢˜ï¼š"><a href="#ä¾‹é¢˜ï¼š" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h4><h5 id="å­ä¸²ç®€å†™"><a href="#å­ä¸²ç®€å†™" class="headerlink" title="å­ä¸²ç®€å†™"></a>å­ä¸²ç®€å†™</h5><ul><li><p>åœ¨æ•°ç»„ä¸Šæ‰¾ä¸¤ä¸ªç»™å®šçš„å€¼çš„ç»„åˆï¼Œæœ‰å…ˆåä¹‹åˆ†ï¼Œä¸¤è€…è·ç¦»æœ‰è¦æ±‚ï¼Œé‚£ä¹ˆå¯ä»¥å›ºå®šåå€¼ï¼ŒäºŒåˆ†æ‰€æœ‰å‰å€¼ï¼Œvectorå¾ˆå¥½ç”¨ï¼Œç›¸å¯¹äºæ•°ç»„å¯ä»¥ä¸ç”¨æ–°å¢ä¸€ä¸ªè®°å½•ä¸‹æ ‡çš„å˜é‡ã€‚</p></li><li><p>æ³¨æ„ï¼šä¸¤ä¸ªç»™å®šçš„å€¼å¯èƒ½ç›¸ç­‰ï¼Œç‰¹æ®Šæƒ…å†µè¦è€ƒè™‘è¿›æ¥</p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long </span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">5e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> k;<br>string s;<br><span class="hljs-type">char</span> c1, c2;<br>vector&lt;<span class="hljs-type">int</span>&gt; pos;<br><span class="hljs-type">int</span> ans;<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;k;<br>cin&gt;&gt;s&gt;&gt;c1&gt;&gt;c2;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; s.<span class="hljs-built_in">length</span>(); i++)&#123;<br><span class="hljs-keyword">if</span>(s[i] == c1)&#123;<br>pos.<span class="hljs-built_in">push_back</span>(i);<br>&#125;<br><span class="hljs-keyword">if</span>(s[i] == c2)&#123;<br><span class="hljs-keyword">if</span>(pos.<span class="hljs-built_in">size</span>() == <span class="hljs-number">0</span> || i - pos[<span class="hljs-number">0</span>] + <span class="hljs-number">1</span> &lt; k) <span class="hljs-keyword">continue</span>;<br><span class="hljs-type">int</span> l = <span class="hljs-number">0</span>, r = pos.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>;<br><span class="hljs-keyword">while</span>(l &lt; r)&#123;<br><span class="hljs-type">int</span> mid = (l + r + <span class="hljs-number">1</span>)&gt;&gt;<span class="hljs-number">1</span>;<br><span class="hljs-keyword">if</span>(i - pos[mid] + <span class="hljs-number">1</span> &gt;= k) l = mid;<br><span class="hljs-keyword">else</span> r = mid - <span class="hljs-number">1</span>;<br>&#125;<br>ans += l + <span class="hljs-number">1</span>;<br>&#125;<br>&#125;<br>cout&lt;&lt;ans&lt;&lt;endl;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="é’è›™è¿‡æ²³"><a href="#é’è›™è¿‡æ²³" class="headerlink" title="é’è›™è¿‡æ²³"></a>é’è›™è¿‡æ²³</h5><h3 id="2-ä¼˜å…ˆé˜Ÿåˆ—"><a href="#2-ä¼˜å…ˆé˜Ÿåˆ—" class="headerlink" title="2.ä¼˜å…ˆé˜Ÿåˆ—"></a>2.ä¼˜å…ˆé˜Ÿåˆ—</h3><ul><li>æè¿°ï¼šé€šè¿‡å¤§æ ¹å †æˆ–å°æ ¹å †å¯ä»¥ä»¥NLogNçš„é€Ÿåº¦æ‰¾åˆ°æ•°ç»„ä¸­çš„æœ€å€¼ï¼Œä»è€Œé™ä½æ—¶é—´å¤æ‚åº¦</li><li>å†™æ³•ï¼š</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//å°æ ¹å †ï¼š</span><br>priority_queue&lt;pii, vector&lt;pii&gt;, greater&lt;pii&gt;&gt; q;<br>priority_queue &lt;<span class="hljs-type">int</span>,vector&lt;<span class="hljs-type">int</span>&gt;,greater&lt;<span class="hljs-type">int</span>&gt; &gt; q;<br><span class="hljs-comment">//å¤§æ ¹å †(é»˜è®¤)ï¼š</span><br>priority_queue&lt;pii, vector&lt;pii&gt;&gt; q;<br>priority_queue &lt;<span class="hljs-type">int</span>,vector&lt;<span class="hljs-type">int</span>&gt;&gt; q;<br></code></pre></td></tr></table></figure><h4 id="ä¾‹é¢˜ï¼š-1"><a href="#ä¾‹é¢˜ï¼š-1" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h4><h5 id="æ•´æ•°åˆ é™¤"><a href="#æ•´æ•°åˆ é™¤" class="headerlink" title="æ•´æ•°åˆ é™¤"></a>æ•´æ•°åˆ é™¤</h5><ul><li>æ‰¾æœ€å°å€¼åˆ é™¤åŒæ—¶ç»™å®ƒçš„ç›¸é‚»æ•°åŠ ä¸Šè¿™ä¸ªæœ€å°å€¼çš„å€¼ã€‚å…³é”®åœ¨äºå¿«é€Ÿæ‰¾<strong>æœ€å°å€¼åŠå…¶ä½ç½®</strong>è¿˜æœ‰å®ƒ<strong>ç›¸é‚»çš„å€¼çš„ä½ç½®</strong>ã€‚å‰è€…é€šè¿‡<strong>å°æ ¹å †</strong>è§£å†³ï¼Œåè€…é€šè¿‡åŒå‘é˜Ÿåˆ—è§£å†³ã€‚</li><li>æ³¨æ„ï¼šåŒå‘é˜Ÿåˆ—çš„å†™æ³•ï¼Œå¢åŠ ä¸€ä¸ªä¸‹æ ‡ä¸º-1çš„ç‚¹ï¼Œä½¿ä¹‹å˜æˆä¸€ä¸ªç¯ï¼Œæ–¹ä¾¿è¾¹ç•Œçš„å¤„ç†ã€‚</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">5e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-type">int</span> ,<span class="hljs-type">int</span>&gt; pii; <br><span class="hljs-type">int</span> n, k, a[N], st[N];<br><span class="hljs-type">int</span> l[N], r[N];<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n&gt;&gt;k;<br>priority_queue&lt;pii, vector&lt;pii&gt;, greater&lt;pii&gt;&gt; q;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)&#123;<br>cin&gt;&gt;a[i];<br>q.<span class="hljs-built_in">push</span>(&#123;a[i], i&#125;);<br>st[i] = a[i];<br>l[i] = i - <span class="hljs-number">1</span>;<br>r[i] = i + <span class="hljs-number">1</span>;<br><span class="hljs-keyword">if</span>(i == n<span class="hljs-number">-1</span>) r[i] = <span class="hljs-number">-1</span>;<br>&#125; <br><span class="hljs-keyword">while</span>(k)&#123;<br>pii i = q.<span class="hljs-built_in">top</span>();<br>q.<span class="hljs-built_in">pop</span>();<br><span class="hljs-keyword">if</span>(i.first != st[i.second])&#123;<br>q.<span class="hljs-built_in">push</span>(&#123;st[i.second], i.second&#125;);<br><span class="hljs-keyword">continue</span>;<br>&#125;<br>k--;<br><span class="hljs-type">int</span> x = i.second, y = i.first;<br><span class="hljs-keyword">if</span>(l[x] &gt;= <span class="hljs-number">0</span>) st[l[x]] += y;<br><span class="hljs-keyword">if</span>(r[x] &gt;= <span class="hljs-number">0</span>) st[r[x]] += y;<br><br><span class="hljs-keyword">if</span>(l[x] &gt;= <span class="hljs-number">0</span>) r[l[x]] = r[x];<br><span class="hljs-keyword">if</span>(r[x] &gt;= <span class="hljs-number">0</span>) l[r[x]] = l[x];<br>st[x] = <span class="hljs-number">-1</span>;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)&#123;<br><span class="hljs-keyword">if</span>(st[i] &gt;= <span class="hljs-number">0</span>)&#123;<br>cout&lt;&lt;st[i]&lt;&lt;<span class="hljs-string">&quot; &quot;</span>;<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="3-dfsæš´åŠ›"><a href="#3-dfsæš´åŠ›" class="headerlink" title="3.dfsæš´åŠ›"></a>3.dfsæš´åŠ›</h3><ul><li>æè¿°ï¼šå¯¹<strong>é—®é¢˜è§£å†³è¿‡ç¨‹è¿›è¡Œæœ‰é€»è¾‘çš„åˆ†æ</strong>ï¼Œä½¿å¾—å¯ä»¥é€šè¿‡dfs<strong>æ¨¡æ‹Ÿæ‰€æœ‰çš„æƒ…å†µ</strong>ï¼Œæ¥å¾—å‡ºæœ€ç»ˆçš„ç­”æ¡ˆï¼Œè¿‡ç¨‹ä¸­å¯ä»¥é€šè¿‡å‰ªææ¥é™ä½æ—¶é—´å¤æ‚åº¦ã€‚</li><li><strong>1.åˆ¤æ–­æ˜¯å¦å­˜åœ¨å¯è¡Œæ–¹æ¡ˆ</strong>ï¼Œä¸€èˆ¬æœ‰ä¸¤ç§å†™æ³•ï¼Œä¸€æ˜¯dfsè¿”å›ç±»å‹ä¸ºboolï¼Œä¸€æ—¦æœ‰ä¸€ç§ï¼Œå°±ä¸€å±‚å±‚è¿”å›trueï¼Œæ¯ä¸€æ¬¡dfséƒ½è¦è¿›è¡Œåˆ¤æ–­ï¼›äºŒæ˜¯è®¾ç½®ä¸€ä¸ªflagå˜é‡ï¼Œdfsè¿”å›ç±»å‹ä¸ºvoidï¼Œæ³¨æ„ä¹Ÿè¦å®æ—¶åˆ¤æ–­ï¼Œ<strong>ä¸€æ—¦ä¸º1å°±å¯ä»¥ç›´æ¥è¿”å›äº†</strong>ã€‚</li></ul><h4 id="ä¾‹é¢˜ï¼š-2"><a href="#ä¾‹é¢˜ï¼š-2" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h4><h5 id="é£æœºé™è½ï¼š"><a href="#é£æœºé™è½ï¼š" class="headerlink" title="é£æœºé™è½ï¼š"></a>é£æœºé™è½ï¼š</h5><ul><li>næœ€å¤§ä¸º10ï¼Œå¯ä»¥æ¨¡æ‹Ÿæ‰€æœ‰çš„æƒ…å†µæ¥åˆ¤æ–­ç»“æœã€‚æ²¡æœ‰åˆé€‚çš„è´ªå¿ƒç®—æ³•ã€‚æ˜¯ä¸€é“æ¯”è¾ƒæ¨¡æ¿çš„dfséå†</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> u, <span class="hljs-type">int</span> time)</span></span>&#123; <span class="hljs-comment">//dfsæ— è¿”å›å€¼</span><br><span class="hljs-keyword">if</span>(u == n)&#123;<br>flag = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br><span class="hljs-keyword">if</span>(flag == <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span>;<br><span class="hljs-keyword">if</span>(st[i] == <span class="hljs-number">1</span>) <span class="hljs-keyword">continue</span>;<br><span class="hljs-keyword">if</span>(time &gt; pl[i].latest)&#123;<br>flag = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">return</span>;<br>&#125;<br>st[i] = <span class="hljs-number">1</span>;<br><span class="hljs-built_in">dfs</span>(u + <span class="hljs-number">1</span>, <span class="hljs-built_in">max</span>(time, pl[i].t) + pl[i].l);<br>st[i] = <span class="hljs-number">0</span>;<br>&#125; <br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> u, <span class="hljs-type">int</span> time)</span></span>&#123; <span class="hljs-comment">//dfsè¿”å›å€¼ä¸ºboolç±»å‹</span><br><span class="hljs-keyword">if</span>(u == n)&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br><span class="hljs-keyword">if</span>(st[i] == <span class="hljs-number">1</span>) <span class="hljs-keyword">continue</span>;<br><span class="hljs-keyword">if</span>(time &gt; pl[i].latest)&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br>st[i] = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">dfs</span>(u + <span class="hljs-number">1</span>, <span class="hljs-built_in">max</span>(time, pl[i].t) + pl[i].l))&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br>st[i] = <span class="hljs-number">0</span>;<br>&#125; <br>&#125;<br></code></pre></td></tr></table></figure><h5 id="ä¹°ç“œï¼š"><a href="#ä¹°ç“œï¼š" class="headerlink" title="ä¹°ç“œï¼š"></a>ä¹°ç“œï¼š</h5><ul><li>æ¯ä¸ªç“œéƒ½æœ‰ä¸‰ç§çŠ¶æ€ï¼ˆä¸é€‰ï¼Œé€‰ï¼Œåˆ‡åŠé€‰ï¼‰ï¼Œé€‰å–è‹¥å¹²ä¸ªï¼Œæ»¡è¶³é‡é‡å’Œä¸ºmã€‚dfsä¸‰ç§çŠ¶æ€+å‰ªææå‰é€€å‡ºã€‚å¯ä»¥è·å¾—ä¸€åŠåˆ†æ•°ã€‚</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long </span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">35</span>;<br><span class="hljs-type">int</span> n, m, a[N];<br><span class="hljs-type">int</span> ans = N;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> u, <span class="hljs-type">int</span> sum, <span class="hljs-type">int</span> cnt)</span></span>&#123;<br><span class="hljs-keyword">if</span>(u == n)&#123;<br><span class="hljs-keyword">if</span>(sum == m) ans = <span class="hljs-built_in">min</span>(ans, cnt);<br><span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-keyword">if</span>(sum &gt; m) <span class="hljs-keyword">return</span>;<br><span class="hljs-keyword">if</span>(sum + a[u] &lt;= m) <span class="hljs-built_in">dfs</span>(u + <span class="hljs-number">1</span>, sum + a[u], cnt);<br><span class="hljs-keyword">if</span>(sum + a[u]/<span class="hljs-number">2</span> &lt;= m) <span class="hljs-built_in">dfs</span>(u + <span class="hljs-number">1</span>, sum + a[u]/<span class="hljs-number">2</span>, cnt + <span class="hljs-number">1</span>);<br><span class="hljs-built_in">dfs</span>(u + <span class="hljs-number">1</span>, sum, cnt);<br>&#125;<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n&gt;&gt;m;<br>m *= <span class="hljs-number">2</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)&#123;<br>cin&gt;&gt;a[i];<br>a[i] *= <span class="hljs-number">2</span>;<br>&#125;<br><span class="hljs-built_in">sort</span>(a, a + n);<br><span class="hljs-built_in">dfs</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br><span class="hljs-keyword">if</span>(ans == N) cout&lt;&lt;<span class="hljs-string">&quot;-1&quot;</span>&lt;&lt;endl;<br><span class="hljs-keyword">else</span> cout&lt;&lt;ans&lt;&lt;endl;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="é¢œè‰²å¹³è¡¡æ ‘ï¼š"><a href="#é¢œè‰²å¹³è¡¡æ ‘ï¼š" class="headerlink" title="é¢œè‰²å¹³è¡¡æ ‘ï¼š"></a>é¢œè‰²å¹³è¡¡æ ‘ï¼š</h5><ul><li>æ ‘ä¸Šçš„dfs,æ¶‰åŠè‡ªåº•å‘ä¸Šçš„æ›´æ–°ï¼Œæ€è·¯æ¸…æ™°åå†™èµ·æ¥å¹¶ä¸éš¾ã€‚è°ƒè¯•æ—¶å‘ç°æ²¡æœ‰ç»“æœï¼ŒåŸå› æ˜¯dfsï¼ˆiï¼‰,åº”è¯¥æ˜¯dfsï¼ˆson(u)(i)ï¼‰ï¼Œè¦æ³¨æ„åˆ°è¿™äº›ç»†èŠ‚ã€‚å¯ä»¥è¿‡60%çš„æ•°æ®ã€‚</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long </span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">2e5</span>;<br><span class="hljs-type">int</span> n, col[N], ans;<br>vector&lt;<span class="hljs-type">int</span>&gt; son[N]; <br>unordered_map&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; mp[N];<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> u)</span></span>&#123;<br><span class="hljs-keyword">if</span>(son[u].<span class="hljs-built_in">size</span>() == <span class="hljs-number">0</span>)&#123;<br>ans++;<br>mp[u][col[u]]++;<br><span class="hljs-keyword">return</span>;<br>&#125;<br>mp[u][col[u]]++;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; son[u].<span class="hljs-built_in">size</span>(); i++)&#123;<br><span class="hljs-built_in">dfs</span>(son[u][i]);<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> i: son[u])&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> it:mp[i])&#123;<br><span class="hljs-type">int</span> x = it.first, y = it.second;<br>mp[u][x] += y;<br>&#125;<br>&#125;<br><span class="hljs-type">int</span> tmp = <span class="hljs-number">0</span>, flag = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> i:mp[u])&#123;<br><span class="hljs-keyword">if</span>(!tmp) tmp = i.second;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(i.second != tmp)&#123;<br>flag = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br><span class="hljs-keyword">if</span>(flag) ans++;<br><span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>, f; i &lt;= n; i++)&#123;<br>cin&gt;&gt;col[i]&gt;&gt;f;<br>son[f].<span class="hljs-built_in">push_back</span>(i);<br>&#125;<br><span class="hljs-built_in">dfs</span>(<span class="hljs-number">1</span>);<br>cout&lt;&lt;ans&lt;&lt;endl; <br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="æ™¯åŒºå¯¼æ¸¸ï¼š"><a href="#æ™¯åŒºå¯¼æ¸¸ï¼š" class="headerlink" title="æ™¯åŒºå¯¼æ¸¸ï¼š"></a>æ™¯åŒºå¯¼æ¸¸ï¼š</h5><ul><li>dfsæš´åŠ›æ ‘ä¸Šä¸¤ç‚¹çš„è·ç¦»ï¼Œdfsè¿”å›å€¼ä¸ºintï¼Œæ³¨æ„åŠæ—¶åˆ¤æ–­returnã€‚å¯ä»¥è¿‡30%ã€‚</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long </span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; PII;<br><span class="hljs-type">int</span> n, k, a[N];<br>vector&lt;PII&gt; e[N];<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> u, <span class="hljs-type">int</span> fa, <span class="hljs-type">int</span> end, <span class="hljs-type">int</span> sum)</span></span>&#123;<br><span class="hljs-keyword">if</span>(u == end)&#123;<br><span class="hljs-keyword">return</span> sum;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; e[u].<span class="hljs-built_in">size</span>(); i++)&#123;<br><span class="hljs-type">int</span> x = e[u][i].first, y = e[u][i].second;<br><span class="hljs-keyword">if</span>(x == fa) <span class="hljs-keyword">continue</span>;<br><span class="hljs-type">int</span> tmp = <span class="hljs-built_in">dfs</span>(x, u, end, sum + y);<br><span class="hljs-keyword">if</span>(tmp) <span class="hljs-keyword">return</span> tmp;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n&gt;&gt;k;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>,u,v,t; i &lt; n; i++)&#123;<br>cin&gt;&gt;u&gt;&gt;v&gt;&gt;t;<br>e[u].<span class="hljs-built_in">push_back</span>(&#123;v, t&#125;);<br>e[v].<span class="hljs-built_in">push_back</span>(&#123;u, t&#125;);<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= k; i++)&#123;<br>cin&gt;&gt;a[i];<br>&#125;<br><span class="hljs-type">int</span> sum = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>; i &lt;= k; i++)&#123;<br>sum += <span class="hljs-built_in">dfs</span>(a[i<span class="hljs-number">-1</span>], <span class="hljs-number">-1</span>, a[i], <span class="hljs-number">0</span>);<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= k; i++)&#123;<br><span class="hljs-keyword">if</span>(i == <span class="hljs-number">1</span>)&#123;<br>cout&lt;&lt;sum - <span class="hljs-built_in">dfs</span>(a[<span class="hljs-number">1</span>], <span class="hljs-number">-1</span>, a[<span class="hljs-number">2</span>], <span class="hljs-number">0</span>)&lt;&lt;<span class="hljs-string">&quot; &quot;</span>;<br>&#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(i == k)&#123;<br>cout&lt;&lt;sum - <span class="hljs-built_in">dfs</span>(a[k<span class="hljs-number">-1</span>], <span class="hljs-number">-1</span>, a[k], <span class="hljs-number">0</span>)&lt;&lt;<span class="hljs-string">&quot; &quot;</span>;<br>&#125;<span class="hljs-keyword">else</span>&#123;<br>cout&lt;&lt;sum-<span class="hljs-built_in">dfs</span>(a[i<span class="hljs-number">-1</span>], <span class="hljs-number">-1</span>, a[i], <span class="hljs-number">0</span>)-<span class="hljs-built_in">dfs</span>(a[i], <span class="hljs-number">-1</span>, a[i+<span class="hljs-number">1</span>], <span class="hljs-number">0</span>)+<span class="hljs-built_in">dfs</span>(a[i<span class="hljs-number">-1</span>], <span class="hljs-number">-1</span>, a[i+<span class="hljs-number">1</span>], <span class="hljs-number">0</span>)&lt;&lt;<span class="hljs-string">&quot; &quot;</span>;<br>&#125;<br>&#125;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="ç æ ‘ï¼š"><a href="#ç æ ‘ï¼š" class="headerlink" title="ç æ ‘ï¼š"></a>ç æ ‘ï¼š</h5><ul><li>æ¨¡æ‹Ÿä»æ ‘ä¸Šä¸€ä¸ªç‚¹åˆ°å¦ä¸€ä¸ªç‚¹çš„è¿‡ç¨‹ï¼Œè¿™ä¸ªçº¿è·¯ä¸Šçš„è¾¹+1ï¼Œæœ€ç»ˆæƒé‡ä¸ºmçš„åºå·æœ€å¤§çš„è¾¹ä¸ºç­”æ¡ˆï¼Œæ¶‰åŠè¾¹çš„å­˜å‚¨ï¼Œç”¨mapæ¥å®ç°ä¸¤ä¸ªç‚¹å¯¹åº”ä¸€æ¡è¾¹çš„åºå·</li><li>dfsé‡‡ç”¨boolè¿”å›å€¼ï¼Œåªæœ‰åœ¨çº¿è·¯ä¸Šçš„è¾¹å¯ä»¥+1</li></ul><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long </span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; PII;<br><span class="hljs-type">int</span> n, m;<br>vector&lt;<span class="hljs-type">int</span>&gt; e[N];<br><span class="hljs-type">int</span> w[N];<br>map&lt;PII ,<span class="hljs-type">int</span>&gt; id; <br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> u, <span class="hljs-type">int</span> fa, <span class="hljs-type">int</span> end)</span></span>&#123;<br><span class="hljs-keyword">if</span>(u == end)&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; e[u].<span class="hljs-built_in">size</span>(); i++)&#123;<br><span class="hljs-type">int</span> s = e[u][i];<br><span class="hljs-keyword">if</span>(s == fa) <span class="hljs-keyword">continue</span>;<br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">dfs</span>(s, u, end))&#123;<br><span class="hljs-type">int</span> ID = id[&#123;s, u&#125;];<br>w[ID]++;<br><span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n&gt;&gt;m;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>,u,v; i &lt;= n<span class="hljs-number">-1</span>; i++)&#123;<br>cin&gt;&gt;u&gt;&gt;v;<br>e[u].<span class="hljs-built_in">push_back</span>(v);<br>e[v].<span class="hljs-built_in">push_back</span>(u);<br>id[&#123;u,v&#125;] = i;<br>id[&#123;v,u&#125;] = i;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>,a,b; i &lt;= m; i++)&#123;<br>cin&gt;&gt;a&gt;&gt;b;<br><span class="hljs-built_in">dfs</span>(a, <span class="hljs-number">-1</span>, b);<br>&#125;<br><span class="hljs-type">int</span> ans = <span class="hljs-number">-1</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = n<span class="hljs-number">-1</span>; i &gt;= <span class="hljs-number">1</span>; i--)&#123;<br><span class="hljs-keyword">if</span>(w[i] == m)&#123;<br>ans = i;<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br>cout&lt;&lt;ans&lt;&lt;endl;<br><br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="4-dp"><a href="#4-dp" class="headerlink" title="4.dp"></a>4.dp</h3><ul><li>æè¿°ï¼šé’ˆå¯¹å­é—®é¢˜ä¸æ•´ä¸ªé—®é¢˜å…³è”ï¼Œå¹¶æ±‚æœ€ä¼˜è§£çš„é¢˜ç›®ï¼Œå¤§å¤šæƒ…å†µä¸‹å¯ä»¥dfsæ¥æš´åŠ›æ±‚è§£</li></ul><h4 id="ä¾‹é¢˜ï¼š-3"><a href="#ä¾‹é¢˜ï¼š-3" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h4><h5 id="æ¥é¾™åºåˆ—ï¼š"><a href="#æ¥é¾™åºåˆ—ï¼š" class="headerlink" title="æ¥é¾™åºåˆ—ï¼š"></a>æ¥é¾™åºåˆ—ï¼š</h5><h6 id="è§£æ³•ä¸€ï¼šæ•°å­—dp"><a href="#è§£æ³•ä¸€ï¼šæ•°å­—dp" class="headerlink" title="è§£æ³•ä¸€ï¼šæ•°å­—dp"></a>è§£æ³•ä¸€ï¼šæ•°å­—dp</h6><ul><li>è¶…çº§å·§å¦™çš„æŠŠç»“å°¾çš„æ•°å­—ä½œä¸ºdp[i]çš„å«ä¹‰ï¼Œdp[i]è¡¨ç¤ºä»¥iä¸ºç»“å°¾çš„æœ€é•¿æ¥é¾™å­åºåˆ—çš„é•¿åº¦ï¼Œä»å·¦å¾€å³éå†ä¸€éå³å¯ã€‚æŠŠæ•°å­—å½“ä½œå­—ç¬¦ä¸²æ¥çœ‹å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å¾—åˆ°ç¬¬ä¸€ä½å’Œæœ€åä¸€ä½ã€‚</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long </span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> n;<br><span class="hljs-type">int</span> dp[<span class="hljs-number">15</span>];<br>string s;<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br>cin&gt;&gt;s;<br><span class="hljs-type">int</span> m = s.<span class="hljs-built_in">length</span>();<br>dp[s[m<span class="hljs-number">-1</span>] - <span class="hljs-string">&#x27;0&#x27;</span>] = <span class="hljs-built_in">max</span>(dp[s[m<span class="hljs-number">-1</span>] - <span class="hljs-string">&#x27;0&#x27;</span>], dp[s[<span class="hljs-number">0</span>] - <span class="hljs-string">&#x27;0&#x27;</span>] + <span class="hljs-number">1</span>);<br>&#125;<br><span class="hljs-type">int</span> ans = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">9</span>; i++)&#123;<br>ans = <span class="hljs-built_in">max</span>(ans, dp[i]);<br>&#125;<br>cout&lt;&lt;n -ans&lt;&lt;endl;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h6 id="è§£æ³•äºŒï¼šdfsæš´åŠ›"><a href="#è§£æ³•äºŒï¼šdfsæš´åŠ›" class="headerlink" title="è§£æ³•äºŒï¼šdfsæš´åŠ›"></a>è§£æ³•äºŒï¼šdfsæš´åŠ›</h6><ul><li>æ¯ä¸ªæ•°å­—æ— éå°±æ˜¯é€‰å’Œä¸é€‰ä¸¤ç§æƒ…å†µã€‚<strong>anså’Œæœ€åçš„ç»“æœcntæ¯”è¾ƒ</strong>ï¼Œè¿‡ç¨‹å¯ä»¥å¢åŠ ä¸€äº›å‰ªæï¼Œå¯ä»¥è¿‡23%ã€‚</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long  </span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> n, a[N];<br><span class="hljs-type">int</span> ans;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getFirst</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span></span>&#123;<br><span class="hljs-keyword">while</span>(x &gt; <span class="hljs-number">9</span>)&#123;<br>x /= <span class="hljs-number">10</span>;<br>&#125;<br><span class="hljs-keyword">return</span> x;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getLast</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span></span>&#123;<br><span class="hljs-keyword">return</span> x % <span class="hljs-number">10</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> u, <span class="hljs-type">int</span> cnt, <span class="hljs-type">int</span> last)</span></span>&#123;<br><span class="hljs-keyword">if</span>(u == n + <span class="hljs-number">1</span>)&#123;<br>ans = <span class="hljs-built_in">max</span>(ans, cnt);<br><span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-keyword">if</span>(n - u + cnt &lt; ans) <span class="hljs-keyword">return</span>;<br><span class="hljs-keyword">if</span>(last == <span class="hljs-number">-1</span> || last == <span class="hljs-built_in">getFirst</span>(a[u]))&#123;<br><span class="hljs-built_in">dfs</span>(u + <span class="hljs-number">1</span>, cnt + <span class="hljs-number">1</span>, <span class="hljs-built_in">getLast</span>(a[u]));<br>&#125;<br><span class="hljs-built_in">dfs</span>(u + <span class="hljs-number">1</span>, cnt, last);<br>&#125;<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br>cin&gt;&gt;a[i];<br>&#125;<br><span class="hljs-built_in">dfs</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>);<br>cout&lt;&lt;n - ans&lt;&lt;endl;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h6 id="è§£æ³•ä¸‰ï¼šåŸºäºè§£æ³•äºŒçš„äºŒç»´dp"><a href="#è§£æ³•ä¸‰ï¼šåŸºäºè§£æ³•äºŒçš„äºŒç»´dp" class="headerlink" title="è§£æ³•ä¸‰ï¼šåŸºäºè§£æ³•äºŒçš„äºŒç»´dp"></a>è§£æ³•ä¸‰ï¼šåŸºäºè§£æ³•äºŒçš„äºŒç»´dp</h6><ul><li>è¿˜æ˜¯é€‰æˆ–ä¸é€‰ä¸¤ç§ï¼Œdpï¼ˆiï¼‰(j)è¡¨ç¤ºåˆ°ç¬¬iä¸ªæ•°ä¸ºæ­¢ï¼Œä¸‹æ ‡ä¸ºjçš„æœ€é•¿æ¥é¾™æ•°åˆ—çš„é•¿åº¦ã€‚ä¸é€‰çš„è¯ï¼Œç›´æ¥æŠŠdp(i-1)(j)å¤åˆ¶è¿‡æ¥å°±å¯ä»¥äº†ã€‚</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long </span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> n, a[N], ans;<br><span class="hljs-type">int</span> dp[N][<span class="hljs-number">15</span>];<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getFirst</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span></span>&#123;<br><span class="hljs-keyword">while</span>(x &gt; <span class="hljs-number">9</span>)&#123;<br>x /= <span class="hljs-number">10</span>;<br>&#125;<br><span class="hljs-keyword">return</span> x;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getLast</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span></span>&#123;<br><span class="hljs-keyword">return</span> x % <span class="hljs-number">10</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br>cin&gt;&gt;a[i]; <br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">10</span>; j++)&#123;<br>dp[i][j] = dp[i<span class="hljs-number">-1</span>][j];<br>&#125;<br><span class="hljs-type">int</span> last = <span class="hljs-built_in">getLast</span>(a[i]);<br><span class="hljs-type">int</span> first = <span class="hljs-built_in">getFirst</span>(a[i]);<br>dp[i][last] = <span class="hljs-built_in">max</span>(dp[i][last], dp[i<span class="hljs-number">-1</span>][first] + <span class="hljs-number">1</span>);<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++)&#123;<br>ans = <span class="hljs-built_in">max</span>(ans, dp[n][i]);<br>&#125;<br>cout&lt;&lt;n - ans&lt;&lt;endl;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>5.æœ€çŸ­è·¯å¾„</p><h5 id="ç½‘ç»œç¨³å®šæ€§ï¼š"><a href="#ç½‘ç»œç¨³å®šæ€§ï¼š" class="headerlink" title="ç½‘ç»œç¨³å®šæ€§ï¼š"></a>ç½‘ç»œç¨³å®šæ€§ï¼š</h5><ul><li>é‡‡ç”¨Floydç®—æ³•è¿›è¡Œæš´åŠ›</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span><br><span class="hljs-type">int</span> dp[<span class="hljs-number">5005</span>][<span class="hljs-number">5005</span>]; <br><span class="hljs-type">int</span> n, m, q;<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-built_in">memset</span>(dp,<span class="hljs-number">-1</span>,<span class="hljs-built_in">sizeof</span>(dp));<br>cin&gt;&gt;n&gt;&gt;m&gt;&gt;q;<br><span class="hljs-type">int</span> u,v,x;<br><span class="hljs-keyword">while</span>(m--)&#123;<br>cin&gt;&gt;u&gt;&gt;v&gt;&gt;x;<br>dp[u][v] = <span class="hljs-built_in">max</span>(dp[u][v], x);<br>dp[v][u] = <span class="hljs-built_in">max</span>(dp[v][u], x);<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> k = <span class="hljs-number">1</span>; k &lt;= n; k++)&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n ;i++)&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j++)&#123;<br><span class="hljs-keyword">if</span>(i != j &amp;&amp; i != k &amp;&amp; j != k)&#123;<br>dp[i][j] = <span class="hljs-built_in">max</span>(dp[i][j], <span class="hljs-built_in">min</span>(dp[i][k],dp[k][j]));<br>&#125;<br>&#125;<br>&#125;<br>&#125;<br><span class="hljs-keyword">while</span>(q--)&#123;<br>cin&gt;&gt;u&gt;&gt;v;<br>cout&lt;&lt;dp[u][v]&lt;&lt;endl;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>è“æ¡¥æ¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è“æ¡¥æ¯æ¨¡æ‹Ÿèµ›ç»ƒä¹ </title>
    <link href="/2024/03/31/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%9C%81%E8%B5%9B%E5%A4%87%E8%B5%9B/%E8%93%9D%E6%A1%A5%E6%9D%AF%E6%A8%A1%E6%8B%9F%E8%B5%9B%E7%BB%83%E4%B9%A0/"/>
    <url>/2024/03/31/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%9C%81%E8%B5%9B%E5%A4%87%E8%B5%9B/%E8%93%9D%E6%A1%A5%E6%9D%AF%E6%A8%A1%E6%8B%9F%E8%B5%9B%E7%BB%83%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h2 id="ç¬¬8åœºå°ç™½èµ›ï¼š"><a href="#ç¬¬8åœºå°ç™½èµ›ï¼š" class="headerlink" title="ç¬¬8åœºå°ç™½èµ›ï¼š"></a>ç¬¬8åœºå°ç™½èµ›ï¼š</h2><h4 id="äºŒè¿›åˆ¶ç‹å›½ï¼š"><a href="#äºŒè¿›åˆ¶ç‹å›½ï¼š" class="headerlink" title="äºŒè¿›åˆ¶ç‹å›½ï¼š"></a>äºŒè¿›åˆ¶ç‹å›½ï¼š</h4><ul><li><p>ä¸»è¦æ˜¯<strong>è‡ªå®šä¹‰æ’åº</strong>ï¼Œè¿™ä¸ªcmpçš„å†™æ³•è¦ç†Ÿæ‚‰ï¼Œç”¨åˆ°çš„åœ°æ–¹è¿˜æ˜¯æœ‰çš„ã€‚</p></li><li><p><strong>int cmp(const string &amp;s1, const string &amp;s2){</strong><br><strong>return s1 + s2 &lt; s2 + s1;</strong><br><strong>}</strong></p></li><li><p>ä»£ç ï¼š</p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long </span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">2e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> n;<br>string s[N];<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">cmp</span><span class="hljs-params">(<span class="hljs-type">const</span> string &amp;s1, <span class="hljs-type">const</span> string &amp;s2)</span></span>&#123;<br><span class="hljs-keyword">return</span> s1 + s2 &lt; s2 + s1;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)&#123;<br>cin&gt;&gt;s[i];<br>&#125;<br><span class="hljs-built_in">sort</span>(s, s + n, cmp);<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)&#123;<br>cout&lt;&lt;s[i];<br>&#125;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="djwcbï¼š"><a href="#djwcbï¼š" class="headerlink" title="djwcbï¼š"></a>djwcbï¼š</h4><ul><li>æ‰¾è§„å¾‹é¢˜ç›®ï¼Œ0-9çš„å¹‚çš„ä¸ªä½æ•°å­˜åœ¨å¾ªç¯çš„è§„å¾‹ï¼Œé‚£ä¹ˆé—®é¢˜å°±å˜ä¸ºä¸€ä¸ªè¶…å¤§çš„æ•°p%ä¸€ä¸ªä¸ªä½æ•°ï¼Œå¯ä»¥ä»å·¦å¼€å§‹é€ä½mod,ç»“æœä¹˜10ç´¯è®¡åˆ°ä¸‹ä¸€ä½ã€‚å¾ˆä¸é”™çš„ä¸€é“æ€ç»´é¢˜ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long </span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">int</span> a[] = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">4</span>,<span class="hljs-number">4</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">4</span>,<span class="hljs-number">4</span>,<span class="hljs-number">2</span>&#125;;<br><span class="hljs-type">int</span> t,n;<br>string p;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">solve</span><span class="hljs-params">()</span></span>&#123;<br>cin&gt;&gt;n&gt;&gt;p;<br>n = n % <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> m = a[n];<br><span class="hljs-type">int</span> tmp = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; p.<span class="hljs-built_in">size</span>(); i++)&#123;<br>tmp = (tmp*<span class="hljs-number">10</span> + p[i]-<span class="hljs-string">&#x27;0&#x27;</span>) % m;<br>&#125;<br><span class="hljs-keyword">if</span>(m == <span class="hljs-number">1</span>)&#123;<br>cout&lt;&lt;n&lt;&lt;endl;<br>&#125;<span class="hljs-keyword">else</span>&#123;<br><span class="hljs-keyword">if</span>(tmp == <span class="hljs-number">0</span>) tmp = a[n];<br>cout&lt;&lt;(<span class="hljs-type">int</span>)<span class="hljs-built_in">pow</span>(n, tmp)%<span class="hljs-number">10</span>&lt;&lt;endl;<br>&#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;t;<br><span class="hljs-keyword">while</span>(t--)&#123;<br><span class="hljs-built_in">solve</span>();<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>è“æ¡¥æ¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é‡åšè“æ¡¥æ¯çœŸé¢˜2023å¹´çœèµ›Aç»„</title>
    <link href="/2024/03/31/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%9C%81%E8%B5%9B%E5%A4%87%E8%B5%9B/%E9%87%8D%E5%81%9A%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%9C%9F%E9%A2%98/"/>
    <url>/2024/03/31/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%9C%81%E8%B5%9B%E5%A4%87%E8%B5%9B/%E9%87%8D%E5%81%9A%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%9C%9F%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h4 id="Aå¹¸è¿æ•°ï¼š"><a href="#Aå¹¸è¿æ•°ï¼š" class="headerlink" title="Aå¹¸è¿æ•°ï¼š"></a>Aå¹¸è¿æ•°ï¼š</h4><ul><li>ç›´æ¥æ¨¡æ‹Ÿï¼Œé¡ºåˆ©é€šè¿‡</li></ul><h4 id="Bæœ‰å¥–é—®ç­”ï¼š"><a href="#Bæœ‰å¥–é—®ç­”ï¼š" class="headerlink" title="Bæœ‰å¥–é—®ç­”ï¼š"></a>Bæœ‰å¥–é—®ç­”ï¼š</h4><ul><li>ä½¿ç”¨dfsæ¥è¿›è¡Œè¾ƒå¤§è§„æ¨¡çš„æ¨¡æ‹Ÿï¼Œåˆšå¼€å§‹å‡ æ¬¡æ²¡æœ‰å¼„æ¸…é¢˜æ„ï¼Œç­”æ¡ˆé”™äº†å‡ æ¬¡ï¼Œæœ€ç»ˆç­”å¯¹äº†ã€‚åœ¨æ¯”èµ›æ—¶ä¸ä¼šæœ‰éªŒè¯ç­”æ¡ˆçš„æœºä¼šï¼Œæ‰€ä»¥æ›´è¦åŠ å€çš„å°å¿ƒç†è§£é¢˜æ„ï¼Œ<strong>å¤šæ¬¡éªŒè¯å’Œæ£€æŸ¥</strong>ã€‚</li></ul><h4 id="Cå¹³æ–¹æ•°ï¼š"><a href="#Cå¹³æ–¹æ•°ï¼š" class="headerlink" title="Cå¹³æ–¹æ•°ï¼š"></a>Cå¹³æ–¹æ•°ï¼š</h4><ul><li>é€šè¿‡æ•°å­¦å’Œæ‰‹åŠ¨æ‰“è¡¨æ‰¾è§„å¾‹å¯ä»¥æ‰¾åˆ°è§£ä½“æ€è·¯ï¼Œæœ€åå†™ä»£ç æ—¶ç¬”è¯¯äº†å†™é”™å¯¼è‡´å‰ä¸¤æ¬¡æœªé€šè¿‡ã€‚æ¯”èµ›æ—¶è¦æ³¨æ„å°½é‡<strong>å¤šæå‡ ç»„æ•°æ®è¿›è¡Œæµ‹è¯•å†æäº¤</strong>ï¼Œç”šè‡³å¯ä»¥é€šè¿‡æš´åŠ›ç¼–å†™æµ‹è¯•ç¨‹åºæ¥å¯¹æ‹ã€‚</li></ul><h4 id="Dæ›´å°çš„æ•°ï¼š"><a href="#Dæ›´å°çš„æ•°ï¼š" class="headerlink" title="Dæ›´å°çš„æ•°ï¼š"></a>Dæ›´å°çš„æ•°ï¼š</h4><ul><li>å…ˆæ˜¯æ¨¡æ‹Ÿï¼Œå†ç„¶åå°è¯•dpï¼Œæ¨å¯¼å½’ç±»å®ƒçš„æ±‚è§£è¿‡ç¨‹ï¼Œæœ€ç»ˆåšå‡ºæ¥äº†ï¼å…³é”®åœ¨äºè€å¿ƒï¼Œå¤§èƒ†å‡è®¾ï¼Œå°å¿ƒæ±‚è¯ã€‚è¿˜æœ‰å°±æ˜¯dpçš„ä¸€èˆ¬å¥—è·¯ã€‚</li></ul><h4 id="Eé¢œè‰²å¹³è¡¡æ ‘ï¼š"><a href="#Eé¢œè‰²å¹³è¡¡æ ‘ï¼š" class="headerlink" title="Eé¢œè‰²å¹³è¡¡æ ‘ï¼š"></a>Eé¢œè‰²å¹³è¡¡æ ‘ï¼š</h4><ul><li>æ²¡æœ‰åšå‡ºæ¥ï¼Œåªæœ‰ä¸€äº›æ„Ÿè§‰ï¼Œæœäº†ä¸€ä¸‹å‘ç°ä¸€ç¯‡å¾ˆå‰å®³çš„é¢˜è§£ï¼Œå°±æ˜¯æ ‘ä¸Šdfsï¼Œæ¶‰åŠçš„stlä¹Ÿä¸å¤æ‚ï¼Œå´è¿‡äº†97%çš„æ•°æ®ï¼Œå€¼å¾—åå¤å­¦ä¹ ã€‚</li><li>ç ”ç©¶äº†è¿™ä¸ª97%çš„æš´åŠ›åšæ³•ï¼Œå‘ç°å¾ˆåç›´è§‰ï¼Œä½†æ˜¯ä¹Ÿå‘ç°è‡ªå·±å…¶å®æ˜¯å¯ä»¥å†™å‡ºæ¥æš´åŠ›çš„å†™æ³•çš„ï¼Œåªä¸è¿‡é€šè¿‡æ•°æ®ç‚¹å°‘äº›ã€‚èƒ½å†™å‡ºæ¥æš´åŠ›åšæ³•å°±å¾ˆæ£’äº†ï¼</li></ul><h4 id="Fä¹°ç“œï¼š"><a href="#Fä¹°ç“œï¼š" class="headerlink" title="Fä¹°ç“œï¼š"></a>Fä¹°ç“œï¼š</h4><ul><li>å°è¯•äº†dfsåˆ†ææš´åŠ›å¹¶ä¼˜åŒ–ï¼Œè¿‡äº†50%ï¼Œå¾ˆä¸é”™ï¼</li></ul><h4 id="Gç½‘ç»œè¿é€šæ€§ï¼š"><a href="#Gç½‘ç»œè¿é€šæ€§ï¼š" class="headerlink" title="Gç½‘ç»œè¿é€šæ€§ï¼š"></a>Gç½‘ç»œè¿é€šæ€§ï¼š</h4><ul><li>åŸºæœ¬å¯ä»¥å†™å‡ºæ¥æš´åŠ›çš„ç®—æ³•ï¼Œä½†æ˜¯å¿½ç•¥äº†ä¸€äº›ç‰¹æ®Šæƒ…å†µï¼Œå¯¼è‡´æ²¡æœ‰å¾—åˆ†ï¼Œä¸€ä¸ªæ˜¯è¾“å…¥çš„å¤šæ¡æ•°æ®å¯èƒ½ä¼šé‡åˆï¼Œéœ€è¦æ›´æ–°ï¼Œä¸€ä¸ªæ˜¯ä¸¤ä¸ªç‚¹ä¹‹é—´å¯ä»¥æ²¡æœ‰ç›´æ¥ç›¸è¿çš„çº¿ï¼Œä¹Ÿå¯ä»¥æ›´æ–°ã€‚ç‰¹æ®Šæƒ…å†µä¸€å®šè¦åå¤è€ƒè™‘åˆ°ï¼Œå°¤å…¶æ˜¯æœ¬ä»¥ä¸ºæ˜¯ä¼˜åŒ–çš„æ›´åŠ åå¤æ£€éªŒã€‚æœ‰æ—¶é—´çš„è¯å¯ä»¥æ„é€ æ•°æ®æ¥æµ‹è¯•ã€‚</li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>è“æ¡¥æ¯2023å¹´çœèµ›çœŸé¢˜åˆ†æ</title>
    <link href="/2024/03/11/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%9C%81%E8%B5%9B%E5%A4%87%E8%B5%9B/%E8%93%9D%E6%A1%A5%E6%9D%AF2023%E5%B9%B4%E7%9C%81%E8%B5%9B%E6%80%BB%E7%BB%93/"/>
    <url>/2024/03/11/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%9C%81%E8%B5%9B%E5%A4%87%E8%B5%9B/%E8%93%9D%E6%A1%A5%E6%9D%AF2023%E5%B9%B4%E7%9C%81%E8%B5%9B%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<h2 id="2023å¹´è“æ¡¥æ¯çœŸé¢˜åˆ†æ"><a href="#2023å¹´è“æ¡¥æ¯çœŸé¢˜åˆ†æ" class="headerlink" title="2023å¹´è“æ¡¥æ¯çœŸé¢˜åˆ†æ"></a>2023å¹´è“æ¡¥æ¯çœŸé¢˜åˆ†æ</h2><h4 id="Aå¹¸è¿æ•°"><a href="#Aå¹¸è¿æ•°" class="headerlink" title="Aå¹¸è¿æ•°"></a>Aå¹¸è¿æ•°</h4><ul><li>æ¨¡æ‹Ÿé¢˜ï¼Œæ¯”è¾ƒç®€å•ï¼Œç»†å¿ƒä¸€ç‚¹å°±å¯ä»¥å¾—åˆ†</li></ul><h4 id="Bæœ‰å¥–é—®ç­”"><a href="#Bæœ‰å¥–é—®ç­”" class="headerlink" title="Bæœ‰å¥–é—®ç­”"></a>Bæœ‰å¥–é—®ç­”</h4><ul><li>dfsæˆ–è€…ç®€å•dpï¼Œä¹Ÿæ˜¯æ¯”è¾ƒå®¹æ˜“çš„é¢˜ï¼Œè¦å†·é™åˆ†æï¼Œdfsç›¸å¯¹æ¥è¯´æ›´æ¸…æ™°ä¸€äº›</li></ul><h4 id="Cå¹³æ–¹å·®"><a href="#Cå¹³æ–¹å·®" class="headerlink" title="Cå¹³æ–¹å·®"></a>Cå¹³æ–¹å·®</h4><ul><li>æ‰¾è§„å¾‹çš„é¢˜ç›®ï¼Œæ¯”è¾ƒç®€å•ï¼Œæ˜¯å¯ä»¥åšå‡ºæ¥çš„</li></ul><h4 id="Dæ›´å°çš„æ•°"><a href="#Dæ›´å°çš„æ•°" class="headerlink" title="Dæ›´å°çš„æ•°"></a>Dæ›´å°çš„æ•°</h4><ul><li>åŒºé—´dpï¼Œæ€è·¯ä¸éš¾ï¼Œä½†æ˜¯è¦å¯¹åŸºæœ¬dpé—®é¢˜è¶³å¤Ÿç†Ÿç»ƒ</li></ul><h4 id="Hå¼‚æˆ–å’Œä¹‹å’Œ"><a href="#Hå¼‚æˆ–å’Œä¹‹å’Œ" class="headerlink" title="Hå¼‚æˆ–å’Œä¹‹å’Œ"></a>Hå¼‚æˆ–å’Œä¹‹å’Œ</h4><ul><li>ä½è¿ç®—ï¼Œè”ç³»å‰ç¼€å’Œï¼Œæ²¡æœ‰ç»éªŒä¸å¤ªå¥½åšå‡ºæ¥</li></ul><h4 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a><strong>æ€»ç»“</strong>ï¼š</h4><p>ä»¥ä¸Šçš„é¢˜ç›®æ˜¯èƒ½åŠ›ä¹‹å†…å¯ä»¥å°è¯•åšå‡ºæ¥çš„ï¼Œæˆ–è€…æ‹¿å¤§éƒ¨åˆ†çš„åˆ†ï¼Œä¹Ÿæ˜¯å­¦ä¹ çš„é‡ç‚¹ã€‚æ‰€ä»¥æ¥ä¸‹æ¥çš„å­¦ä¹ é™¤äº†åˆ·çœŸé¢˜è¿˜è¦åŒ…æ‹¬<strong>dfs</strong>å’Œ<strong>ç®€å•ç»å…¸çš„dp</strong>è¿˜æœ‰ä¸€äº›<strong>ç»å…¸é¢˜ç›®</strong>ã€‚</p><ul><li>å‰©ä½™é¢˜ç›®æ€è€ƒæ˜¯å¦æœ‰æš´åŠ›è§£å†³å¾—éƒ¨åˆ†åˆ†çš„æ–¹æ³•ï¼ŒçŸ¥é“è€ƒå¯Ÿä»€ä¹ˆçŸ¥è¯†ç‚¹</li></ul>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è“æ¡¥æ¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è“æ¡¥æ¯çœŸé¢˜è®­ç»ƒ-2023å¹´çœèµ›Bç»„</title>
    <link href="/2024/03/11/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%9C%81%E8%B5%9B%E5%A4%87%E8%B5%9B/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%9C%9F%E9%A2%98%E8%AE%AD%E7%BB%83-2023%E5%B9%B4%E7%9C%81%E8%B5%9BB%E7%BB%84/"/>
    <url>/2024/03/11/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%9C%81%E8%B5%9B%E5%A4%87%E8%B5%9B/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%9C%9F%E9%A2%98%E8%AE%AD%E7%BB%83-2023%E5%B9%B4%E7%9C%81%E8%B5%9BB%E7%BB%84/</url>
    
    <content type="html"><![CDATA[<h2 id="2023å¹´çœèµ›é¢˜ç›®Bç»„"><a href="#2023å¹´çœèµ›é¢˜ç›®Bç»„" class="headerlink" title="2023å¹´çœèµ›é¢˜ç›®Bç»„"></a>2023å¹´çœèµ›é¢˜ç›®Bç»„</h2><h3 id="ç‚¼å†¶é‡‘å±ï¼š"><a href="#ç‚¼å†¶é‡‘å±ï¼š" class="headerlink" title="ç‚¼å†¶é‡‘å±ï¼š"></a>ç‚¼å†¶é‡‘å±ï¼š</h3><ul><li><p>æè¿°ï¼šæ ¹æ®è¿™ <em>N</em> æ¡å†¶ç‚¼è®°å½•ï¼Œè¯·ä½ æ¨æµ‹å‡ºè½¬æ¢ç‡ <em>V</em> çš„æœ€å°å€¼å’Œæœ€å¤§å€¼åˆ†åˆ«å¯èƒ½æ˜¯å¤šå°‘ï¼Œé¢˜ç›®ä¿è¯è¯„æµ‹æ•°æ®ä¸å­˜åœ¨æ— è§£çš„æƒ…å†µã€‚</p></li><li><p>æ€è·¯ï¼šæ ¹æ®æƒ…å†µå¾ˆé¡ºåˆ©åœ°æ¨å¯¼å‡ºé€»è¾‘ï¼Œä»£ç å®ç°å³å¯</p></li><li><p>ä»£ç ï¼š</p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> INF = <span class="hljs-number">0x7fffffff</span>;<br><span class="hljs-type">int</span> n, A, B, l = -INF, r = INF; <br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n;<br><span class="hljs-keyword">while</span>(n--)&#123;<br>cin&gt;&gt;A&gt;&gt;B;<br>l = <span class="hljs-built_in">max</span>(l, A/(B + <span class="hljs-number">1</span>) + <span class="hljs-number">1</span>);<br>r = <span class="hljs-built_in">min</span>(r, A/B);<br>&#125;<br>cout&lt;&lt;l&lt;&lt;<span class="hljs-string">&quot; &quot;</span>&lt;&lt;r&lt;&lt;endl;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šå¹¶ä¸éš¾ï¼Œä¸»è¦æ˜¯INFè¿™é‡ŒæŒæ¡ä¸è¶³ï¼Œéœ€è¦è®°ä½ã€‚</li></ul><h3 id="é£æœºé™è½ï¼š"><a href="#é£æœºé™è½ï¼š" class="headerlink" title="é£æœºé™è½ï¼š"></a>é£æœºé™è½ï¼š</h3><ul><li>æè¿°ï¼šè¯·ä½ åˆ¤æ–­ <em>N</em> æ¶é£æœºæ˜¯å¦å¯ä»¥å…¨éƒ¨å®‰å…¨é™è½ã€‚</li><li>æ€è·¯ï¼šåˆšå¼€å§‹å°è¯•è´ªå¿ƒä½†æ˜¯å‘ç°æ€ä¹ˆéƒ½è°ƒä¸å‡ºæ¥æ‰€æœ‰é£æœºçš„é¡ºåºï¼Œæ•…è€Œé‡‡å–dfséå†æ‰€æœ‰é£æœºçš„é¡ºåºï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(N^2),ä¸»è¦æ³¨æ„bookæ¯æ¬¡éƒ½è¦é‡ç½®ä¸º0ï¼Œä¸ç„¶ä¼šå½±å“åé¢çš„ä½¿ç”¨ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">15</span>;<br><span class="hljs-type">int</span> T, n, book[<span class="hljs-number">15</span>]; <br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">node</span>&#123;<br><span class="hljs-type">int</span> t;<br><span class="hljs-type">int</span> d;<br><span class="hljs-type">int</span> l;<br>&#125;p[N];<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> step, <span class="hljs-type">int</span> tim)</span></span>&#123;<br><span class="hljs-keyword">if</span>(step &gt; n) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br><span class="hljs-keyword">if</span>(book[i] == <span class="hljs-number">1</span> ) <span class="hljs-keyword">continue</span>;<br><span class="hljs-keyword">if</span>(p[i].t + p[i].d &lt; tim) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>book[i] = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">dfs</span>(step + <span class="hljs-number">1</span>, <span class="hljs-built_in">max</span>(tim, p[i].t) + p[i].l))&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>&#125;<br>book[i] = <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;T;<br><span class="hljs-keyword">while</span>(T--)&#123;<br>cin&gt;&gt;n;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br>cin&gt;&gt;p[i].t&gt;&gt;p[i].d&gt;&gt;p[i].l;<br>&#125;<br><span class="hljs-built_in">memset</span>(book,<span class="hljs-number">0</span>,<span class="hljs-built_in">sizeof</span>(book));<br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">dfs</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>)) cout&lt;&lt;<span class="hljs-string">&quot;YES&quot;</span>&lt;&lt;endl;<br><span class="hljs-keyword">else</span> cout&lt;&lt;<span class="hljs-string">&quot;NO&quot;</span>&lt;&lt;endl; <br>&#125;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šforéå†dfsè¿™ç§å½¢å¼å…¶å®æ¯”è¾ƒå¸¸è§ï¼Œæ³¨æ„è¦æ¢å¤ç°åœºï¼Œå¤šå¤šè€ƒè™‘æ¸…æ¥šç»†èŠ‚é—®é¢˜ã€‚</li></ul><h3 id="æ¥é¾™æ•°åˆ—ï¼š"><a href="#æ¥é¾™æ•°åˆ—ï¼š" class="headerlink" title="æ¥é¾™æ•°åˆ—ï¼š"></a>æ¥é¾™æ•°åˆ—ï¼š</h3><ul><li>æè¿°ï¼šç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œåˆ¤æ–­æœ€å°‘å»æ‰å¤šå°‘ä¸ªå…ƒç´ å¯ä»¥ä½¿å‰©ä½™æ•°åˆ—ä¸ºæ¥é¾™æ•°åˆ—</li><li>æ€è·¯ï¼šæœ€å°‘ä¸å¤ªå¥½åˆ¤æ–­ï¼Œå¯ä»¥è½¬åŒ–ä¸€ä¸‹æ€è·¯ï¼ŒæŠŠè§£å†³çš„é—®é¢˜å˜ä¸ºåœ¨åŸæ•°ç»„æ‰¾æœ€é•¿çš„æ¥é¾™å­åºåˆ—ï¼Œé‚£ä¹ˆå°±æ˜¯ä¸€ä¸ªçº¿æ€§dpé—®é¢˜äº†ï¼ŒæŠŠæ¯ä¸ªæ•°å­—éƒ½å½“ä½œå­—ç¬¦ä¸²å­˜å‚¨æ›´å®¹æ˜“ä½¿ç”¨ã€‚dp[c]è¡¨ç¤ºä»¥cä¸ºç»“å°¾çš„æœ€é•¿æ¥é¾™å­åºåˆ—çš„é•¿åº¦ï¼Œé‚£ä¹ˆä»å¤´å¼€å§‹éå†åºåˆ—,å½“å‰çš„å­—ç¬¦ä¸²æ˜¯s, dp[s[m-1] - 48] &#x3D; max(dp[s[m-1] - 48], dp[s[0] - 48] + 1)ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br>string s;<br><span class="hljs-type">int</span> dp[<span class="hljs-number">15</span>], ans, n; <br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br>cin&gt;&gt;s;<br><span class="hljs-type">int</span> m = s.<span class="hljs-built_in">length</span>();<br>dp[s[m<span class="hljs-number">-1</span>] - <span class="hljs-number">48</span>] = <span class="hljs-built_in">max</span>(dp[s[m<span class="hljs-number">-1</span>] - <span class="hljs-number">48</span>], dp[s[<span class="hljs-number">0</span>] - <span class="hljs-number">48</span>] + <span class="hljs-number">1</span>);<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">9</span>; i++)&#123;<br>ans = <span class="hljs-built_in">max</span>(ans, dp[i]);<br>&#125;<br>cout&lt;&lt;n-ans&lt;&lt;endl;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šè¿˜æ˜¯è§‰å¾—å¾ˆç¥å¥‡çš„çº¿æ€§DP,ä»å¤´å¼€å§‹éå†ç«Ÿç„¶å°±å¯ä»¥é€æ­¥è§£å†³å­åºåˆ—çš„æ±‚è§£ï¼Œå¤ªç®€æ´æœ‰åŠ›äº†~</li></ul><h3 id="æŠ“å¨ƒå¨ƒï¼š"><a href="#æŠ“å¨ƒå¨ƒï¼š" class="headerlink" title="æŠ“å¨ƒå¨ƒï¼š"></a>æŠ“å¨ƒå¨ƒï¼š</h3><ul><li>æè¿°ï¼šå¥—åœˆï¼Œç»™å–å¤šä¸ªåŒºé—´ï¼Œå¤šæ¡çº¿æ®µï¼Œçº¿æ®µè¦†ç›–åŒºé—´ä¸€åŠä»¥ä¸Šç®—æ˜¯å¥—ä¸­ï¼Œé—®æ¯ä¸ªçº¿æ®µå¯ä»¥å¥—ä¸­å‡ ä¸ª</li><li>æ€è·¯ï¼šå¥—ä¸­å…¶å®ç›¸ç­‰äºåŒºé—´çš„ä¸­ç‚¹åœ¨çº¿æ®µä¹‹å†…ï¼Œé‚£ä¹ˆæ±‚å‡ºæ‰€æœ‰çš„åŒºé—´ä¸­ç‚¹å†å‰ç¼€å’Œä¸€ä¸‹ï¼Œå°±å¯ä»¥O(1)æ±‚å‡ºå¥—ä¸­çš„åŒºé—´ä¸ªæ•°äº†ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1000050</span>;<br><span class="hljs-type">int</span> n, m, mp[N]; <br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n&gt;&gt;m;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>,l,r; i &lt;= n; i++)&#123;<br>cin&gt;&gt;l&gt;&gt;r;<br>mp[l+r]++;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= N; i++)&#123;<br>mp[i] = mp[i<span class="hljs-number">-1</span>] + mp[i];<br>&#125;<br><span class="hljs-type">int</span> l, r;<br><span class="hljs-keyword">while</span>(m--)&#123;<br>cin&gt;&gt;l&gt;&gt;r;<br>l *= <span class="hljs-number">2</span>;<br>r *= <span class="hljs-number">2</span>;<br>cout&lt;&lt;mp[r] - mp[l<span class="hljs-number">-1</span>]&lt;&lt;endl;  <br>&#125;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šè½¬åŒ–ä¸€ä¸‹æ€è·¯å³å¯ï¼Œæ³¨æ„æ±‚ä¸­ç‚¹å¯èƒ½å‡ºç°å°æ•°ï¼Œæœ€å¥½éƒ½ä¹˜2æ¥é¿å…ï¼Œè¿™ç‚¹å·²ç»ä¸æ­¢ä¸€æ¬¡é‡åˆ°äº†ã€‚</li></ul><h3 id="å­ä¸²ç®€å†™ï¼š"><a href="#å­ä¸²ç®€å†™ï¼š" class="headerlink" title="å­ä¸²ç®€å†™ï¼š"></a>å­ä¸²ç®€å†™ï¼š</h3><ul><li>æè¿°ï¼šå­ä¸²Kuberneteså¯ä»¥ç®€å†™æˆ K8sï¼Œæˆ‘ä»¬è§„å®šé•¿åº¦å¤§äºç­‰äº K çš„å­—ç¬¦ä¸²éƒ½å¯ä»¥é‡‡ç”¨è¿™ç§ç®€å†™æ–¹æ³•ã€‚é•¿åº¦å°äº K çš„å­—ç¬¦ä¸²ä¸å…è®¸ä½¿ç”¨è¿™ç§ç®€å†™ã€‚ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² S å’Œä¸¤ä¸ªå­—ç¬¦ c1 å’Œ c2ã€‚è¯·ä½ è®¡ç®— S æœ‰å¤šå°‘ä¸ªä»¥ c1 å¼€å¤´ c2 ç»“å°¾çš„å­ä¸²å¯ä»¥é‡‡ç”¨è¿™ç§ç®€å†™ï¼Ÿ</li><li>æ€è·¯ï¼šå…¶å®å°±æ˜¯æ‰¾å¯¹åº”çš„c1,c2ç»„æ•°ï¼Œç„¶åè·ç¦»è¦å¤§äºç­‰äºk,ä¸ºäº†é™ä½æ—¶é—´å¤æ‚åº¦ï¼Œå¯¹c1çš„ä½ç½®è¿›è¡Œå­˜å‚¨ï¼Œç„¶åæ‰¾å‡ºæœ€å¤§çš„ç¬¦åˆå½“å‰c2ä½ç½®è¦æ±‚çš„ä½ç½®ã€‚æ—¶é—´å¤æ‚åº¦åº”å½“æ˜¯NlogNã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span><br><span class="hljs-type">int</span> k, ans;<br>string s;<br><span class="hljs-type">char</span> c1,c2;<br>vector&lt;<span class="hljs-type">int</span>&gt; pc1;<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;k&gt;&gt;s&gt;&gt;c1&gt;&gt;c2;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; s.<span class="hljs-built_in">size</span>(); i++)&#123;<br><span class="hljs-keyword">if</span>(s[i] == c1)&#123;<br>pc1.<span class="hljs-built_in">push_back</span>(i);<br>&#125;<br><span class="hljs-keyword">if</span>(s[i] == c2)&#123;<br><span class="hljs-keyword">if</span>(i - k + <span class="hljs-number">1</span> &lt; <span class="hljs-number">0</span> || pc1.<span class="hljs-built_in">size</span>() == <span class="hljs-number">0</span>) <span class="hljs-keyword">continue</span>;<br><span class="hljs-type">int</span> l = <span class="hljs-number">0</span>, r = pc1.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>;<br><span class="hljs-keyword">while</span>(l &lt; r)&#123;<br><span class="hljs-type">int</span> mid = (l + r + <span class="hljs-number">1</span>)&gt;&gt;<span class="hljs-number">1</span>;<br><span class="hljs-keyword">if</span>(pc1[mid] &lt;= i - k + <span class="hljs-number">1</span>) l = mid;<br><span class="hljs-keyword">else</span> r = mid - <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-keyword">if</span>(pc1[l] &lt;= i - k + <span class="hljs-number">1</span>)&#123;<br>ans += l + <span class="hljs-number">1</span>;<br>&#125;<br>&#125;<br>&#125;<br>cout&lt;&lt;ans&lt;&lt;endl;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šé€šè¿‡äºŒåˆ†å¾ˆæœ‰æ•ˆåœ°é™ä½äº†æ—¶é—´å¤æ‚åº¦ï¼Œè€Œä¸”å¾ˆç®€æ´æ˜äº†ã€‚å…³äºäºŒåˆ†çš„é¢˜ç›®è¿˜æ˜¯è¦é‡è§†ï¼Œå…¶è¦æ±‚å°±æ˜¯å­˜åœ¨ä¸€ä¸ªä¸´ç•Œç‚¹ï¼Œæ‰¾å‡ºè¿™ä¸ªä¸´ç•Œç‚¹ã€‚å¦å¤–ï¼Œå‘ç°é¢˜ç›®å¿…é¡»å¼€long longæ‰èƒ½è¿‡ã€‚æ‰€ä»¥æ¯”èµ›çš„æ—¶å€™ä¸ç®¡ä¸‰ä¸ƒäºŒåä¸€ï¼Œæœ€å¥½éƒ½å†™ä¸Š#define int long longï¼Œè¿™æ ·å­ä¼šé¿å…å¤±å»ä¸å¿…è¦å¤±å»çš„åˆ†æ•°ã€‚</li></ul><h3 id="01ä¸²çš„ç†µ"><a href="#01ä¸²çš„ç†µ" class="headerlink" title="01ä¸²çš„ç†µ"></a>01ä¸²çš„ç†µ</h3><ul><li>æè¿°ï¼šå¯¹äºä¸€ä¸ªé•¿åº¦ä¸º23333333 çš„ 01 ä¸²ï¼Œå¦‚æœå…¶ä¿¡æ¯ç†µä¸º 11625907.5798ï¼Œä¸” 0 å‡ºç°æ¬¡æ•°æ¯” 1 å°‘ï¼Œé‚£ä¹ˆè¿™ä¸ª01 ä¸²ä¸­ 0 å‡ºç°äº†å¤šå°‘æ¬¡ï¼Ÿ</li><li>æ€è·¯ï¼šæ¨¡æ‹Ÿå³å¯ï¼Œ0çš„ä¸ªæ•°0å¼€å§‹éå†ï¼Œç›´åˆ°ç»“æœæ±‚å‡ºä¸æ‰€ç»™çš„å€¼ä¸€è‡´</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">int</span> n = <span class="hljs-number">23333333</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt;= n/<span class="hljs-number">2</span>; i++)&#123;<br><span class="hljs-type">double</span> x = (<span class="hljs-number">-1.0</span>)*(<span class="hljs-number">1.0</span>*i/n)*<span class="hljs-built_in">log2</span>(<span class="hljs-number">1.0</span>*i/n)*i;<br><span class="hljs-type">double</span> y = (<span class="hljs-number">-1.0</span>)*(n-i)/n*<span class="hljs-built_in">log2</span>(<span class="hljs-number">1.0</span>*(n-i)/n)*(n-i);<br><span class="hljs-keyword">if</span>(x + y &gt;= <span class="hljs-number">11625907.5798</span> &amp;&amp; x + y &lt;= <span class="hljs-number">11625907.5799</span>)&#123;<br>cout&lt;&lt;i&lt;&lt;endl;<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šæ¨¡æ‹Ÿå¹¶ä¸å›°éš¾ï¼Œå…³é”®è¦æ³¨æ„æ•´æ•°å‹åœ¨è¿›è¡Œ<strong>é™¤æ³•è¿ç®—æ—¶å¿…é¡»åŠ å…¥1.0è¿™æ ·çš„æµ®ç‚¹æ•°</strong>ï¼Œå¦åˆ™ä¼šç²¾åº¦ç¼ºå¤±ï¼›å¦å¤–ï¼Œæœ€ç»ˆçš„<strong>æµ®ç‚¹æ•°ç»“æœçš„åˆ¤å®š</strong>ä¹Ÿè¦é€‰å–x + y &gt;&#x3D; 11625907.5798 &amp;&amp; x + y &lt;&#x3D; 11625907.5799è¿™æ ·çš„åˆç†èŒƒå›´ã€‚</li></ul><h3 id="æ™¯åŒºå¯¼æ¸¸ï¼š"><a href="#æ™¯åŒºå¯¼æ¸¸ï¼š" class="headerlink" title="æ™¯åŒºå¯¼æ¸¸ï¼š"></a>æ™¯åŒºå¯¼æ¸¸ï¼š</h3><ul><li>æè¿°ï¼šæŸæ™¯åŒºä¸€å…±æœ‰ N ä¸ªæ™¯ç‚¹ï¼Œç¼–å· 1 åˆ° Nã€‚<br>æ™¯ç‚¹ä¹‹é—´å…±æœ‰ N âˆ’ 1 æ¡åŒå‘çš„æ‘†æ¸¡è½¦çº¿è·¯ç›¸è¿ï¼Œå½¢æˆä¸€æ£µæ ‘çŠ¶ç»“æ„ã€‚<br>åœ¨æ™¯ç‚¹ä¹‹é—´å¾€è¿”åªèƒ½é€šè¿‡è¿™äº›æ‘†æ¸¡è½¦è¿›è¡Œï¼Œéœ€è¦èŠ±è´¹ä¸€å®šçš„æ—¶é—´ã€‚<br>å°æ˜æ˜¯è¿™ä¸ªæ™¯åŒºçš„èµ„æ·±å¯¼æ¸¸ï¼Œä»–æ¯å¤©éƒ½è¦æŒ‰å›ºå®šé¡ºåºå¸¦å®¢äººæ¸¸è§ˆå…¶ä¸­ K ä¸ªæ™¯ç‚¹ï¼šA1, A2, â€¦ , AKã€‚ ä»Šå¤©ç”±äºæ—¶é—´åŸå› ï¼Œå°æ˜å†³å®šè·³è¿‡å…¶ä¸­ä¸€ä¸ªæ™¯ç‚¹ï¼Œåªå¸¦æ¸¸å®¢æŒ‰é¡ºåºæ¸¸è§ˆå…¶ä¸­ K âˆ’ 1 ä¸ªæ™¯ç‚¹ã€‚<br>å…·ä½“æ¥è¯´ï¼Œå¦‚æœå°æ˜é€‰æ‹©è·³è¿‡ Aiï¼Œé‚£ä¹ˆä»–ä¼šæŒ‰é¡ºåºå¸¦æ¸¸å®¢æ¸¸è§ˆA1, A2, â€¦ , Aiâˆ’1, Ai+1, â€¦ , AK; (1 â‰¤ i â‰¤ K)ã€‚<br>è¯·ä½ å¯¹ä»»æ„ä¸€ä¸ª Aiï¼Œè®¡ç®—å¦‚æœè·³è¿‡è¿™ä¸ªæ™¯ç‚¹ï¼Œå°æ˜éœ€è¦èŠ±è´¹å¤šå°‘æ—¶é—´åœ¨æ™¯ç‚¹ä¹‹é—´çš„æ‘†æ¸¡è½¦ä¸Šï¼Ÿ</li></ul><h4 id="è§£æ³•ä¸€ï¼šæš´åŠ›æ±‚æ ‘ä¸Šä¸¤ç‚¹è·ç¦»"><a href="#è§£æ³•ä¸€ï¼šæš´åŠ›æ±‚æ ‘ä¸Šä¸¤ç‚¹è·ç¦»" class="headerlink" title="è§£æ³•ä¸€ï¼šæš´åŠ›æ±‚æ ‘ä¸Šä¸¤ç‚¹è·ç¦»"></a>è§£æ³•ä¸€ï¼šæš´åŠ›æ±‚æ ‘ä¸Šä¸¤ç‚¹è·ç¦»</h4><ul><li>æ€è·¯ï¼šé€šè¿‡dfsæ¥æ±‚æ ‘ä¸Šä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»ï¼Œæ±‚å‡ºæ€»çš„è·¯çº¿çš„sumï¼Œå†éå†å»æ‰æ¯ä¸€ä¸ªç‚¹ï¼Œsumè¿›è¡Œç®€å•çš„åŠ å‡ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long </span><br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; PII;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">2e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> n, k, a[N], sum;<br>vector&lt;PII&gt; e[N];<br>map&lt;PII, <span class="hljs-type">int</span>&gt; st;<br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> s, <span class="hljs-type">int</span> cur, <span class="hljs-type">int</span> last, <span class="hljs-type">int</span> v, <span class="hljs-type">int</span> sum)</span></span>&#123;<br><span class="hljs-keyword">if</span>(cur == v)&#123;<br>st[&#123;s, v&#125;] = sum;<br>st[&#123;v, s&#125;] = sum;<br><span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; e[cur].<span class="hljs-built_in">size</span>(); i++)&#123;<br><span class="hljs-type">int</span> x = e[cur][i].first;<br><span class="hljs-keyword">if</span>(x == last) <span class="hljs-keyword">continue</span>;<br><span class="hljs-type">int</span> y = e[cur][i].second;<br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">dfs</span>(s, x, cur, v, sum + y))&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n&gt;&gt;k;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>,u,v,t; i &lt; n - <span class="hljs-number">1</span>;i++)&#123;<br>cin&gt;&gt;u&gt;&gt;v&gt;&gt;t;<br>e[u].<span class="hljs-built_in">push_back</span>(&#123;v, t&#125;);<br>e[v].<span class="hljs-built_in">push_back</span>(&#123;u, t&#125;);<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; k; i++) cin&gt;&gt;a[i];<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; k - <span class="hljs-number">1</span>; i++)&#123;<br><span class="hljs-built_in">dfs</span>(a[i], a[i], <span class="hljs-number">-1</span>, a[i + <span class="hljs-number">1</span>], <span class="hljs-number">0</span>);<br>sum += st[&#123;a[i], a[i + <span class="hljs-number">1</span>]&#125;];<br>&#125;<br><span class="hljs-type">int</span> res;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; k; i++)&#123;<br><span class="hljs-keyword">if</span>(i == <span class="hljs-number">0</span>)&#123;<br><span class="hljs-comment">//dfs(a[i], a[i], -1, a[i + 1], 0);</span><br>res = sum - st[&#123;a[i], a[i + <span class="hljs-number">1</span>]&#125;];<br>&#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(i == k - <span class="hljs-number">1</span>)&#123;<br><span class="hljs-comment">//dfs(a[i-1], a[i-1], -1, a[i], 0);</span><br>res = sum - st[&#123;a[i<span class="hljs-number">-1</span>], a[i]&#125;];<br>&#125;<span class="hljs-keyword">else</span>&#123;<br><span class="hljs-built_in">dfs</span>(a[i<span class="hljs-number">-1</span>], a[i<span class="hljs-number">-1</span>], <span class="hljs-number">-1</span>, a[i+<span class="hljs-number">1</span>], <span class="hljs-number">0</span>);<br>res = sum - st[&#123;a[i<span class="hljs-number">-1</span>],a[i]&#125;] - st[&#123;a[i], a[i+<span class="hljs-number">1</span>]&#125;] + st[&#123;a[i<span class="hljs-number">-1</span>], a[i+<span class="hljs-number">1</span>]&#125;];<br>&#125;<br>cout&lt;&lt;res&lt;&lt;endl;<br>&#125;<br><br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šæ˜¯ä¸€ç§æš´åŠ›è§£æ³•ï¼Œå…³é”®åœ¨äºæ ‘ä¸Šä¸¤ç‚¹è·ç¦»çš„dfsæ±‚è§£ï¼Œå…¶å®è¿™ç±»é¢˜ç›®çš„å¥—è·¯åŸºæœ¬å·²ç»å¾ˆç†Ÿæ‚‰äº†ï¼Œè¿˜æ˜¯è¦å‹‡æ•¢å»åšï¼Œå»å°è¯•ã€‚è¿™æ˜¯ä¸€é“å¾ˆæ£’çš„ç»ƒæ‰‹é¢˜~</li></ul><h4 id="è§£æ³•äºŒï¼šæ ‘ä¸Šå‰ç¼€å’Œ-LCA"><a href="#è§£æ³•äºŒï¼šæ ‘ä¸Šå‰ç¼€å’Œ-LCA" class="headerlink" title="è§£æ³•äºŒï¼šæ ‘ä¸Šå‰ç¼€å’Œ+LCA"></a>è§£æ³•äºŒï¼šæ ‘ä¸Šå‰ç¼€å’Œ+LCA</h4><ul><li>æ€è·¯ï¼šæš´åŠ›çš„æ—¶é—´å¤æ‚åº¦åªè¦ä½“ç°åœ¨æ¯æ¬¡éƒ½è¦dfsæ¥æ±‚ä¸¤ç‚¹ä¹‹é—´è·ç¦»ï¼Œå¯ä»¥åˆ©ç”¨æ ‘ä¸Šå‰ç¼€å’Œï¼Œå…ˆé¢„å¤„ç†æ¯ä¸ªç‚¹åˆ°æ ¹èŠ‚ç‚¹çš„è·ç¦»ï¼Œé‚£ä¹ˆä¸¤ç‚¹é—´è·ç¦»&#x3D;sum[u]+sum[v]- 2*sum[lca(u,v)]ã€‚æ—¶é—´å¤æ‚åº¦å˜ä¸ºO(N)+O(logN)</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long </span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; PII;<br><span class="hljs-type">int</span> n, k, a[N], sum[N];<br>vector&lt;PII&gt; e[N];<br><span class="hljs-type">int</span> siz[N], dep[N], top[N], fa[N], son[N];<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs1</span><span class="hljs-params">(<span class="hljs-type">int</span> u ,<span class="hljs-type">int</span> father)</span></span>&#123;<span class="hljs-comment">//(1,0)</span><br>siz[u] = <span class="hljs-number">1</span>;<br>dep[u] = dep[father] + <span class="hljs-number">1</span>;<br>fa[u] = father;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; e[u].<span class="hljs-built_in">size</span>(); i++)&#123;<br><span class="hljs-type">int</span> s = e[u][i].first;<br><span class="hljs-keyword">if</span>(s == fa[u]) <span class="hljs-keyword">continue</span>;<br><span class="hljs-built_in">dfs1</span>(s, u);<br>siz[u] += siz[s];<br><span class="hljs-keyword">if</span>(siz[son[u]] &lt; siz[s])&#123;<br>son[u] = s;<br>&#125;<br>&#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs2</span><span class="hljs-params">(<span class="hljs-type">int</span> u ,<span class="hljs-type">int</span> t)</span></span>&#123;<span class="hljs-comment">//(1,1)</span><br>top[u] = t;<br><span class="hljs-keyword">if</span>(son[u] == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>;<br><span class="hljs-built_in">dfs2</span>(son[u], t);<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; e[u].<span class="hljs-built_in">size</span>(); i++)&#123;<br><span class="hljs-type">int</span> s = e[u][i].first;<br><span class="hljs-keyword">if</span>(s == fa[u] || s == son[u]) <span class="hljs-keyword">continue</span>;<br><span class="hljs-built_in">dfs2</span>(s, s);<br>&#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">lca</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span></span>&#123;<br><span class="hljs-keyword">while</span>(top[x] != top[y])&#123;<br><span class="hljs-keyword">if</span>(dep[top[x]] &lt; dep[top[y]])&#123;<br><span class="hljs-built_in">swap</span>(x, y);<br>&#125;<br>x = fa[top[x]];<br>&#125;<br><span class="hljs-keyword">return</span> dep[x] &lt; dep[y]? x : y;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">cal_sum</span><span class="hljs-params">(<span class="hljs-type">int</span> u)</span></span>&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; e[u].<span class="hljs-built_in">size</span>(); i++)&#123;<br><span class="hljs-type">int</span> x = e[u][i].first;<br><span class="hljs-keyword">if</span>(x == fa[u]) <span class="hljs-keyword">continue</span>;<br><span class="hljs-type">int</span> y = e[u][i].second;<br>sum[x] = sum[u] + y;<br><span class="hljs-built_in">cal_sum</span>(x);<br>&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n&gt;&gt;k;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>, u, v, t; i &lt; n - <span class="hljs-number">1</span>; i++)&#123;<br>cin&gt;&gt;u&gt;&gt;v&gt;&gt;t;<br>e[u].<span class="hljs-built_in">push_back</span>(&#123;v, t&#125;);<br>e[v].<span class="hljs-built_in">push_back</span>(&#123;u, t&#125;);<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= k; i++)&#123;<br>cin&gt;&gt;a[i];<br>&#125;<br><span class="hljs-built_in">dfs1</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br><span class="hljs-built_in">dfs2</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);<br><br><span class="hljs-built_in">cal_sum</span>(<span class="hljs-number">1</span>);<br><br><span class="hljs-type">int</span> ans = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= k - <span class="hljs-number">1</span>; i++)&#123;<br><span class="hljs-type">int</span> u = a[i], v = a[i + <span class="hljs-number">1</span>];<br><span class="hljs-type">int</span> cost = sum[u] + sum[v] - <span class="hljs-number">2</span>*sum[<span class="hljs-built_in">lca</span>(u,v)];<br>ans += cost;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= k; i++)&#123;<br><span class="hljs-type">int</span> tmp = ans, w = a[i - <span class="hljs-number">1</span>], u = a[i], v = a[i + <span class="hljs-number">1</span>];<br><span class="hljs-keyword">if</span>(i == <span class="hljs-number">1</span>)&#123;<br>tmp -= sum[u] + sum[v] - <span class="hljs-number">2</span>*sum[<span class="hljs-built_in">lca</span>(u,v)]; <br>&#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(i == k)&#123;<br>tmp -= sum[w] + sum[u] - <span class="hljs-number">2</span>*sum[<span class="hljs-built_in">lca</span>(u,w)];<br>&#125;<span class="hljs-keyword">else</span>&#123;<br>tmp = tmp - (sum[u] + sum[v] - <span class="hljs-number">2</span>*sum[<span class="hljs-built_in">lca</span>(u,v)])-(sum[w] + sum[u] - <span class="hljs-number">2</span>*sum[<span class="hljs-built_in">lca</span>(u,w)])<br>+(sum[v] + sum[w] - <span class="hljs-number">2</span>*sum[<span class="hljs-built_in">lca</span>(w,v)]);<br>&#125;<br>cout&lt;&lt;tmp&lt;&lt;<span class="hljs-string">&quot; &quot;</span>;<br>&#125;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šçœ‹æ¥lcaçš„ç”¨é€”è¿˜æ˜¯å¾ˆå¹¿çš„ï¼Œå¯ä»¥å†å¤šå¤šè”ç³»ä»¥è¾¾åˆ°ç†Ÿç»ƒçš„ç¨‹åº¦ã€‚å¯ä»¥å’Œç æ ‘è¿™é“é¢˜è”åˆèµ·æ¥çœ‹ã€‚å…³é”®åœ¨äºlcaçš„æ¿å­ç†Ÿç»ƒï¼Œç›®å‰åŸºæœ¬å¯ä»¥æ•²ä¸‹æ¥äº†ï¼Œè¿˜éœ€è¦ä¸æ—¶çš„ç»ƒä¹ ã€‚</li></ul><h3 id="æ•´æ•°åˆ é™¤ï¼š"><a href="#æ•´æ•°åˆ é™¤ï¼š" class="headerlink" title="æ•´æ•°åˆ é™¤ï¼š"></a>æ•´æ•°åˆ é™¤ï¼š</h3><ul><li>æè¿°ï¼šç»™å®šä¸€ä¸ªé•¿åº¦ä¸º N çš„æ•´æ•°æ•°åˆ—ï¼šA1, A2, â€¦ , ANã€‚ä½ è¦é‡å¤ä»¥ä¸‹æ“ä½œ K æ¬¡ï¼š<br>æ¯æ¬¡é€‰æ‹©æ•°åˆ—ä¸­æœ€å°çš„æ•´æ•°ï¼ˆå¦‚æœæœ€å°å€¼ä¸æ­¢ä¸€ä¸ªï¼Œé€‰æ‹©æœ€é å‰çš„ï¼‰ï¼Œå°†å…¶åˆ é™¤ã€‚<br>å¹¶æŠŠä¸å®ƒç›¸é‚»çš„æ•´æ•°åŠ ä¸Šè¢«åˆ é™¤çš„æ•°å€¼ã€‚<br>è¾“å‡º K æ¬¡æ“ä½œåçš„åºåˆ—</li></ul><h4 id="è§£æ³•ä¸€ï¼šæš´åŠ›æ¨¡æ‹Ÿ"><a href="#è§£æ³•ä¸€ï¼šæš´åŠ›æ¨¡æ‹Ÿ" class="headerlink" title="è§£æ³•ä¸€ï¼šæš´åŠ›æ¨¡æ‹Ÿ"></a>è§£æ³•ä¸€ï¼šæš´åŠ›æ¨¡æ‹Ÿ</h4><ul><li>æ€è·¯ï¼šç›´æ¥å¯¹è¿‡ç¨‹è¿›è¡Œæ¨¡æ‹Ÿï¼Œèƒ½æ‹¿åˆ°20%çš„åˆ†æ•°ï¼Œä¸»è¦æ˜¯ç›¸é‚»çš„æ•°ç›¸åŠ è¿™é‡Œè¦è€ƒè™‘å­˜åœ¨åˆ é™¤äº†çš„æ•°ï¼Œå†åŠ ä¸¤ä¸ªå¾ªç¯éå†ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> INF 0x3f3f3f3f3f3f3f</span><br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">5e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> n, k, a[N], vis[N];<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n&gt;&gt;k;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br>cin&gt;&gt;a[i];<br>&#125;<br><span class="hljs-keyword">while</span>(k--)&#123;<br><span class="hljs-type">int</span> minn = INF, pos = <span class="hljs-number">-1</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br><span class="hljs-keyword">if</span>(vis[i]==<span class="hljs-number">0</span> &amp;&amp; a[i] &lt; minn)&#123;<br>minn = a[i];<br>pos = i;<br>&#125;<br>&#125;<br>vis[pos] = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = pos - <span class="hljs-number">1</span>; j &gt;= <span class="hljs-number">0</span>; j --)<br>&#123;<br><span class="hljs-keyword">if</span>(!vis[j])<br>&#123;<br>a[j] += minn;<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = pos + <span class="hljs-number">1</span>; j &lt; n; j ++)<br>&#123;<br><span class="hljs-keyword">if</span>(!vis[j])<br>&#123;<br>a[j] += minn;<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br><span class="hljs-keyword">if</span>(vis[i] == <span class="hljs-number">0</span>)&#123;<br>cout&lt;&lt;a[i]&lt;&lt;<span class="hljs-string">&quot; &quot;</span>;<br>&#125;<br>&#125; <br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šèƒ½ç›´æ¥æ¨¡æ‹Ÿå‡ºæ¥å¿«é€Ÿæ‹¿åˆ°éƒ¨åˆ†åˆ†ä¹Ÿæ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œè‡³å°‘æ˜¯ä¸ªä¿åº•ï¼Œå½“ç„¶èƒ½æ­£ç¡®æ¨¡æ‹Ÿä¹Ÿæ˜¯å¾ˆé‡è¦çš„ã€‚</li></ul><h4 id="è§£æ³•äºŒï¼šé“¾è¡¨-ä¼˜å…ˆé˜Ÿåˆ—"><a href="#è§£æ³•äºŒï¼šé“¾è¡¨-ä¼˜å…ˆé˜Ÿåˆ—" class="headerlink" title="è§£æ³•äºŒï¼šé“¾è¡¨+ä¼˜å…ˆé˜Ÿåˆ—"></a>è§£æ³•äºŒï¼šé“¾è¡¨+ä¼˜å…ˆé˜Ÿåˆ—</h4><ul><li><p>æ€è·¯ï¼šæš´åŠ›è§£æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸»è¦ä½“ç°åœ¨å¯»æ‰¾æœ€å°å€¼ä»¥åŠæ‰¾æœªè¢«åˆ é™¤çš„ç›¸é‚»èŠ‚ç‚¹ï¼Œå¯ä»¥ä½¿ç”¨å°æ ¹å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰é™ä½å¯»æ‰¾æœ€å°å€¼çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(logN)ï¼Œå†ç”¨åŒå‘é˜Ÿåˆ—ï¼ˆä¸¤ä¸ªæ•°ç»„ï¼‰ç»´æŠ¤ç›¸é‚»èŠ‚ç‚¹ã€‚</p></li><li><p>ä»£ç ï¼š</p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span><br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; pii;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">5e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> n, k, a[N], st[N], l[N], r[N]; <br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n&gt;&gt;k;<br>priority_queue&lt;pii, vector&lt;pii&gt;, greater&lt;pii&gt;&gt; q;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)&#123;<br>cin&gt;&gt;a[i];<br>q.<span class="hljs-built_in">push</span>(&#123;a[i], i&#125;);<br>st[i] = a[i];<br>l[i] = i - <span class="hljs-number">1</span>;<br>r[i] = i + <span class="hljs-number">1</span>;<br><span class="hljs-keyword">if</span>(i == n - <span class="hljs-number">1</span>) r[i] = <span class="hljs-number">-1</span>;<br>&#125;<br><br><span class="hljs-keyword">while</span>(k)&#123;<br>pii t = q.<span class="hljs-built_in">top</span>();<br>q.<span class="hljs-built_in">pop</span>();<br><span class="hljs-keyword">if</span>(t.first != st[t.second])&#123;<br>q.<span class="hljs-built_in">push</span>(&#123;st[t.second], t.second&#125;);<br><span class="hljs-keyword">continue</span>;<br>&#125;<br>k--;<br><span class="hljs-type">int</span> pos = t.second;<br><span class="hljs-keyword">if</span>(l[pos] &gt;= <span class="hljs-number">0</span>) st[l[pos]] += t.first;<br><span class="hljs-keyword">if</span>(r[pos] &gt;= <span class="hljs-number">0</span>) st[r[pos]] += t.first;<br><br><span class="hljs-keyword">if</span>(l[pos] &gt;= <span class="hljs-number">0</span>) r[l[pos]] = r[pos];<br><span class="hljs-keyword">if</span>(r[pos] &gt;= <span class="hljs-number">0</span>) l[r[pos]] = l[pos];<br>st[pos] = <span class="hljs-number">-1</span>;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)&#123;<br><span class="hljs-keyword">if</span>(st[i] != <span class="hljs-number">-1</span>)&#123;<br>cout&lt;&lt;st[i]&lt;&lt;<span class="hljs-string">&quot; &quot;</span>;<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šä¸€äº›ç»†èŠ‚é—®é¢˜å¯ä»¥å­¦ä¹ ï¼Œæ¯”å¦‚<strong>ä¿®æ”¹å€¼ï¼Œå°±æ˜¯å…ˆå–ï¼Œå‘ç°å€¼æœ‰äº†æ›´æ–°å°±åŠ ä¸Šæ”¾å›å»å†é‡æ–°å–</strong>ï¼Œç›´åˆ°æ²¡æœ‰æ”¹å˜å¤šäº†ï¼Œå†kâ€“,è¿™ç‚¹å¾ˆå·§å¦™ã€‚è¿™æ˜¯ç”±äºå°æ ¹å †çš„ç‰¹ç‚¹ï¼Œå–æœ€å°å€¼æ¯”è¾ƒå¿«ã€‚ä¸èƒ½ç›´æ¥æ‰¾å‡ºé‚£ä¸ªè¦åŠ çš„å€¼ï¼Œå–å‡ºå†æ”¾å›ï¼Œé‚£ä¹ˆå°æ ¹å †å°±å¤±å»ä¼˜åŠ¿äº†ã€‚</li></ul><h3 id="ç æ ‘ï¼š"><a href="#ç æ ‘ï¼š" class="headerlink" title="ç æ ‘ï¼š"></a>ç æ ‘ï¼š</h3><h4 id="è§£æ³•ä¸€ï¼šæš´åŠ›53"><a href="#è§£æ³•ä¸€ï¼šæš´åŠ›53" class="headerlink" title="è§£æ³•ä¸€ï¼šæš´åŠ›53%"></a>è§£æ³•ä¸€ï¼šæš´åŠ›53%</h4><ul><li>æè¿°ï¼šç»™å®šä¸€æ£µç”± n ä¸ªç»“ç‚¹ç»„æˆçš„æ ‘ä»¥åŠ m ä¸ªä¸é‡å¤çš„æ— åºæ•°å¯¹(a1, b1), (a2, b2), â€¦ , (am, bm)ï¼Œå…¶ä¸­ ai äº’ä¸ç›¸åŒï¼Œbi äº’ä¸ç›¸åŒï¼Œai â‰  bj(1 â‰¤ i, j â‰¤ m)ã€‚<br>å°æ˜æƒ³çŸ¥é“æ˜¯å¦èƒ½å¤Ÿé€‰æ‹©ä¸€æ¡æ ‘ä¸Šçš„è¾¹ç æ–­ï¼Œä½¿å¾—å¯¹äºæ¯ä¸ª (ai, bi) æ»¡è¶³ ai å’Œbi ä¸è¿é€šã€‚<br>å¦‚æœå¯ä»¥åˆ™è¾“å‡ºåº”è¯¥æ–­æ‰çš„è¾¹çš„ç¼–å·ï¼ˆç¼–å·æŒ‰è¾“å…¥é¡ºåºä» 1 å¼€å§‹ï¼‰ï¼Œå¦åˆ™è¾“å‡º-1ã€‚</li><li>æ€è·¯ï¼šæ ¹æ®æè¿°ï¼Œå¯¹äºæ¯ä¸€å¯¹åºå·ï¼Œæ‰¾åˆ°å®ƒä»¬çš„å…¬å…±è¾¹å³å¯å®ç°ï¼Œé‚£æ€ä¹ˆæ‰¾å‘¢ï¼Ÿå¯ä»¥dfsæ¯å¯¹åºå·ï¼Œä»ä¸€ç«¯æ‰¾åˆ°å¦ä¸€ç«¯ï¼Œåœ¨dfsçš„è¿‡ç¨‹ä¸­æ ‡è®°èµ°è¿‡çš„è¾¹ï¼Œæœ€ç»ˆè¾¹çš„æƒé‡ä¸ºmçš„å°±æ˜¯åœ¨åˆ é™¤èŒƒå›´å†…çš„è¾¹äº†ï¼Œå†æ‰¾åˆ°ç¼–å·æœ€å¤§çš„å³å¯ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-type">int</span> ,<span class="hljs-type">int</span>&gt; PII;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>; <br><span class="hljs-type">int</span> n, m, w[N];<br>vector&lt;<span class="hljs-type">int</span>&gt; e[N];<br>map&lt;PII, <span class="hljs-type">int</span>&gt; id;<br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> s, <span class="hljs-type">int</span> u, <span class="hljs-type">int</span> father, <span class="hljs-type">int</span> v)</span></span>&#123;<br><span class="hljs-keyword">if</span>(u == v) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; e[u].<span class="hljs-built_in">size</span>(); i++)&#123;<br><span class="hljs-type">int</span> cur = e[u][i];<br><span class="hljs-keyword">if</span>(cur == father) <span class="hljs-keyword">continue</span>;<br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">dfs</span>(s, cur, u, v))&#123;<br><span class="hljs-type">int</span> ID = id[&#123;cur, u&#125;];<br>w[ID]++;<br><span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n&gt;&gt;m;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>, u, v; i &lt; n<span class="hljs-number">-1</span>; i++)&#123;<br>cin&gt;&gt;u&gt;&gt;v;<br>e[u].<span class="hljs-built_in">push_back</span>(v);<br>e[v].<span class="hljs-built_in">push_back</span>(u);<br>id[&#123;u,v&#125;] = i;<br>id[&#123;v,u&#125;] = i;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>, u, v; i &lt; m; i++)&#123;<br>cin&gt;&gt;u&gt;&gt;v;<br><span class="hljs-built_in">dfs</span>(u,u,<span class="hljs-number">-1</span>,v); <br>&#125;<br><span class="hljs-type">int</span> ans = <span class="hljs-number">-1</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = n<span class="hljs-number">-1</span>; i&gt;=<span class="hljs-number">0</span>; i--)&#123;<br><span class="hljs-keyword">if</span>(w[i] == m)&#123;<br>ans = i + <span class="hljs-number">1</span>;<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br>cout&lt;&lt;ans&lt;&lt;endl;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šæ€è·¯å¹¶ä¸éš¾ï¼Œä½†æ˜¯ä¸€é‡åˆ°æ ‘å°±å®¹æ˜“çŠ¯æ€µï¼Œä¸€ç‚¹æƒ³æ³•ä¹Ÿæ²¡æœ‰ï¼Œå…¶å®åˆšå¼€å§‹ä¸è¦ç»™è‡ªå·±å¤ªå¤§å‹åŠ›ï¼Œå°±æ…¢æ…¢ä¸€æ­¥ä¸€æ­¥åœ°æƒ³ï¼Œå»æ¨¡æ‹Ÿæ ·ä¾‹æ˜¯æ€ä¹ˆå®ç°çš„ï¼Œå†å»å’Œdfsè”ç³»èµ·æ¥ï¼Œç†Ÿèƒ½ç”Ÿå·§å­~</li></ul><h4 id="è§£æ³•äºŒï¼šlca-æ ‘ä¸Šå·®åˆ†"><a href="#è§£æ³•äºŒï¼šlca-æ ‘ä¸Šå·®åˆ†" class="headerlink" title="è§£æ³•äºŒï¼šlca+æ ‘ä¸Šå·®åˆ†"></a>è§£æ³•äºŒï¼šlca+æ ‘ä¸Šå·®åˆ†</h4><ul><li>æ€è·¯ï¼šä¼˜åŒ–ç»™è¾¹æ‰“æ ‡è®°çš„è¿‡ç¨‹ï¼Œå…ˆè¾¹æƒè½¬åŒ–ä¸ºç‚¹æƒï¼Œå¯¹äºä¸€å¯¹åºå·ï¼Œå¯¹å®ƒçš„ä¸¤ä¸ªç«¯ç‚¹åºå·++ï¼Œå®ƒä»¬çš„å…¬å…±ç¥–å…ˆåºå·-2ï¼Œæœ€åå¯¹æ¯ä¸ªç‚¹ç‚¹æƒè¿›è¡Œç´¯è®¡ä¸ºå®ƒä¸ºæ ¹çš„æ‰€åœ¨å­æ ‘çš„æƒé‡å³å¯ï¼Œè¾¹å°±æ˜¯è¿™ä¸ªç‚¹ä¸Šé¢çš„ä¸€æ¡è¾¹ã€‚ä½¿ç”¨æ ‘é“¾å‰–åˆ†æ¥å®ç°lcaã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; pii;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> n, m, w[N];<br>vector&lt;<span class="hljs-type">int</span>&gt; e[N];<br>map&lt;pii, <span class="hljs-type">int</span>&gt; id;<br><br><span class="hljs-type">int</span> siz[N], top[N], dep[N], fa[N], son[N];<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs1</span><span class="hljs-params">(<span class="hljs-type">int</span> u, <span class="hljs-type">int</span> father)</span></span><br><span class="hljs-function"></span>&#123;<br>siz[u] = <span class="hljs-number">1</span>, dep[u] = dep[father] + <span class="hljs-number">1</span>;<br>fa[u] = father;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; e[u].<span class="hljs-built_in">size</span>(); i ++)<br>&#123;<br><span class="hljs-type">int</span> s = e[u][i];<br><span class="hljs-keyword">if</span>(s == fa[u])<br><span class="hljs-keyword">continue</span>;<br><span class="hljs-built_in">dfs1</span>(s, u);<br>siz[u] += siz[s];<br><span class="hljs-keyword">if</span>(siz[son[u]] &lt; siz[s])<br>son[u] = s;<br>&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs2</span><span class="hljs-params">(<span class="hljs-type">int</span> u, <span class="hljs-type">int</span> t)</span></span><br><span class="hljs-function"></span>&#123;<br>top[u] = t;<br><span class="hljs-keyword">if</span>(son[u] == <span class="hljs-number">0</span>)<br><span class="hljs-keyword">return</span>;<br><span class="hljs-built_in">dfs2</span>(son[u], t);<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; e[u].<span class="hljs-built_in">size</span>(); i ++)<br>&#123;<br><span class="hljs-type">int</span> s = e[u][i];<br><span class="hljs-keyword">if</span>(s == fa[u] || s == son[u])<br><span class="hljs-keyword">continue</span>;<br><span class="hljs-built_in">dfs2</span>(s, s);<br>&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">lca</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">while</span>(top[x] != top[y])<br>&#123;<br><span class="hljs-keyword">if</span>(dep[top[x]] &lt; dep[top[y]])<br><span class="hljs-built_in">swap</span>(x, y);<br><br>x = fa[top[x]];<br>&#125;<br><span class="hljs-keyword">return</span> dep[x] &lt; dep[y] ? x : y;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">cal_sum</span><span class="hljs-params">(<span class="hljs-type">int</span> u, <span class="hljs-type">int</span> father)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; e[u].<span class="hljs-built_in">size</span>(); i ++)<br>&#123;<br><span class="hljs-type">int</span> son = e[u][i];<br><span class="hljs-keyword">if</span>(son == father)<br><span class="hljs-keyword">continue</span>;<br><span class="hljs-built_in">cal_sum</span>(son, u);<br>w[u] += w[son];<br>&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n&gt;&gt;m;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n - <span class="hljs-number">1</span>; i++)&#123;<br><span class="hljs-type">int</span> x,y;<br>cin&gt;&gt;x&gt;&gt;y;<br>e[x].<span class="hljs-built_in">push_back</span>(y);<br>e[y].<span class="hljs-built_in">push_back</span>(x);<br>id[&#123;x,y&#125;] = id[&#123;y,x&#125;] = i;<br>&#125;<br><span class="hljs-built_in">dfs1</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br><span class="hljs-built_in">dfs2</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i++)&#123;<br><span class="hljs-type">int</span> a,b;<br>cin&gt;&gt;a&gt;&gt;b;<br>w[a]++;<br>w[b]++;<br>w[<span class="hljs-built_in">lca</span>(a,b)] -= <span class="hljs-number">2</span>;<br>&#125;<br><span class="hljs-built_in">cal_sum</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br><span class="hljs-type">int</span> ans = <span class="hljs-number">-1</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br><span class="hljs-keyword">if</span>(w[i] == m)&#123;<br><span class="hljs-type">int</span> ID = id[&#123;i, fa[i]&#125;];<br>ans = <span class="hljs-built_in">max</span>(ID, ans);<br>&#125;<br>&#125;<br>cout&lt;&lt;ans&lt;&lt;endl;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šä¸€ä¸ªæ˜¯lca,ä¸€ä¸ªæ˜¯æ ‘ä¸Šå·®åˆ†ï¼Œæ ‘ä¸Šå·®åˆ†ä¸»è¦ç”¨äºæ ‘ä¸Šä¸€æ®µè·¯å¾„çš„+1ï¼Œéœ€è¦ç†Ÿæ‚‰æ¨¡æ¿ä»¥åŠè§£å†³é—®é¢˜çš„æ€è·¯æ˜¯æ€ä¹ˆæ¨å‡ºæ¥çš„ï¼Œå¾ˆæœ‰æŒ‘æˆ˜çš„ä¸€é“é¢˜ç›®ï¼Œä½†æ˜¯å¯ä»¥ç†è§£çš„ã€‚æ¨¡æ¿è¦å°½å¯èƒ½åœ°ç†Ÿç»ƒã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è“æ¡¥æ¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è“æ¡¥æ¯çœŸé¢˜è®­ç»ƒ-2023å¹´çœèµ›Aç»„</title>
    <link href="/2024/03/02/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%9C%81%E8%B5%9B%E5%A4%87%E8%B5%9B/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%9C%9F%E9%A2%98%E8%AE%AD%E7%BB%83/"/>
    <url>/2024/03/02/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%9C%81%E8%B5%9B%E5%A4%87%E8%B5%9B/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%9C%9F%E9%A2%98%E8%AE%AD%E7%BB%83/</url>
    
    <content type="html"><![CDATA[<h2 id="2023å¹´çœèµ›é¢˜ç›®Aç»„"><a href="#2023å¹´çœèµ›é¢˜ç›®Aç»„" class="headerlink" title="2023å¹´çœèµ›é¢˜ç›®Aç»„"></a>2023å¹´çœèµ›é¢˜ç›®Aç»„</h2><h3 id="Aå¹¸è¿æ•°ï¼š"><a href="#Aå¹¸è¿æ•°ï¼š" class="headerlink" title="Aå¹¸è¿æ•°ï¼š"></a>Aå¹¸è¿æ•°ï¼š</h3><ul><li><p>æè¿°ï¼šå°è“è®¤ä¸ºå¦‚æœä¸€ä¸ªæ•°å«æœ‰å¶æ•°ä¸ªæ•°ä½ï¼Œå¹¶ä¸”å‰é¢ä¸€åŠçš„æ•°ä½ä¹‹å’Œç­‰äºåé¢ä¸€åŠçš„æ•°ä½ä¹‹å’Œï¼Œåˆ™è¿™ä¸ªæ•°æ˜¯ä»–çš„å¹¸è¿æ•°å­—ã€‚ä¾‹å¦‚ 2314 æ˜¯ä¸€ä¸ªå¹¸è¿æ•°å­—ï¼Œå› ä¸ºå®ƒæœ‰ 44 ä¸ªæ•°ä½ï¼Œå¹¶ä¸” 2+3&#x3D;1+4ã€‚ç°åœ¨è¯·ä½ å¸®ä»–è®¡ç®—ä» 1 è‡³ 100000000 ä¹‹é—´å…±æœ‰å¤šå°‘ä¸ªä¸åŒçš„å¹¸è¿æ•°å­—ã€‚</p></li><li><p>æ€è·¯ï¼š10^8åˆšå¥½æ˜¯ä¸Šç•Œï¼Œå¯ä»¥ç›´æ¥è¿›è¡Œæ¨¡æ‹Ÿè¿ç®—ï¼Œé¦–å…ˆè®¡ç®—æ•°çš„ä½æ•°ï¼Œå¦‚æœæ˜¯å¥‡æ•°ç›´æ¥è·³è¿‡ï¼Œæ˜¯å¶æ•°çš„è¯ï¼Œå†è®¡ç®—å¹³åˆ†ä¸¤éƒ¨åˆ†çš„æ•°å€¼ç´¯ç§¯ï¼Œå¦‚æœç›¸ç­‰è®¡å…¥ç­”æ¡ˆã€‚</p></li><li><p>ä»£ç ï¼š</p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br><span class="hljs-comment">//int ans = 0;</span><br><span class="hljs-comment">//for(int i = 1; i &lt;= 100000000; i++)&#123;</span><br><span class="hljs-comment">//int cnt = 0;</span><br><span class="hljs-comment">//for(int j = i; j != 0; j/=10)&#123;</span><br><span class="hljs-comment">//cnt++;</span><br><span class="hljs-comment">//&#125;</span><br><span class="hljs-comment">//if(cnt % 2 == 1) continue;</span><br><span class="hljs-comment">//int now = 0, sum = 0;</span><br><span class="hljs-comment">//for(int j = i;j != 0; j/=10)&#123;</span><br><span class="hljs-comment">//now++;</span><br><span class="hljs-comment">//if(now &lt;= cnt/2) sum += j % 10;</span><br><span class="hljs-comment">//else sum -= j % 10; </span><br><span class="hljs-comment">//&#125;</span><br><span class="hljs-comment">//if(sum == 0) ans++;</span><br><span class="hljs-comment">//&#125;</span><br><span class="hljs-comment">//cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;4430091&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125; <br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šç¬¬ä¸€é“é¢˜ä¸€èˆ¬éƒ½æ˜¯ç›´æ¥æ¨¡æ‹Ÿçš„é¢˜ç›®ï¼Œä¸ç”¨è€ƒè™‘å¤ªå¤šæ—¶é—´å¤æ‚åº¦ï¼Œå…³é”®åœ¨äºè€è€å®å®æ¸…æ™°æ¨¡æ‹Ÿè¿‡ç¨‹å³å¯</li></ul><h3 id="Bæœ‰å¥–é—®ç­”"><a href="#Bæœ‰å¥–é—®ç­”" class="headerlink" title="Bæœ‰å¥–é—®ç­”"></a>Bæœ‰å¥–é—®ç­”</h3><ul><li>æè¿°ï¼š<ul><li>å°è“æ­£åœ¨å‚ä¸ä¸€ä¸ªç°åœºé—®ç­”çš„èŠ‚ç›®ã€‚æ´»åŠ¨ä¸­ä¸€å…±æœ‰ 30 é“é¢˜ç›®ï¼Œæ¯é¢˜åªæœ‰ç­”å¯¹å’Œç­”é”™ä¸¤ç§æƒ…å†µï¼Œæ¯ç­”å¯¹ä¸€é¢˜å¾— 10 åˆ†ï¼Œç­”é”™ä¸€é¢˜åˆ†æ•°å½’é›¶ã€‚å°è“å¯ä»¥åœ¨ä»»æ„æ—¶åˆ»ç»“æŸç­”é¢˜å¹¶è·å¾—ç›®å‰åˆ†æ•°å¯¹åº”çš„å¥–é¡¹ï¼Œä¹‹åä¸èƒ½å†ç­”ä»»ä½•é¢˜ç›®ã€‚æœ€é«˜å¥–é¡¹éœ€è¦ 100 åˆ†ï¼Œæ‰€ä»¥åˆ°è¾¾ 100 åˆ†æ—¶å°è“ä¼šç›´æ¥åœæ­¢ç­”é¢˜ã€‚å·²çŸ¥å°è“æœ€ç»ˆå®é™…è·å¾—äº† 70 åˆ†å¯¹åº”çš„å¥–é¡¹ï¼Œè¯·é—®å°è“æ‰€æœ‰å¯èƒ½çš„ç­”é¢˜æƒ…å†µæœ‰å¤šå°‘ç§ï¼Ÿ</li></ul></li></ul><h4 id="è§£æ³•ä¸€ï¼šdfs"><a href="#è§£æ³•ä¸€ï¼šdfs" class="headerlink" title="è§£æ³•ä¸€ï¼šdfs"></a>è§£æ³•ä¸€ï¼šdfs</h4><ul><li>æ€è·¯ï¼šé‡‡ç”¨dfsï¼Œä¸æ–­å‘ä¸‹æ·±æœï¼Œè¿”å›ç»“æœæ¡ä»¶ä¸ºåˆ°è¾¾30é¢˜æˆ–100åˆ†ï¼Œåˆ†æ”¯ä¸ºå½“å‰é¢˜ç›®åšå¯¹æˆ–åšé”™</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">int</span> ans;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> step, <span class="hljs-type">int</span> score)</span></span>&#123;<br><span class="hljs-keyword">if</span>(score == <span class="hljs-number">70</span>) ans++;<br><span class="hljs-keyword">if</span>(step == <span class="hljs-number">31</span> || score == <span class="hljs-number">100</span>) <span class="hljs-keyword">return</span>;<br><span class="hljs-built_in">dfs</span>(step + <span class="hljs-number">1</span>, score + <span class="hljs-number">10</span>);<br><span class="hljs-built_in">dfs</span>(step + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>); <br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-built_in">dfs</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>cout&lt;&lt;ans&lt;&lt;endl;<br><span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;8335366&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šå…¶å®æ˜¯å¾ˆæ˜æ˜¾çš„dfs,è¿˜æ˜¯ä¸å¤Ÿç†Ÿæ‚‰ï¼Œç†Ÿèƒ½ç”Ÿå·§ï¼Œå¾ˆæ£’çš„ä¸€é“åŸºç¡€é¢˜ã€‚</li></ul><h4 id="è§£æ³•äºŒï¼šdp"><a href="#è§£æ³•äºŒï¼šdp" class="headerlink" title="è§£æ³•äºŒï¼šdp"></a>è§£æ³•äºŒï¼šdp</h4><ul><li>æ€è·¯ï¼šå‘ç°ç›¸å…³çš„å‰åçŠ¶æ€æ˜¯æœ‰è”ç³»çš„ï¼Œå¯ä»¥é‡‡å–dpè§£å†³ã€‚dp(i)(j)è¡¨ç¤ºåšäº†ié“é¢˜å¾—åˆ†ä¸ºjçš„æ–¹æ¡ˆæ•°ï¼Œåˆ†æ•°å…ˆç»Ÿä¸€&#x2F;10ã€‚<ul><li>é‚£ä¹ˆå½“jï¼&#x3D;10æ—¶ï¼Œdp(i)(0) +&#x3D; dp(i-1)(j)ï¼Œç›¸å½“äºæ­¤æ—¶æœ€ç»ˆå¾—åˆ†ä¸º0ï¼Œé‚£ä¹ˆè¿™ié“é¢˜æœ€åä¸€é“è‚¯å®šæ˜¯ç­”é”™çš„ï¼Œå‰i-1é“é¢˜ä»»æ„ç»„åˆï¼Œé‚£ä¹ˆå°±æ˜¯dp(i-1)(j)çš„ç´¯åŠ ï¼Œä½†æ˜¯jä¸èƒ½ç­‰äº10ï¼Œå› ä¸ºè¿™è¡¨ç¤ºå·²ç»æ»¡åˆ†äº†ï¼Œä¸ä¼šå†è¿›è¡Œç­”é¢˜ã€‚</li><li>é‚£ä¹ˆå½“jï¼&#x3D;0æ—¶ï¼Œdp(i)(j) &#x3D; dp(i-1)(j-1),è¡¨ç¤ºå½“å‰ç¬¬ié“é¢˜è‚¯å®šæ˜¯ç­”å¯¹çš„ï¼Œé‚£ä¹ˆå‰i-1é“é¢˜å¾—åˆ†ä¸ºj-1çš„æ–¹æ¡ˆæ•°å°±æ˜¯ä¹‹å‰ç®—å‡ºæ¥çš„dp(i-1)(j-1)</li><li>æ€»çš„æ¥è¯´ï¼Œè¿˜æ˜¯å½“å‰è¿™ç¬¬ié“é¢˜æ˜¯ç­”å¯¹è¿˜æ˜¯ç­”é”™ï¼Œç­”é”™å°±æ˜¯ä¹‹å‰çš„ç´¯åŠ ï¼Œç­”å¯¹å°±æ˜¯å·¦ä¸Šè§’çš„æ–¹æ¡ˆæ•°ã€‚åˆ—å‡ºå¯¹åº”çš„äºŒç»´è¡¨ä¼šéå¸¸æ¸…æ™°</li></ul></li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">int</span> dp[<span class="hljs-number">35</span>][<span class="hljs-number">15</span>], ans; <br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>dp[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">30</span>; i++)&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt;= <span class="hljs-number">10</span>; j++)&#123;<br><span class="hljs-keyword">if</span>(j != <span class="hljs-number">10</span>)&#123;<br>dp[i][<span class="hljs-number">0</span>] += dp[i<span class="hljs-number">-1</span>][j];<br>&#125;<br><span class="hljs-keyword">if</span>(j != <span class="hljs-number">0</span>)&#123;<br>dp[i][j] = dp[i<span class="hljs-number">-1</span>][j<span class="hljs-number">-1</span>];<br>&#125;<br>&#125;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i&lt;= <span class="hljs-number">30</span>; i++)&#123;<br>ans+=dp[i][<span class="hljs-number">7</span>];<br>&#125;<br>cout&lt;&lt;ans&lt;&lt;endl;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šå…¶å®å¯ä»¥ç®—æ˜¯ä¸€é“èƒŒåŒ…é—®é¢˜ï¼Œåªæœ‰ä¸€ä¸ªç‰¹æ®Šç‚¹å°±æ˜¯åˆ†æ•°åˆ°100å°±åœæ­¢ç­”é¢˜äº†ã€‚å¯¹äºè¿™ç±»è¾ƒä¸ºåŸºç¡€çš„dpè¿˜æ˜¯æœ‰å¤šå¤šè”ç³»ï¼Œæ˜¯å¯ä»¥æ‹¿ä¸‹çš„ã€‚</li></ul><h3 id="Cå¹³æ–¹å·®"><a href="#Cå¹³æ–¹å·®" class="headerlink" title="Cå¹³æ–¹å·®"></a>Cå¹³æ–¹å·®</h3><ul><li>æè¿°ï¼šç»™å®š L,Rï¼Œé—® Lâ‰¤xâ‰¤R ä¸­æœ‰å¤šå°‘ä¸ª x æ»¡è¶³å­˜åœ¨æ•´æ•° y,zï¼Œä½¿å¾— x &#x3D; y2 - z2ã€‚</li><li>æ€è·¯ï¼šé€šè¿‡å±•å¼€å¹³æ–¹å·®å³x &#x3D; (y + z)*(y - z),å¯çŸ¥xæ˜¯å¥‡æ•°æˆ–æ˜¯4çš„å€æ•°ï¼Œé‚£ä¹ˆç›´æ¥è®¡ç®—è¿™ä¸¤ä¸ªçš„ä¸ªæ•°å³å¯</li><li>ä»£ç 1ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">int</span> odd, four,l,r; <br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;l&gt;&gt;r;<br><span class="hljs-type">int</span> cnt = r - l + <span class="hljs-number">1</span>;<br><span class="hljs-keyword">if</span>(cnt % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>) odd = cnt / <span class="hljs-number">2</span>;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(l % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>) odd = cnt /<span class="hljs-number">2</span>;<br><span class="hljs-keyword">else</span> odd = cnt / <span class="hljs-number">2</span> + <span class="hljs-number">1</span>;<br><br><span class="hljs-keyword">if</span>(cnt % <span class="hljs-number">4</span> == <span class="hljs-number">0</span>) four = cnt / <span class="hljs-number">4</span>;<br><span class="hljs-keyword">else</span>&#123;<br><span class="hljs-type">int</span> yu = cnt % <span class="hljs-number">4</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= yu; i++)&#123;<br><span class="hljs-keyword">if</span>((l + i - <span class="hljs-number">1</span>) % <span class="hljs-number">4</span> == <span class="hljs-number">0</span>)&#123;<br>four = <span class="hljs-number">1</span>;<br>&#125;<br>&#125;<br>four += cnt / <span class="hljs-number">4</span>;<br>&#125;<br>cout&lt;&lt; odd + four&lt;&lt;endl;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>ä»£ç 2ï¼šå½“è®¡ç®—åˆ†æ”¯æ¯”è¾ƒå¤šæ—¶ï¼Œå¯ä»¥è€ƒè™‘åæ–¹å‘è®¡ç®—ï¼Œå¯èƒ½ä¼šæ›´åŠ ç®€å•</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> l, r, ans = <span class="hljs-number">0</span>; <span class="hljs-comment">//ansä¸ºä¸æ»¡è¶³çš„æ¡ä»¶</span><br>    cin&gt;&gt;l&gt;&gt;r; <br>    <span class="hljs-type">int</span> x = r / <span class="hljs-number">2</span> - (l<span class="hljs-number">-1</span>) / <span class="hljs-number">2</span>; <span class="hljs-comment">//2çš„å€æ•°</span><br>    <span class="hljs-type">int</span> y = r / <span class="hljs-number">4</span> - (l<span class="hljs-number">-1</span>) / <span class="hljs-number">4</span>; <span class="hljs-comment">//4çš„å€æ•°</span><br>    ans = x - y; <span class="hljs-comment">//ä¸æ»¡è¶³æ¡ä»¶</span><br>    <span class="hljs-comment">//cout&lt;&lt;x&lt;&lt;&quot; &quot;&lt;&lt;y&lt;&lt;endl;</span><br>    cout&lt;&lt;(r - l + <span class="hljs-number">1</span>) - ans; <span class="hljs-comment">//æ€»æ•° - ä¸æ»¡è¶³æ¡ä»¶</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šå½“æ—¶è¿™é“é¢˜ç›®åº”è¯¥æ˜¯åšå‡ºæ¥äº†çš„ï¼Œåªè¦è®¤çœŸåˆ†æé¢˜ç›®æ‰€ç»™æ¡ä»¶å¹¶ä¸éš¾ï¼Œæˆ–è€…é€šè¿‡æ‰¾è§„å¾‹ä¹Ÿå¯ä»¥æ‰¾åˆ°è§£é¢˜çº¿ç´¢ã€‚</li></ul><h3 id="Dæ›´å°çš„æ•°"><a href="#Dæ›´å°çš„æ•°" class="headerlink" title="Dæ›´å°çš„æ•°"></a>Dæ›´å°çš„æ•°</h3><ul><li>æè¿°ï¼šå°è“æœ‰ä¸€ä¸ªé•¿åº¦å‡ä¸º n ä¸”ä»…ç”±æ•°å­—å­—ç¬¦ 0 ~ 9 ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œä¸‹æ ‡ä» 0 åˆ° n - 1ã€‚<br>ä½ å¯ä»¥å°†å…¶è§†ä½œæ˜¯ä¸€ä¸ªå…·æœ‰ n ä½çš„åè¿›åˆ¶æ•°å­— numã€‚<br>å°è“å¯ä»¥ä» num ä¸­é€‰å‡ºä¸€æ®µè¿ç»­çš„å­ä¸²å¹¶å°†å­ä¸²è¿›è¡Œåè½¬ï¼Œæœ€å¤šåè½¬ä¸€æ¬¡ã€‚<br>å°è“æƒ³è¦å°†é€‰å‡ºçš„å­ä¸²è¿›è¡Œåè½¬åå†æ”¾å…¥åŸä½ç½®å¤„å¾—åˆ°çš„æ–°çš„æ•°å­— numnew æ»¡è¶³æ¡ä»¶numnew &lt; numã€‚<br>è¯·ä½ å¸®ä»–è®¡ç®—ä¸‹ä¸€å…±æœ‰å¤šå°‘ç§ä¸åŒçš„å­ä¸²é€‰æ‹©æ–¹æ¡ˆã€‚<br>åªè¦ä¸¤ä¸ªå­ä¸²åœ¨ num ä¸­çš„ä½ç½®ä¸å®Œå…¨ç›¸åŒæˆ‘ä»¬å°±è§†ä½œæ˜¯ä¸åŒçš„æ–¹æ¡ˆã€‚<br>æ³¨æ„ï¼Œæˆ‘ä»¬å…è®¸å‰å¯¼é›¶çš„å­˜åœ¨ï¼Œå³æ•°å­—çš„æœ€é«˜ä½å¯ä»¥æ˜¯ 0 ï¼Œè¿™æ˜¯åˆæ³•çš„</li></ul><h4 id="è§£æ³•ä¸€ï¼šdp"><a href="#è§£æ³•ä¸€ï¼šdp" class="headerlink" title="è§£æ³•ä¸€ï¼šdp"></a>è§£æ³•ä¸€ï¼šdp</h4><ul><li><p>æ€è·¯ï¼šé‡‡å–åŒºé—´dpï¼Œå‘ç°è‹¥å¯¹ä»»æ„çš„l,rï¼Œå…ˆæ¯”è¾ƒçš„æ˜¯s[l]å’Œs[r],å¦‚æœs[l]&gt;s[r]åˆ™æ–¹æ¡ˆæ•°åŠ 1ï¼Œç­‰äºåˆ™çœ‹æ˜¯s[l + 1]å’Œs[r - 1],å°äºå°±æ˜¯0ã€‚å¯ä»¥çœ‹åˆ°æ˜¯å­˜åœ¨<strong>å­é—®é¢˜é‡å </strong>çš„ï¼Œå­é—®é¢˜çš„æœ€ä¼˜è§£èƒ½ä»£è¡¨æ•´ä¸ªé—®é¢˜çš„æœ€ä¼˜è§£ã€‚å¦å¤–ï¼Œè¿™ç§äºŒç»´dpçš„éå†æ–¹å¼ä¸€èˆ¬éƒ½æ˜¯å…ˆéå†é•¿åº¦å†éå†å·¦èŠ‚ç‚¹ã€‚</p></li><li><p>ä»£ç ï¼š</p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">int</span> dp[<span class="hljs-number">5050</span>][<span class="hljs-number">5050</span>],ans; <br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>string s;<br>cin&gt;&gt;s;<br><span class="hljs-type">int</span> n = s.<span class="hljs-built_in">size</span>();<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> len = <span class="hljs-number">2</span>; len &lt;= n; len ++)&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> l = <span class="hljs-number">0</span>; l + len - <span class="hljs-number">1</span> &lt; n; l++)&#123;<br><span class="hljs-type">int</span> r = l + len - <span class="hljs-number">1</span>;<br><span class="hljs-keyword">if</span>(s[l] &gt; s[r]) dp[l][r] = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(s[l] == s[r]) dp[l][r] = dp[l + <span class="hljs-number">1</span>][r<span class="hljs-number">-1</span>];<br>ans += dp[l][r];<br>&#125;<br>&#125;<br>cout&lt;&lt;ans&lt;&lt;endl;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šå¹¶ä¸æ˜¯å¾ˆè´Ÿè´£çš„åŒºé—´dp,éœ€è¦ä»”ç»†åˆ†æé€šç”¨æƒ…å†µï¼Œè¦å¤šå¤šç†Ÿç»ƒè¿™ç§é¢˜å‹å‘€~</li></ul><h4 id="è§£æ³•äºŒï¼šå¸¸è§„"><a href="#è§£æ³•äºŒï¼šå¸¸è§„" class="headerlink" title="è§£æ³•äºŒï¼šå¸¸è§„"></a>è§£æ³•äºŒï¼šå¸¸è§„</h4><ul><li>æ€è·¯ï¼šåŒé‡å¾ªç¯éå†ï¼Œç›¸ç­‰çš„æƒ…å†µç›´æ¥ç®—ä¸è¡Œï¼Œä½†æ˜¯å½“äº§ç”Ÿä¸€ä¸ªå¯è¡Œæ—¶ï¼Œç”±é‡Œå‘å¤–æ£€æŸ¥ç›¸åŒçš„æƒ…å†µï¼Œä¹Ÿç®—æ˜¯å¯è¡Œæ–¹æ¡ˆï¼Œæ—¶é—´å¤æ‚ä¹Ÿæ˜¯O(N^2)ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br>string s;<br><span class="hljs-type">int</span> ans;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;s;<br><span class="hljs-type">int</span> n = s.<span class="hljs-built_in">size</span>();<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = i + <span class="hljs-number">1</span>; j &lt; n;j++)&#123;<br><span class="hljs-keyword">if</span>(s[i] &lt;= s[j]) <span class="hljs-keyword">continue</span>;<br>ans++;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> k = <span class="hljs-number">1</span>; i - k &gt;=<span class="hljs-number">0</span> &amp;&amp; j + k &lt;=n; k++)&#123;<br><span class="hljs-keyword">if</span>(s[i - k] == s[j + k]) ans++;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">break</span>; <span class="hljs-comment">//å‰ªæ</span><br>&#125;<br>&#125;<br>&#125;<br>cout&lt;&lt;ans&lt;&lt;endl;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šä¹Ÿæ˜¯å¾ˆå·§å¦™çš„åšæ³•ï¼Œå°¤å…¶æ˜¯ç”±é‡Œå‘å¤–æ‰©å±•æ£€æŸ¥è¿™ä¸€æ­¥ï¼Œæ—¶é—´å¤æ‚åº¦åº”è¯¥ä¹Ÿæ˜¯O(N^2)ï¼Œç©ºé—´å¤æ‚åº¦ç›¸å¯¹è¾ƒä½ï¼Œä¸ºO(1)ã€‚</li></ul><h3 id="Hå¼‚æˆ–å’Œä¹‹å’Œ"><a href="#Hå¼‚æˆ–å’Œä¹‹å’Œ" class="headerlink" title="Hå¼‚æˆ–å’Œä¹‹å’Œ"></a>Hå¼‚æˆ–å’Œä¹‹å’Œ</h3><ul><li>æè¿°ï¼šç»™å®šä¸€ä¸ªæ•°ç»„ A[i]ï¼Œåˆ†åˆ«æ±‚å…¶æ¯ä¸ªå­æ®µçš„å¼‚æˆ–å’Œï¼Œå¹¶æ±‚å‡ºå®ƒä»¬çš„å’Œã€‚æˆ–è€…è¯´ï¼Œå¯¹äºæ¯ç»„æ»¡è¶³ 1â‰¤<em>L</em>â‰¤<em>R</em>â‰¤<em>n</em> çš„ L*,<em>Rï¼Œæ±‚å‡ºæ•°ç»„ä¸­ç¬¬ L è‡³ç¬¬ R ä¸ªå…ƒç´ çš„å¼‚æˆ–å’Œã€‚ç„¶åè¾“å‡ºæ¯ç»„L</em>,*Rå¾—åˆ°çš„ç»“æœåŠ èµ·æ¥çš„å€¼ã€‚</li><li>æ€è·¯ï¼šè¿ç»­å¼‚æˆ–å…·æœ‰<strong>å‰ç¼€å’Œ</strong>çš„æ€§è´¨ï¼Œå³S[l,r]è¡¨ç¤ºlåˆ°rçš„å¼‚æˆ–å’Œç­‰äºS[r]^S[l-1],å¦å¤–å¼‚æˆ–æ˜¯é’ˆå¯¹ä½æ¥è¯´çš„ï¼Œå¯ä»¥æŠŠæ¯ä¸ªæ•°å­—éƒ½<strong>æŒ‰ä½æ‹†è§£</strong>ã€‚æŒ‰ç…§ç±»ä¼¼å‰ç¼€å’Œçš„æ–¹å¼æ±‚å‡ºæ¯ä¸ªS[i],é‚£ä¹ˆå®ƒä»¬è¦ä¹ˆæ˜¯0ï¼Œè¦ä¹ˆæ˜¯1ï¼Œè¿›è¡Œä»»æ„ç»„åˆçš„æ–¹æ¡ˆæ•°å°±æ˜¯<strong>0çš„ä¸ªæ•°ä¹˜ä»¥1çš„ä¸ªæ•°ï¼Œå†ä¹˜å›å½“å‰ä½çš„æƒé‡</strong>ç´¯åŠ å°±æ˜¯æœ€ç»ˆç»“æœäº†ã€‚æ³¨æ„è®¡ç®—0ï¼Œ1ä¸ªæ•°è¦ä»0å¼€å§‹ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long </span><br><span class="hljs-type">int</span> n, a[<span class="hljs-number">100050</span>], cnt[<span class="hljs-number">2</span>], sum, s[<span class="hljs-number">100050</span>];<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) cin&gt;&gt;a[i];<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">20</span>; i++)&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j++)&#123;<br><span class="hljs-keyword">if</span>((a[j]&gt;&gt;i) &amp; <span class="hljs-number">1</span>) s[j] = s[j - <span class="hljs-number">1</span>] ^ <span class="hljs-number">1</span>;<br><span class="hljs-keyword">else</span> s[j] = s[j - <span class="hljs-number">1</span>];<br>&#125;<br>cnt[<span class="hljs-number">0</span>] = cnt[<span class="hljs-number">1</span>] = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> k = <span class="hljs-number">0</span>; k &lt;= n; k++)&#123; <span class="hljs-comment">//å‚è€ƒå‰ç¼€å’Œï¼Œs[0]ä¹Ÿè¦åŒ…æ‹¬è¿›æ¥ï¼Œå› ä¸ºs[i]å’Œs[j]çš„å¼‚æˆ–å®é™…è¡¨ç¤ºçš„æ˜¯a[i+1]åˆ°a[j]çš„å¼‚æˆ–å’Œ</span><br>cnt[s[k]]++; <br>&#125;<br>sum += (<span class="hljs-number">1ll</span> &lt;&lt; i) * cnt[<span class="hljs-number">0</span>] * cnt[<span class="hljs-number">1</span>];<br>&#125;<br>cout&lt;&lt;sum&lt;&lt;endl;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šé’ˆå¯¹ä½è¿ç®—çš„ä¸€é“é¢˜ï¼Œå¼‚æˆ–æ€§è´¨å’Œå‰ç¼€å’Œçš„æ€§è´¨ç«Ÿç„¶æ˜¯ç±»ä¼¼çš„ï¼Œå¾ˆæœ‰æ„æ€ï¼Œä¸€ä¸ªå…¨æ–°çš„è§†è§’è§£å†³äº†è¿™é“é¢˜ã€‚</li></ul><h3 id="Fä¹°ç“œ"><a href="#Fä¹°ç“œ" class="headerlink" title="Fä¹°ç“œ"></a>Fä¹°ç“œ</h3><ul><li><p>æè¿°ï¼šå°è“æ­£åœ¨ä¸€ä¸ªç“œæ‘Šä¸Šä¹°ç“œã€‚ç“œæ‘Šä¸Šå…±æœ‰ n ä¸ªç“œï¼Œæ¯ä¸ªç“œçš„é‡é‡ä¸ºAiã€‚å°è“åˆ€åŠŸäº†å¾—ï¼Œä»–å¯ä»¥æŠŠä»»ä½•ç“œåŠˆæˆå®Œå…¨ç­‰é‡çš„ä¸¤ä»½ï¼Œä¸è¿‡æ¯ä¸ªç“œåªèƒ½åŠˆä¸€åˆ€ã€‚å°è“å¸Œæœ›ä¹°åˆ°çš„ç“œçš„é‡é‡çš„å’Œæ°å¥½ä¸º mã€‚</p><p>è¯·é—®å°è“è‡³å°‘è¦åŠˆå¤šå°‘ä¸ªç“œæ‰èƒ½ä¹°åˆ°é‡é‡æ°å¥½ä¸º m çš„ç“œã€‚å¦‚æœæ— è®ºæ€æ ·å°è“éƒ½æ— æ³•å¾—åˆ°æ€»é‡æ°å¥½ä¸º m çš„ç“œï¼Œè¯·è¾“å‡º âˆ’1ã€‚</p></li></ul><h4 id="è§£æ³•ä¸€ï¼šæš´åŠ›dfs-å‰ªæ"><a href="#è§£æ³•ä¸€ï¼šæš´åŠ›dfs-å‰ªæ" class="headerlink" title="è§£æ³•ä¸€ï¼šæš´åŠ›dfs+å‰ªæ"></a>è§£æ³•ä¸€ï¼šæš´åŠ›dfs+å‰ªæ</h4><ul><li>æ€è·¯ï¼šæ¯ç§ç“œéƒ½æœ‰ä¸‰ç§å¯èƒ½ï¼Œä¸ä¹°ï¼ŒåŠˆäº†ä¹°ï¼Œä¸åŠˆä¹°ï¼Œéå†ä¸‰ç§å¯èƒ½ç„¶åä¸æ–­å¾€ä¸‹é€’å½’ï¼Œç›´åˆ°è¶Šç•Œæˆ–è€…æ‰¾åˆ°æ­£ç¡®ç­”æ¡ˆã€‚ç”±äº0.5ä¸å¥½è®¡ç®—ï¼Œå¯ä»¥æŠŠæ‰€æœ‰é‡é‡å‡ä¹˜ä»¥2ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">int</span> n, a[<span class="hljs-number">35</span>], ans = <span class="hljs-number">35</span>;<br><span class="hljs-type">long</span> <span class="hljs-type">long</span> m; <br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> step, <span class="hljs-type">int</span> status, <span class="hljs-type">int</span> cnt, <span class="hljs-type">long</span> <span class="hljs-type">long</span> sum)</span></span>&#123;<br><span class="hljs-keyword">if</span>(sum &gt; m) <span class="hljs-keyword">return</span>;<br><span class="hljs-keyword">if</span>(step &gt; n)&#123;<br><span class="hljs-keyword">if</span>(sum == m) ans = <span class="hljs-built_in">min</span>(ans, cnt);<br><span class="hljs-keyword">return</span>;<br>&#125; <br><span class="hljs-keyword">if</span>(status == <span class="hljs-number">0</span>) sum += <span class="hljs-number">2</span> * a[step];<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(status == <span class="hljs-number">1</span>) sum += a[step], cnt++;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) <span class="hljs-built_in">dfs</span>(step + <span class="hljs-number">1</span>, i, cnt, sum);<br><span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n&gt;&gt;m;<br>m = m * <span class="hljs-number">2</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br>cin&gt;&gt;a[i];<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++)&#123;<br><span class="hljs-built_in">dfs</span>(<span class="hljs-number">1</span>, i, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br>&#125;<br>cout&lt;&lt;ans&lt;&lt;endl;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šæš´åŠ›çš„æœ¬è´¨å°±æ˜¯é€’å½’ï¼Œå…¶å®å°±æ˜¯å…ˆéå†å½“å‰ç“œçš„æ‰€æœ‰å¯èƒ½ï¼Œç„¶åå†å¾€ä¸‹é€’å½’ä¸‹ä¸€ä¸ªç“œçš„æ‰€æœ‰å¯èƒ½ï¼Œå¯¹äºè¿™ç§æš´åŠ›æ¨¡æ‹Ÿåšæ³•è¿˜æ˜¯è¦æŒæ¡çš„ã€‚</li></ul><h3 id="Eé¢œè‰²å¹³è¡¡æ ‘"><a href="#Eé¢œè‰²å¹³è¡¡æ ‘" class="headerlink" title="Eé¢œè‰²å¹³è¡¡æ ‘"></a>Eé¢œè‰²å¹³è¡¡æ ‘</h3><ul><li><p>æè¿°ï¼šç»™å®šä¸€æ£µæ ‘ï¼Œç»“ç‚¹ç”± 1è‡³ n ç¼–å·ï¼Œå…¶ä¸­ç»“ç‚¹ 1 æ˜¯æ ‘æ ¹ã€‚æ ‘çš„æ¯ä¸ªç‚¹æœ‰ä¸€ä¸ªé¢œè‰² Ciã€‚</p><p>å¦‚æœä¸€æ£µæ ‘ä¸­å­˜åœ¨çš„æ¯ç§é¢œè‰²çš„ç»“ç‚¹ä¸ªæ•°éƒ½ç›¸åŒï¼Œåˆ™æˆ‘ä»¬ç§°å®ƒæ˜¯ä¸€æ£µé¢œè‰²å¹³è¡¡æ ‘ã€‚</p><p>æ±‚å‡ºè¿™æ£µæ ‘ä¸­æœ‰å¤šå°‘ä¸ªå­æ ‘æ˜¯é¢œè‰²å¹³è¡¡æ ‘ã€‚</p></li><li><p>æ€è·¯ï¼šdfsæ·±åº¦é€’å½’æ¯ä¸€æ£µæ ‘ï¼Œå…ˆcnt(u)(x) &#x3D; p,è¡¨ç¤ºæ ¹èŠ‚ç‚¹ä¸ºuçš„å­æ ‘é¢œè‰²ä¸ºxçš„æœ‰pä¸ªï¼Œç„¶åsum(u)(cnt(u)(k)) &#x3D; qè¡¨ç¤ºä»¥uä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘ä¸‹é¢œè‰²ä¸ªæ•°ä¸ºcnt(u)(k)çš„æœ‰qç»„ï¼Œå¦‚æœæœ€ç»ˆsum(u)çš„å¤§å°ä¸º1ï¼Œè¡¨ç¤ºæ‰€æœ‰é¢œè‰²çš„ä¸ªæ•°éƒ½æ˜¯ç›¸åŒçš„ã€‚cntå’Œsuméƒ½æ˜¯ä¸‰ç»´ç»“æ„ï¼Œé‡‡ç”¨unordered_mapå­˜å‚¨ã€‚</p></li><li><p>ä»£ç ï¼š</p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">2e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> n, c[N], ans;<br>vector&lt;<span class="hljs-type">int</span>&gt; g[N];<br>unordered_map&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; cnt[N], sum[N];<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> u)</span></span>&#123;<br>cnt[u][c[u]] = <span class="hljs-number">1</span>;<br>sum[u][<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> &amp;v : g[u])&#123;<br><span class="hljs-built_in">dfs</span>(v);<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> &amp;it : cnt[v])&#123;<br><span class="hljs-type">int</span> x = it.first, y = it.second;<br><span class="hljs-keyword">if</span>(cnt[u].<span class="hljs-built_in">count</span>(x))&#123;<br>sum[u][cnt[u][x]]--;<br><span class="hljs-keyword">if</span>(sum[u][cnt[u][x]] == <span class="hljs-number">0</span>)&#123;<br>sum[u].<span class="hljs-built_in">erase</span>(cnt[u][x]);<br>&#125;<br>&#125;<br>sum[u][cnt[u][x]+=y]++;<br>&#125;<br>&#125;<br><span class="hljs-keyword">if</span>(sum[u].<span class="hljs-built_in">size</span>() == <span class="hljs-number">1</span>) ans++;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin&gt;&gt;n;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>, x; i &lt;= n; i++)&#123;<br>cin &gt;&gt; c[i] &gt;&gt; x;<br>g[x].<span class="hljs-built_in">emplace_back</span>(i);<br>&#125;<br><span class="hljs-built_in">dfs</span>(<span class="hljs-number">1</span>);<br>cout&lt;&lt;ans; <br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šå¾ˆå‰å®³çš„å†™æ³•ï¼Œå°¤å…¶æ˜¯sumçš„å¢åŠ ä½¿å¾—åŸå…ˆéœ€è¦éå†æ‰€æœ‰çš„cntåˆ¤æ–­é¢œè‰²ä¸ªæ•°æ˜¯å¦ä¸€è‡´å¯ä»¥O(1)çš„æ—¶é—´å¤æ‚åº¦åˆ¤æ–­å‡ºæ¥ï¼Œè€Œå¯¹sumçš„é€’æ¨æ˜¯ç›´æ¥å†…åµŒåœ¨dfsé‡Œçš„ï¼Œå¤ªå‰å®³äº†ã€‚è¿˜æœ‰unordered_mapå¯¹äºä¸‰ç»´æ•°ç»„çš„åº”ç”¨ä¹Ÿéå¸¸ç†Ÿç»ƒï¼Œå¤ªå‰å®³äº†ï¼è€Œä¸”è¿™ä¸ªdfsä¹Ÿæ²¡æœ‰ä¸€èˆ¬çš„ç»ˆç»“æ¡ä»¶ï¼Œå³å¶èŠ‚ç‚¹ï¼Œç›¸å½“äºéšå¼çš„æ–¹å¼äº†ã€‚å¾ˆæ£’çš„ä¸€é“é¢˜ï¼Œè€ƒåœºä¸Šè¦æ˜¯èƒ½æ¨¡æ‹Ÿå‡ºè¿™ç§æš´åŠ›çœŸçš„å°±å¤ªæ£’äº†ï¼~</li></ul><h3 id="Gç½‘ç»œç¨³å®šæ€§ï¼š"><a href="#Gç½‘ç»œç¨³å®šæ€§ï¼š" class="headerlink" title="Gç½‘ç»œç¨³å®šæ€§ï¼š"></a>Gç½‘ç»œç¨³å®šæ€§ï¼š</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span><br><span class="hljs-type">int</span> dp[<span class="hljs-number">5005</span>][<span class="hljs-number">5005</span>]; <br><span class="hljs-type">int</span> n, m, q;<br><span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-built_in">memset</span>(dp,<span class="hljs-number">-1</span>,<span class="hljs-built_in">sizeof</span>(dp));<br>cin&gt;&gt;n&gt;&gt;m&gt;&gt;q;<br><span class="hljs-type">int</span> u,v,x;<br><span class="hljs-keyword">while</span>(m--)&#123;<br>cin&gt;&gt;u&gt;&gt;v&gt;&gt;x;<br>dp[u][v] = <span class="hljs-built_in">max</span>(dp[u][v], x);<br>dp[v][u] = <span class="hljs-built_in">max</span>(dp[v][u], x);<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> k = <span class="hljs-number">1</span>; k &lt;= n; k++)&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n ;i++)&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j++)&#123;<br><span class="hljs-keyword">if</span>(i != j &amp;&amp; i != k &amp;&amp; j != k)&#123;<br>dp[i][j] = <span class="hljs-built_in">max</span>(dp[i][j], <span class="hljs-built_in">min</span>(dp[i][k],dp[k][j]));<br>&#125;<br>&#125;<br>&#125;<br>&#125;<br><span class="hljs-keyword">while</span>(q--)&#123;<br>cin&gt;&gt;u&gt;&gt;v;<br>cout&lt;&lt;dp[u][v]&lt;&lt;endl;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è“æ¡¥æ¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£é“¾è¡¨éƒ¨åˆ†é¢˜ç›®æ€»ç»“---åŸºæœ¬å®Œç»“~</title>
    <link href="/2024/02/02/%E5%8A%9B%E6%89%A3%E7%AE%97%E6%B3%95%E9%A2%98/%E5%8A%9B%E6%89%A3%E9%93%BE%E8%A1%A8%E9%83%A8%E5%88%86%E9%A2%98%E7%9B%AE%E6%80%BB%E7%BB%93/"/>
    <url>/2024/02/02/%E5%8A%9B%E6%89%A3%E7%AE%97%E6%B3%95%E9%A2%98/%E5%8A%9B%E6%89%A3%E9%93%BE%E8%A1%A8%E9%83%A8%E5%88%86%E9%A2%98%E7%9B%AE%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<h2 id="é“¾è¡¨"><a href="#é“¾è¡¨" class="headerlink" title="é“¾è¡¨"></a>é“¾è¡¨</h2><h3 id="å‰è¨€ï¼š"><a href="#å‰è¨€ï¼š" class="headerlink" title="å‰è¨€ï¼š"></a>å‰è¨€ï¼š</h3><p>é“¾è¡¨éƒ¨åˆ†ä¹‹å‰åˆ·åŠ›æ‰£ä¹Ÿåšè¿‡ä¸€äº›ï¼ŒåŸºæœ¬åšä¸å‡ºæ¥ï¼Œéƒ½æ˜¯çœ‹é¢˜è§£ï¼Œå¸Œæœ›è¿™æ¬¡è®­ç»ƒå¯ä»¥åœ¨é“¾è¡¨çš„é¢˜ç›®ä¸Šæœ‰äº›è¿›æ­¥å­ï¼›ï¼‰</p><h3 id="1-ç›¸äº¤é“¾è¡¨"><a href="#1-ç›¸äº¤é“¾è¡¨" class="headerlink" title="1.ç›¸äº¤é“¾è¡¨"></a>1.ç›¸äº¤é“¾è¡¨</h3><ul><li>æè¿°ï¼šç»™ä½ ä¸¤ä¸ªå•é“¾è¡¨çš„å¤´èŠ‚ç‚¹ <code>headA</code> å’Œ <code>headB</code> ï¼Œè¯·ä½ æ‰¾å‡ºå¹¶è¿”å›ä¸¤ä¸ªå•é“¾è¡¨ç›¸äº¤çš„èµ·å§‹èŠ‚ç‚¹ã€‚å¦‚æœä¸¤ä¸ªé“¾è¡¨ä¸å­˜åœ¨ç›¸äº¤èŠ‚ç‚¹ï¼Œè¿”å› <code>null</code> ã€‚</li></ul><h4 id="è§£æ³•ä¸€ï¼š"><a href="#è§£æ³•ä¸€ï¼š" class="headerlink" title="è§£æ³•ä¸€ï¼š"></a>è§£æ³•ä¸€ï¼š</h4><ul><li>æ€è·¯ï¼šä¸¤ä¸ªé“¾è¡¨ç›¸äº¤ï¼Œé‡‡ç”¨åŒæŒ‡é’ˆçš„æ–¹æ³•ï¼Œå¼€å§‹åˆ†åˆ«æŒ‡å‘ä¸¤ä¸ªé“¾è¡¨å¤´ï¼ŒåŒæ­¥å‘åèµ°ï¼Œä¸€æ—¦èµ°å®Œä¸€ä¸ªé“¾è¡¨å°±æ¢å¦ä¸€ä¸ªé“¾è¡¨å¤´ç»§ç»­èµ°ï¼Œé‚£ä¹ˆä¸¤ä¸ªæŒ‡é’ˆä¼šåœ¨ç›¸äº¤ä½ç½®åˆšå¥½é‡é€¢ï¼ˆå¦‚æœç›¸äº¤çš„è¯ï¼‰ï¼Œå¦åˆ™å°±è¿”å›nullã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> ListNode <span class="hljs-title function_">getIntersectionNode</span><span class="hljs-params">(ListNode headA, ListNode headB)</span> &#123;<br>        <span class="hljs-keyword">if</span>(headA == <span class="hljs-literal">null</span> || headB == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">pA</span> <span class="hljs-operator">=</span> headA;<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">pB</span> <span class="hljs-operator">=</span> headB;<br>        <span class="hljs-keyword">while</span>(pA != pB)&#123;<br>            pA = pA == <span class="hljs-literal">null</span>? headB : pA.next;<br>            pB = pB == <span class="hljs-literal">null</span>? headA : pB.next;<br>        &#125;<br>        <span class="hljs-keyword">return</span> pA;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>éå¸¸å·§å¦™çš„åŒæŒ‡é’ˆï¼Œç®€æ´æœ‰åŠ›çš„è§£å†³é—®é¢˜ã€‚ç®€å†™çš„æ¡ä»¶åˆ¤æ–­è‡ªå·±å†™çš„è¯ç”¨çš„æ¯”è¾ƒå°‘ï¼Œå¯ä»¥å­¦ä¹ ä¸€ä¸‹ã€‚</li></ul><h4 id="è§£æ³•äºŒï¼š"><a href="#è§£æ³•äºŒï¼š" class="headerlink" title="è§£æ³•äºŒï¼š"></a>è§£æ³•äºŒï¼š</h4><ul><li>æ€è·¯ï¼šç”¨å“ˆå¸Œè¡¨å­˜ä¸‹ä¸€ä¸ªé“¾è¡¨çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œå†éå†å¦ä¸€ä¸ªé“¾è¡¨å»æ‰¾ç›¸äº¤ç‚¹ï¼Œç”±äºå“ˆå¸Œè¡¨é‡Œå­˜çš„æ˜¯åœ°å€ï¼Œæ‰€ä»¥æ˜¯å¯è¡Œçš„ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> ListNode <span class="hljs-title function_">getIntersectionNode</span><span class="hljs-params">(ListNode headA, ListNode headB)</span> &#123;<br>        Set&lt;ListNode&gt; visited = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;();<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">tmp</span> <span class="hljs-operator">=</span> headA;<br>        <span class="hljs-keyword">while</span>(tmp != <span class="hljs-literal">null</span>)&#123;<br>            visited.add(tmp);<br>            tmp = tmp.next;<br>        &#125;<br>        tmp = headB;<br>        <span class="hljs-keyword">while</span>(tmp != <span class="hljs-literal">null</span>)&#123;<br>            <span class="hljs-keyword">if</span>(visited.contains(tmp))&#123;<br>                <span class="hljs-keyword">return</span> tmp;<br>            &#125;<br>            tmp = tmp.next;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šæ€è·¯å¹¶ä¸éš¾ï¼Œå°±æ˜¯å¯¹Setè¿™äº›æ•°æ®ç»“æ„è¦è¶³å¤Ÿç†Ÿæ‚‰æ‰è¡Œã€‚</li></ul><h3 id="2-åè½¬é“¾è¡¨"><a href="#2-åè½¬é“¾è¡¨" class="headerlink" title="2.åè½¬é“¾è¡¨"></a>2.åè½¬é“¾è¡¨</h3><ul><li>æè¿°ï¼šç»™ä½ å•é“¾è¡¨çš„å¤´èŠ‚ç‚¹ <code>head</code> ï¼Œè¯·ä½ åè½¬é“¾è¡¨ï¼Œå¹¶è¿”å›åè½¬åçš„é“¾è¡¨ã€‚</li></ul><h4 id="è§£æ³•ä¸€ï¼š-1"><a href="#è§£æ³•ä¸€ï¼š-1" class="headerlink" title="è§£æ³•ä¸€ï¼š"></a>è§£æ³•ä¸€ï¼š</h4><ul><li>æ€è·¯ï¼šé‡‡ç”¨è¿­ä»£çš„æ–¹å¼ï¼Œè®¾ç½®3ä¸ªå˜é‡prev,cur,next,ä»é“¾è¡¨å¤´å¼€å§‹é€æ­¥åè½¬æ¯ä¸€æ¡nextæŒ‡é’ˆ</li><li>ä»£ç ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> ListNode <span class="hljs-title function_">reverseList</span><span class="hljs-params">(ListNode head)</span> &#123;<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">prev</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">cur</span> <span class="hljs-operator">=</span> head;<br>        <span class="hljs-keyword">while</span>(cur != <span class="hljs-literal">null</span>)&#123;<br>            <span class="hljs-type">ListNode</span> <span class="hljs-variable">next</span> <span class="hljs-operator">=</span> cur.next;<br>            cur.next = prev;<br>            prev = cur;<br>            cur = next;<br>        &#125;<br>        <span class="hljs-keyword">return</span> prev;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šæœ€ç›´ç™½çš„æ€è·¯ï¼Œä½†æ˜¯è¿˜æ˜¯è¦å¯¹é“¾è¡¨çš„åŸºç¡€è¶³å¤Ÿç†Ÿæ‚‰æ‰è¡Œã€‚</li></ul><h4 id="è§£æ³•äºŒï¼š-1"><a href="#è§£æ³•äºŒï¼š-1" class="headerlink" title="è§£æ³•äºŒï¼š"></a>è§£æ³•äºŒï¼š</h4><ul><li>æ€è·¯ï¼šé‡‡å–é€’å½’ï¼Œä¸€ç›´å¾€åï¼Œé‚£ä¹ˆå‡è®¾ååŠæ®µé“¾è¡¨å·²ç»åè½¬è¿‡æ¥ï¼Œå½¢æˆç±»ä¼¼O-&gt;O-&gt;<strong>O-&gt;O</strong>&lt;-O&lt;-O,é‚£ä¹ˆä¸­é—´è¿™ä¸ªçš„å‰ä¸€ä¸ªheadçš„next.nextä¿®æ”¹ä¸ºè‡ªå·±ï¼Œå†head.next&#x3D;nullï¼Œå³å¯å˜ä¸ºO-&gt;O-&gt;<strong>O&lt;-O</strong>&lt;-O&lt;-O,ä»¥æ­¤ç±»æ¨ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> ListNode <span class="hljs-title function_">reverseList</span><span class="hljs-params">(ListNode head)</span> &#123;<br>        <span class="hljs-keyword">if</span>(head == <span class="hljs-literal">null</span> || head.next == <span class="hljs-literal">null</span>)&#123;<br>            <span class="hljs-keyword">return</span> head;<br>        &#125;<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">newHead</span> <span class="hljs-operator">=</span> reverseList(head.next);<br>        head.next.next = head;<br>        head.next = <span class="hljs-literal">null</span>;<br>        <span class="hljs-keyword">return</span> newHead;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šé€’å½’æ›´åŠ æŠ½è±¡ï¼Œä¹Ÿæ›´åŠ æœ‰æ„æ€ï¼Œå¯¹äºé€’å½’çš„å¤„ç†æœ‰äº†æ›´æ·±çš„ç†è§£ï¼Œä¸€èˆ¬éƒ½æ˜¯å€’æ¨ï¼Œåé¢çš„å·²ç»å®Œæˆï¼Œæ€ä¹ˆå¤„ç†å½“å‰çš„çŠ¶å†µã€‚</li></ul><h3 id="3-å›æ–‡é“¾è¡¨ï¼š"><a href="#3-å›æ–‡é“¾è¡¨ï¼š" class="headerlink" title="3.å›æ–‡é“¾è¡¨ï¼š"></a>3.å›æ–‡é“¾è¡¨ï¼š</h3><ul><li>æè¿°ï¼šç»™ä½ ä¸€ä¸ªå•é“¾è¡¨çš„å¤´èŠ‚ç‚¹ <code>head</code> ï¼Œè¯·ä½ åˆ¤æ–­è¯¥é“¾è¡¨æ˜¯å¦ä¸ºå›æ–‡é“¾è¡¨ã€‚å¦‚æœæ˜¯ï¼Œè¿”å› <code>true</code> ï¼›å¦åˆ™ï¼Œè¿”å› <code>false</code> ã€‚</li></ul><h4 id="è§£æ³•ä¸€ï¼š-2"><a href="#è§£æ³•ä¸€ï¼š-2" class="headerlink" title="è§£æ³•ä¸€ï¼š"></a>è§£æ³•ä¸€ï¼š</h4><ul><li>æ€è·¯ï¼šç”¨ä¸€ä¸ªæ•°ç»„å–å‡ºæ‰€æœ‰èŠ‚ç‚¹çš„val,ç„¶ååŒæŒ‡é’ˆåˆ¤æ–­æ˜¯å¦å›æ–‡</li><li>ä»£ç ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isPalindrome</span><span class="hljs-params">(ListNode head)</span> &#123;<br>        List&lt;Integer&gt; vals = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">cur</span> <span class="hljs-operator">=</span> head;<br>        <span class="hljs-keyword">while</span>(cur != <span class="hljs-literal">null</span>)&#123;<br>            vals.add(cur.val);<br>            cur = cur.next;<br>        &#125;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">l</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>, r = vals.size() - <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">while</span>(l &lt; r)&#123;<br>            <span class="hljs-keyword">if</span>(!vals.get(l).equals(vals.get(r)))&#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>            &#125;<br>            l++;<br>            r--;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šæœ€ç›´æ¥çš„æ€è·¯ï¼Œç†Ÿç»ƒä½¿ç”¨Listæ•°æ®ç»“æ„ï¼ŒåŒ…æ‹¬add,get,equalsæ–¹æ³•ã€‚</li></ul><h4 id="è§£æ³•äºŒï¼š-2"><a href="#è§£æ³•äºŒï¼š-2" class="headerlink" title="è§£æ³•äºŒï¼š"></a>è§£æ³•äºŒï¼š</h4><ul><li>æ€è·¯ï¼šåˆ©ç”¨é€’å½’ä¼šå˜ç›¸çš„åå‘éå†é“¾è¡¨è¿™ä¸ªç‰¹ç‚¹ï¼Œè®¾ç½®ä¸€ä¸ªä»headå¼€å§‹çš„å…¨å±€å˜é‡è¿›è¡Œæ¯”è¾ƒéªŒè¯ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">private</span> ListNode frontPointer;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">recursivelyCheck</span><span class="hljs-params">(ListNode cur)</span>&#123;<br>        <span class="hljs-keyword">if</span>(cur == <span class="hljs-literal">null</span>)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(!recursivelyCheck(cur.next))&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(cur.val == frontPointer.val)&#123;<br>            frontPointer = frontPointer.next;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isPalindrome</span><span class="hljs-params">(ListNode head)</span> &#123;<br>        frontPointer = head;<br>        <span class="hljs-keyword">return</span> recursivelyCheck(head);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šå®ç”¨æ€§ä¸å¼ºï¼Œå› ä¸ºåœ¨è®¸å¤šè¯­è¨€ä¸­ï¼Œå †æ ˆå¸§çš„å¼€é”€å¾ˆå¤§ï¼ˆå¦‚ Pythonï¼‰ï¼Œå¹¶ä¸”æœ€å¤§çš„è¿è¡Œæ—¶å †æ ˆæ·±åº¦ä¸º 1000ï¼ˆå¯ä»¥å¢åŠ ï¼Œä½†æ˜¯æœ‰å¯èƒ½å¯¼è‡´åº•å±‚è§£é‡Šç¨‹åºå†…å­˜å‡ºé”™ï¼‰ã€‚ä¸ºæ¯ä¸ªèŠ‚ç‚¹åˆ›å»ºå †æ ˆå¸§æå¤§çš„é™åˆ¶äº†ç®—æ³•èƒ½å¤Ÿå¤„ç†çš„æœ€å¤§é“¾è¡¨å¤§å°ã€‚ä½†æ˜¯æ€è·¯å¾ˆæœ‰æ„æ€ã€‚</li></ul><h4 id="è§£æ³•ä¸‰ï¼š"><a href="#è§£æ³•ä¸‰ï¼š" class="headerlink" title="è§£æ³•ä¸‰ï¼š"></a>è§£æ³•ä¸‰ï¼š</h4><ul><li>æ€è·¯ï¼šä¸ºäº†å®ç°O(1)çš„ç©ºé—´å¤æ‚åº¦ï¼Œå…ˆåˆ©ç”¨å¿«æ…¢æŒ‡é’ˆæ‰¾åˆ°é“¾è¡¨çš„ä¸­é—´ä½ç½®ï¼Œè¿”å›ååŠéƒ¨åˆ†é“¾è¡¨ï¼Œæ¯”è¾ƒä¸¤ä¸ªé“¾è¡¨ï¼Œå†æ¢å¤é“¾è¡¨ã€‚</li><li>ä»£ç :</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> ListNode <span class="hljs-title function_">endOfFisrtHalf</span><span class="hljs-params">(ListNode head)</span>&#123;<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">slow</span> <span class="hljs-operator">=</span> head;<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">fast</span> <span class="hljs-operator">=</span> head;<br>        <span class="hljs-keyword">while</span>(fast.next != <span class="hljs-literal">null</span> &amp;&amp; fast.next.next != <span class="hljs-literal">null</span>)&#123; <span class="hljs-comment">//è€ƒè™‘åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹æˆ–ä¸¤ä¸ªèŠ‚ç‚¹çš„ç‰¹æ®Šæƒ…å†µï¼Œæœ€ç»ˆslowå¿…é¡»æ˜¯å±äºå‰åŠéƒ¨åˆ†çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹</span><br>            fast = fast.next.next;<br>            slow = slow.next;<br>        &#125;<br>        <span class="hljs-keyword">return</span> slow;<br>    &#125;<br>    <span class="hljs-keyword">public</span> ListNode <span class="hljs-title function_">reverseList</span><span class="hljs-params">(ListNode head)</span> &#123;<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">prev</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">cur</span> <span class="hljs-operator">=</span> head;<br>        <span class="hljs-keyword">while</span>(cur != <span class="hljs-literal">null</span>)&#123;<br>            <span class="hljs-type">ListNode</span> <span class="hljs-variable">next</span> <span class="hljs-operator">=</span> cur.next;<br>            cur.next = prev;<br>            prev = cur;<br>            cur = next;<br>        &#125;<br>        <span class="hljs-keyword">return</span> prev;<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isPalindrome</span><span class="hljs-params">(ListNode head)</span> &#123;<br>        <span class="hljs-keyword">if</span>(head == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">firstHalfEnd</span> <span class="hljs-operator">=</span> endOfFisrtHalf(head);<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">secondHalfStart</span> <span class="hljs-operator">=</span> reverseList(firstHalfEnd.next);<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">p1</span> <span class="hljs-operator">=</span> head;<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">p2</span> <span class="hljs-operator">=</span> secondHalfStart;<br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">while</span>(res &amp;&amp; p2 != <span class="hljs-literal">null</span>)&#123;<br>            <span class="hljs-keyword">if</span>(p1.val != p2.val)&#123;<br>                res = <span class="hljs-literal">false</span>;<br>            &#125;<br>            p1 = p1.next;<br>            p2 = p2.next;<br>        &#125;<br>        firstHalfEnd.next = reverseList(secondHalfStart);<br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šå’Œä¹‹å‰çš„åè½¬é“¾è¡¨è¿èµ·æ¥äº†ï¼Œå¾ˆç¾å¦™çš„åšæ³•ï¼Œä»¥åŠé€šè¿‡å¿«æ…¢æŒ‡é’ˆæ‰¾ä¸­é—´èŠ‚ç‚¹çš„æ–¹æ³•ï¼Œæ„Ÿè§‰ä¹Ÿå¾ˆå¸¸ç”¨ã€‚</li></ul><h3 id="4-ç¯å½¢é“¾è¡¨"><a href="#4-ç¯å½¢é“¾è¡¨" class="headerlink" title="4.ç¯å½¢é“¾è¡¨"></a>4.ç¯å½¢é“¾è¡¨</h3><ul><li><p>æè¿°ï¼šç»™ä½ ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ <code>head</code> ï¼Œåˆ¤æ–­é“¾è¡¨ä¸­æ˜¯å¦æœ‰ç¯ã€‚</p><p><em>å¦‚æœé“¾è¡¨ä¸­å­˜åœ¨ç¯</em> ï¼Œåˆ™è¿”å› <code>true</code> ã€‚ å¦åˆ™ï¼Œè¿”å› <code>false</code> ã€‚</p></li></ul><h4 id="è§£æ³•ä¸€ï¼š-3"><a href="#è§£æ³•ä¸€ï¼š-3" class="headerlink" title="è§£æ³•ä¸€ï¼š"></a>è§£æ³•ä¸€ï¼š</h4><ul><li>æ€è·¯ï¼šåˆ©ç”¨å¿«æ…¢æŒ‡é’ˆï¼Œæ…¢æŒ‡é’ˆä¸€æ¬¡èµ°ä¸€æ­¥ï¼Œå¿«æŒ‡é’ˆä¸€æ¬¡èµ°ä¸¤æ­¥ï¼Œå¦‚æœæœ‰ç¯ï¼Œé‚£ä¹ˆå¿«æŒ‡é’ˆä¸€å®šæ¯”æ…¢æŒ‡é’ˆå…ˆè¿›å…¥ï¼Œç»§è€Œè½åäºæ…¢æŒ‡é’ˆï¼Œç”±äº<strong>æ­¤æ—¶å¿«æŒ‡é’ˆä¸æ…¢æŒ‡é’ˆçš„è·ç¦»æ¯æ¬¡å‡å°‘1</strong>ï¼Œ<strong>ç¯å¯ä»¥çœ‹ä½œæ˜¯æ— é™çš„ç›´çº¿ï¼Œæ‰€ä»¥ä¸€å®šä¼šç›¸é‡</strong>ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">hasCycle</span><span class="hljs-params">(ListNode head)</span> &#123;<br>        <span class="hljs-keyword">if</span>(head == <span class="hljs-literal">null</span> || head.next == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">slow</span> <span class="hljs-operator">=</span> head;<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">fast</span> <span class="hljs-operator">=</span> head.next;<br>        <span class="hljs-keyword">while</span>(slow != fast)&#123;<br>            <span class="hljs-keyword">if</span>(fast == <span class="hljs-literal">null</span> || fast.next == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>            slow = slow.next;<br>            fast = fast.next.next;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šç¥å¥‡çš„å¿«æ…¢æŒ‡é’ˆï¼Œä¸ç¯ç»“åˆå¾ˆé€‚åˆç”¨æ¥åšç›¸é‡ï¼Œå¾ˆæ£’çš„æ€è·¯~</li></ul><h3 id="5-ç¯å½¢é“¾è¡¨"><a href="#5-ç¯å½¢é“¾è¡¨" class="headerlink" title="5.ç¯å½¢é“¾è¡¨||"></a>5.ç¯å½¢é“¾è¡¨||</h3><ul><li>æè¿°ï¼šç»™å®šä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹  <code>head</code> ï¼Œè¿”å›é“¾è¡¨å¼€å§‹å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ <em>å¦‚æœé“¾è¡¨æ— ç¯ï¼Œåˆ™è¿”å› <code>null</code>ã€‚</em></li></ul><h4 id="è§£æ³•ä¸€ï¼š-4"><a href="#è§£æ³•ä¸€ï¼š-4" class="headerlink" title="è§£æ³•ä¸€ï¼š"></a>è§£æ³•ä¸€ï¼š</h4><ul><li><p>æ€è·¯ï¼šå›å½’æœ€ç®€å•ç›´æ¥çš„æ–¹æ³•ï¼ŒHashè®°å½•æ‰€æœ‰è®¿é—®è¿‡çš„ç‚¹ï¼Œä¸€æ—¦å†æ¬¡è®¿é—®åˆ°å³å¯ç›´æ¥è¿”å›ã€‚</p></li><li><p>ä»£ç ï¼š</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> ListNode <span class="hljs-title function_">detectCycle</span><span class="hljs-params">(ListNode head)</span> &#123;<br>        Set&lt;ListNode&gt; visited = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;();<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">pos</span> <span class="hljs-operator">=</span> head;<br>        <span class="hljs-keyword">while</span>(pos != <span class="hljs-literal">null</span>)&#123;<br>            <span class="hljs-keyword">if</span>(visited.contains(pos))&#123;<br>                <span class="hljs-keyword">return</span> pos;<br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                visited.add(pos);<br>                pos = pos.next;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="è§£æ³•äºŒï¼š-3"><a href="#è§£æ³•äºŒï¼š-3" class="headerlink" title="è§£æ³•äºŒï¼š"></a>è§£æ³•äºŒï¼š</h4><img src="00.png" alt="æ€è·¯" width="500px"><ul><li>æ€è·¯ï¼šè¿˜æ˜¯åŸºäºå¿«æ…¢æŒ‡é’ˆï¼Œå¹¶ä¸”é€šè¿‡æ•°å­¦è®¡ç®—å‘ç°ç›¸é‡åï¼Œä»å¤´èŠ‚ç‚¹åˆ°å…¥ç¯ç‚¹çš„è·ç¦»ç­‰äºç›¸é‡ç‚¹åˆ°å…¥ç¯ç‚¹çš„è·ç¦»ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> ListNode <span class="hljs-title function_">detectCycle</span><span class="hljs-params">(ListNode head)</span> &#123;<br>        <span class="hljs-keyword">if</span>(head == <span class="hljs-literal">null</span> || head.next == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">slow</span> <span class="hljs-operator">=</span> head, fast = head;<br>        <span class="hljs-keyword">while</span>(fast != <span class="hljs-literal">null</span>)&#123;<br>            slow = slow.next;<br>            <span class="hljs-keyword">if</span>(fast.next == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>            fast = fast.next.next;<br>            <span class="hljs-keyword">if</span>(slow == fast)&#123;<br>                <span class="hljs-type">ListNode</span> <span class="hljs-variable">ptr</span> <span class="hljs-operator">=</span> head;<br>                <span class="hljs-keyword">while</span>(ptr != slow)&#123;<br>                    ptr = ptr.next;<br>                    slow = slow.next;<br>                &#125;<br>                <span class="hljs-keyword">return</span> ptr;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šå’Œç›´æ¥åˆ¤æ–­ç¯çš„é¢˜ç›®è¿˜æ˜¯ä¸å¤ªä¸€æ ·ï¼Œé¦–å…ˆå°±æ˜¯å¿«æ…¢æŒ‡é’ˆçš„èµ·ç‚¹éƒ½æ˜¯head,ç„¶åå¯¼è‡´whileåˆ¤æ–­ä¹Ÿå‘ç”Ÿå˜åŒ–ï¼Œéœ€è¦è§†æƒ…å†µè€Œå®šã€‚</li></ul><h3 id="6-åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨"><a href="#6-åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨" class="headerlink" title="6.åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨"></a>6.åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨</h3><ul><li>æè¿°ï¼šå°†ä¸¤ä¸ªå‡åºé“¾è¡¨åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„ <strong>å‡åº</strong> é“¾è¡¨å¹¶è¿”å›ã€‚æ–°é“¾è¡¨æ˜¯é€šè¿‡æ‹¼æ¥ç»™å®šçš„ä¸¤ä¸ªé“¾è¡¨çš„æ‰€æœ‰èŠ‚ç‚¹ç»„æˆçš„ã€‚</li></ul><h4 id="è§£æ³•ä¸€ï¼š-5"><a href="#è§£æ³•ä¸€ï¼š-5" class="headerlink" title="è§£æ³•ä¸€ï¼š"></a>è§£æ³•ä¸€ï¼š</h4><ul><li>æ€è·¯ï¼šé‡‡ç”¨é€’å½’çš„æ€æƒ³ï¼Œå…ˆåˆ¤æ–­ä¸¤ä¸ªå¤´éƒ¨çš„å€¼ï¼Œè¾ƒå°çš„ä¿ç•™ï¼Œå‰©ä½™çš„ä¸¤ä¸ªé“¾è¡¨ç»§ç»­åˆå¹¶ï¼Œç›´åˆ°å…¶ä¸­ä¸€ä¸ªé“¾è¡¨ä¸ºç©ºã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> ListNode <span class="hljs-title function_">mergeTwoLists</span><span class="hljs-params">(ListNode list1, ListNode list2)</span> &#123;<br>        <span class="hljs-keyword">if</span>(list1 == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> list2;<br>        <span class="hljs-keyword">if</span>(list2 == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> list1;<br>        <span class="hljs-keyword">if</span>(list1.val &lt; list2.val)&#123;<br>            list1.next = mergeTwoLists(list1.next, list2);<br>            <span class="hljs-keyword">return</span> list1;<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            list2.next = mergeTwoLists(list1, list2.next);<br>            <span class="hljs-keyword">return</span> list2;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šä¸¤ç§æƒ…å†µå†åˆ†åˆ«é€’å½’ï¼Œå®ç°ä¸¤ä¸ªé“¾è¡¨ä¸­çš„è¾ƒå°å€¼çš„é€ä¸€åˆå¹¶ï¼Œå¾ˆå·§å¦™ã€‚</li></ul><h3 id="7-ä¸¤æ•°ç›¸åŠ "><a href="#7-ä¸¤æ•°ç›¸åŠ " class="headerlink" title="7.ä¸¤æ•°ç›¸åŠ "></a>7.ä¸¤æ•°ç›¸åŠ </h3><ul><li>æè¿°ï¼šç»™ä½ ä¸¤ä¸ª <strong>éç©º</strong> çš„é“¾è¡¨ï¼Œè¡¨ç¤ºä¸¤ä¸ªéè´Ÿçš„æ•´æ•°ã€‚å®ƒä»¬æ¯ä½æ•°å­—éƒ½æ˜¯æŒ‰ç…§ <strong>é€†åº</strong> çš„æ–¹å¼å­˜å‚¨çš„ï¼Œå¹¶ä¸”æ¯ä¸ªèŠ‚ç‚¹åªèƒ½å­˜å‚¨ <strong>ä¸€ä½</strong> æ•°å­—ã€‚è¯·ä½ å°†ä¸¤ä¸ªæ•°ç›¸åŠ ï¼Œå¹¶ä»¥ç›¸åŒå½¢å¼è¿”å›ä¸€ä¸ªè¡¨ç¤ºå’Œçš„é“¾è¡¨ã€‚ä½ å¯ä»¥å‡è®¾é™¤äº†æ•°å­— 0 ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªæ•°éƒ½ä¸ä¼šä»¥ 0 å¼€å¤´ã€‚</li></ul><h4 id="è§£æ³•ä¸€ï¼š-6"><a href="#è§£æ³•ä¸€ï¼š-6" class="headerlink" title="è§£æ³•ä¸€ï¼š"></a>è§£æ³•ä¸€ï¼š</h4><ul><li><p>æ€è·¯ï¼šåˆ›å»ºä¸€ä¸ªæ–°é“¾ï¼Œé€ä¸ªå»å–ä¸¤ä¸ªé“¾è¡¨ä¸Šçš„æ•°ç›¸åŠ ï¼Œç›´åˆ°ä¸¤ä¸ªé“¾è¡¨å‡ä¸ºç©ºï¼Œè‹¥æœ‰ä¸€ä¸ªä¸ºç©ºï¼Œç›´æ¥èµ‹å€¼ä¸º0ï¼Œæœ€åæ³¨æ„è¿˜è¦åˆ¤æ–­ä¸€ä¸‹è¿›ä½ã€‚</p></li><li><p>ä»£ç ï¼š</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> ListNode <span class="hljs-title function_">addTwoNumbers</span><span class="hljs-params">(ListNode l1, ListNode l2)</span> &#123;<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">head</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>, tail = <span class="hljs-literal">null</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">carry</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">while</span>(l1 != <span class="hljs-literal">null</span> || l2!= <span class="hljs-literal">null</span>)&#123;<br>            <span class="hljs-type">int</span> <span class="hljs-variable">n1</span> <span class="hljs-operator">=</span> l1 != <span class="hljs-literal">null</span> ? l1.val : <span class="hljs-number">0</span>;<br>            <span class="hljs-type">int</span> <span class="hljs-variable">n2</span> <span class="hljs-operator">=</span> l2 != <span class="hljs-literal">null</span> ? l2.val : <span class="hljs-number">0</span>;<br>            <span class="hljs-type">int</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> n1 + n2 + carry;<br>            <span class="hljs-keyword">if</span>(head == <span class="hljs-literal">null</span>)&#123;<br>                head = tail = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ListNode</span>(sum % <span class="hljs-number">10</span>);<br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                tail.next = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ListNode</span>(sum % <span class="hljs-number">10</span>);<br>                tail = tail.next;<br>            &#125;<br>            carry = sum /<span class="hljs-number">10</span>;<br>            <span class="hljs-keyword">if</span>(l1 != <span class="hljs-literal">null</span>)&#123;<br>                l1 = l1.next;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(l2 != <span class="hljs-literal">null</span>)&#123;<br>                l2 = l2.next;<br>            &#125;   <br>        &#125;<br>        <span class="hljs-keyword">if</span>(carry &gt; <span class="hljs-number">0</span>)&#123;<br>                tail.next = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ListNode</span>(carry);<br>            &#125;<br>        <span class="hljs-keyword">return</span> head;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šæ€è·¯å¾ˆæ¸…æ™°ï¼Œä¸»è¦æ˜¯å†™ä»£ç è¦å¤šå¤šæ³¨æ„ç»†èŠ‚é—®é¢˜~</li></ul><h3 id="8-æ’åºé“¾è¡¨"><a href="#8-æ’åºé“¾è¡¨" class="headerlink" title="8.æ’åºé“¾è¡¨"></a>8.æ’åºé“¾è¡¨</h3><ul><li>æè¿°ï¼šç»™ä½ é“¾è¡¨çš„å¤´ç»“ç‚¹ <code>head</code> ï¼Œè¯·å°†å…¶æŒ‰ <strong>å‡åº</strong> æ’åˆ—å¹¶è¿”å› <strong>æ’åºåçš„é“¾è¡¨</strong> ã€‚</li></ul><h4 id="è§£æ³•ä¸€ï¼š-7"><a href="#è§£æ³•ä¸€ï¼š-7" class="headerlink" title="è§£æ³•ä¸€ï¼š"></a>è§£æ³•ä¸€ï¼š</h4><ul><li>æ€è·¯ï¼š<strong>è‡ªé¡¶å‘ä¸‹</strong>ï¼Œé‡‡ç”¨å½’å¹¶é€’å½’çš„æ–¹æ³•ï¼Œä¸æ–­ç»†åˆ†é“¾è¡¨ï¼Œç›´åˆ°ä¸èƒ½å†ç»†åˆ†ç„¶åè¿›è¡Œåˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨ã€‚æ—¶é—´å¤æ‚åº¦ä¸ºO(NlogN),ç©ºé—´å¤æ‚åº¦ä¸ºO(NlogN)ï¼Œå› ä¸ºç”¨åˆ°äº†æ ˆçš„é€’å½’ç©ºé—´ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> ListNode <span class="hljs-title function_">sortList</span><span class="hljs-params">(ListNode head)</span> &#123;<br>        <span class="hljs-keyword">return</span> sortList(head, <span class="hljs-literal">null</span>);<br>    &#125;<br>    <span class="hljs-keyword">public</span> ListNode <span class="hljs-title function_">sortList</span><span class="hljs-params">(ListNode head, ListNode tail)</span>&#123;<br>        <span class="hljs-keyword">if</span>(head == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> head; <span class="hljs-comment">//å½“å‰é“¾è¡¨æ²¡æœ‰èŠ‚ç‚¹æˆ–åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹æ˜¯è¿”å›æ¡ä»¶</span><br>        <span class="hljs-keyword">if</span>(head.next == tail)&#123;<br>            head.next = <span class="hljs-literal">null</span>;<br>            <span class="hljs-keyword">return</span> head;<br>        &#125;<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">slow</span> <span class="hljs-operator">=</span> head, fast = head;<br>        <span class="hljs-keyword">while</span>(fast != tail)&#123;<br>            slow = slow.next;<br>            fast = fast.next;<br>            <span class="hljs-keyword">if</span>(fast != tail)&#123;<br>                fast = fast.next;<br>            &#125;<br>        &#125;<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">mid</span> <span class="hljs-operator">=</span> slow;<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">list1</span> <span class="hljs-operator">=</span> sortList(head, mid);<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">list2</span> <span class="hljs-operator">=</span> sortList(mid, tail);<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">sorted</span> <span class="hljs-operator">=</span> merge(list1, list2);<br>        <span class="hljs-keyword">return</span> sorted;<br>    &#125;<br>    <span class="hljs-keyword">public</span> ListNode <span class="hljs-title function_">merge</span><span class="hljs-params">(ListNode head1, ListNode head2)</span>&#123;<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">dummyHead</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ListNode</span>(<span class="hljs-number">0</span>);<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">tmp1</span> <span class="hljs-operator">=</span> head1, tmp2 = head2;<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">temp</span> <span class="hljs-operator">=</span> dummyHead;<br>        <span class="hljs-keyword">while</span>(tmp1 != <span class="hljs-literal">null</span> &amp;&amp; tmp2 != <span class="hljs-literal">null</span>)&#123;<br>            <span class="hljs-keyword">if</span>(tmp1.val &lt;= tmp2.val)&#123;<br>                temp.next = tmp1;<br>                tmp1 = tmp1.next;<br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                temp.next = tmp2;<br>                tmp2 = tmp2.next;<br>            &#125;<br>            temp = temp.next;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(tmp1 != <span class="hljs-literal">null</span>)&#123;<br>            temp.next = tmp1;<br>        &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(tmp2 != <span class="hljs-literal">null</span>)&#123;<br>            temp.next = tmp2;<br>        &#125;<br>        <span class="hljs-keyword">return</span> dummyHead.next;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šå…³é”®ç‚¹å°±æ˜¯å½’å¹¶å®ç°æœ€ç»ˆçš„æ’åºï¼Œä¸€äº›ç»†èŠ‚é—®é¢˜éœ€è¦æ³¨æ„ï¼Œæ¯”å¦‚éœ€è¦æ–­é“¾ç„¶åå†é‡æ–°åˆå¹¶(tailè¿™ä¸ªèŠ‚ç‚¹å¾ˆå…³é”®)ï¼Œmergeæ–¹æ³•è¿˜è¦æ›´åŠ ç†Ÿç»ƒã€‚</li></ul><h4 id="è§£æ³•äºŒï¼š-4"><a href="#è§£æ³•äºŒï¼š-4" class="headerlink" title="è§£æ³•äºŒï¼š"></a>è§£æ³•äºŒï¼š</h4><ul><li>æ€è·¯ï¼š<strong>è‡ªåº•å‘ä¸Š</strong>ï¼Œå…ˆæŠŠé“¾è¡¨åˆ†ä¸ºsubLenä¸º1çš„å­é“¾è¡¨ï¼Œä¸¤ä¸¤åˆå¹¶ï¼ŒsubLenå†ä¹˜2é‡å¤æ“ä½œï¼Œç›´åˆ°å¤§äºç­‰äºé“¾è¡¨é•¿åº¦ã€‚æ¶‰åŠåˆ°ä¸¤ä¸ªå­é“¾è¡¨çš„æ‹†åˆ†(cur)ç„¶åå†åˆå¹¶ï¼ˆprevï¼‰,ç»†èŠ‚è¦å¾ˆæ¸…æ¥šæ‰è¡Œã€‚æ—¶é—´å¤æ‚åº¦ä¸ºO(NlogN),<strong>ç©ºé—´å¤æ‚åº¦ä¸ºO(1)</strong>.</li><li>ä»£ç ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> ListNode <span class="hljs-title function_">sortList</span><span class="hljs-params">(ListNode head)</span> &#123;<br>        <span class="hljs-keyword">if</span>(head == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">dummyHead</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ListNode</span>(<span class="hljs-number">0</span>);<br>        dummyHead.next = head;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">len</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">node</span> <span class="hljs-operator">=</span> head;<br>        <span class="hljs-keyword">while</span>(node != <span class="hljs-literal">null</span>)&#123;<br>            len++;<br>            node = node.next;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> <span class="hljs-variable">subLen</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; subLen &lt; len; subLen &lt;&lt;= <span class="hljs-number">1</span>)&#123;<br>            <span class="hljs-type">ListNode</span> <span class="hljs-variable">prev</span> <span class="hljs-operator">=</span> dummyHead;<br>            <span class="hljs-type">ListNode</span> <span class="hljs-variable">cur</span> <span class="hljs-operator">=</span> dummyHead.next;<br>            <span class="hljs-keyword">while</span>(cur != <span class="hljs-literal">null</span>)&#123;<br>                <span class="hljs-type">ListNode</span> <span class="hljs-variable">head_1</span> <span class="hljs-operator">=</span> cur;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt; subLen &amp;&amp; cur != <span class="hljs-literal">null</span> &amp;&amp; cur.next != <span class="hljs-literal">null</span>; i++)&#123;<br>                    cur = cur.next;<br>                &#125;<br>                <span class="hljs-type">ListNode</span> <span class="hljs-variable">head_2</span> <span class="hljs-operator">=</span> cur.next;<br>                cur.next = <span class="hljs-literal">null</span>;<br>                cur = head_2;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt; subLen &amp;&amp; cur != <span class="hljs-literal">null</span> &amp;&amp; cur.next != <span class="hljs-literal">null</span>; i++)&#123;<br>                    cur = cur.next;<br>                &#125;<br>                <span class="hljs-type">ListNode</span> <span class="hljs-variable">next</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>                <span class="hljs-keyword">if</span>(cur != <span class="hljs-literal">null</span>)&#123;<br>                    next = cur.next;<br>                    cur.next = <span class="hljs-literal">null</span>;<br>                &#125;<br>                <span class="hljs-type">ListNode</span> <span class="hljs-variable">merged</span> <span class="hljs-operator">=</span> merge(head_1, head_2);<br>                prev.next = merged;<br>                <span class="hljs-keyword">while</span>(prev.next != <span class="hljs-literal">null</span>)&#123;<br>                    prev = prev.next;<br>                &#125;<br>                cur = next;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> dummyHead.next;<br>    &#125;<br>    <span class="hljs-keyword">public</span> ListNode <span class="hljs-title function_">merge</span><span class="hljs-params">(ListNode head1, ListNode head2)</span>&#123;<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">dummyHead</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ListNode</span>(<span class="hljs-number">0</span>);<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">tmp1</span> <span class="hljs-operator">=</span> head1, tmp2 = head2;<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">temp</span> <span class="hljs-operator">=</span> dummyHead;<br>        <span class="hljs-keyword">while</span>(tmp1 != <span class="hljs-literal">null</span> &amp;&amp; tmp2 != <span class="hljs-literal">null</span>)&#123;<br>            <span class="hljs-keyword">if</span>(tmp1.val &lt;= tmp2.val)&#123;<br>                temp.next = tmp1;<br>                tmp1 = tmp1.next;<br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                temp.next = tmp2;<br>                tmp2 = tmp2.next;<br>            &#125;<br>            temp = temp.next;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(tmp1 != <span class="hljs-literal">null</span>)&#123;<br>            temp.next = tmp1;<br>        &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(tmp2 != <span class="hljs-literal">null</span>)&#123;<br>            temp.next = tmp2;<br>        &#125;<br>        <span class="hljs-keyword">return</span> dummyHead.next;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šè¿™æ˜¯ä¸€é“å¾ˆæ£’çš„é¢˜ç›®ï¼Œæ·±å…¥ç†Ÿæ‚‰äº†ä¸¤ç§åšæ³•ï¼Œç‰¹åˆ«æ˜¯ä¸¤ç§ä¼˜ç§€çš„åº•å±‚æ€è·¯ï¼Œå½’å¹¶å’Œè‡ªåº•å‘ä¸Šã€‚è‡ªåº•å‘ä¸Šçš„æ€è·¯è¯´èµ·æ¥ç®€å•ï¼Œä½†æ˜¯æ“ä½œèµ·æ¥å¸¸å¸¸æœ‰å¾ˆå¤šç»†èŠ‚éœ€è¦åå¤æ¨æ•²ï¼Œç†Ÿèƒ½ç”Ÿå·§å­~</li></ul><h3 id="9-ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹"><a href="#9-ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹" class="headerlink" title="9.ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹"></a>9.ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹</h3><ul><li>æè¿°ï¼šç»™ä½ ä¸€ä¸ªé“¾è¡¨ï¼Œä¸¤ä¸¤äº¤æ¢å…¶ä¸­ç›¸é‚»çš„èŠ‚ç‚¹ï¼Œå¹¶è¿”å›äº¤æ¢åé“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚ä½ å¿…é¡»åœ¨ä¸ä¿®æ”¹èŠ‚ç‚¹å†…éƒ¨çš„å€¼çš„æƒ…å†µä¸‹å®Œæˆæœ¬é¢˜ï¼ˆå³ï¼Œåªèƒ½è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ï¼‰</li></ul><h4 id="è§£æ³•ä¸€ï¼š-8"><a href="#è§£æ³•ä¸€ï¼š-8" class="headerlink" title="è§£æ³•ä¸€ï¼š"></a>è§£æ³•ä¸€ï¼š</h4><ul><li>æ€è·¯ï¼šæœ¬è´¨å°±æ˜¯äº¤æ¢é“¾è¡¨ä¸­çš„ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œç„¶åé‡‡å–é€’å½’çš„æ–¹å¼ä¸æ–­å¾€åèµ°ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> ListNode <span class="hljs-title function_">swapPairs</span><span class="hljs-params">(ListNode head)</span> &#123;<br>        <span class="hljs-keyword">if</span>(head == <span class="hljs-literal">null</span> || head.next == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> head;<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">newHead</span> <span class="hljs-operator">=</span> head.next;<br>        head.next = newHead.next;<br>        newHead.next = head;<br>        head.next = swapPairs(head.next);<br>        <span class="hljs-keyword">return</span> newHead;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šè‡ªå·±å†™å‡ºæ¥çš„ä¸€é“é¢˜ç›®ï¼Œå¾ˆæ£’ï¼Œåˆšå¼€å§‹swapPairsé‡Œå†™æˆäº†head.next.nextï¼Œç„¶åæ ¹æ®è¾“å‡ºdebugè§£å†³äº†é—®é¢˜ï¼Œå¾ˆä¸é”™~</li></ul><h3 id="10-éšæœºé“¾è¡¨çš„å¤åˆ¶"><a href="#10-éšæœºé“¾è¡¨çš„å¤åˆ¶" class="headerlink" title="10.éšæœºé“¾è¡¨çš„å¤åˆ¶"></a>10.éšæœºé“¾è¡¨çš„å¤åˆ¶</h3><ul><li>æè¿°ï¼šç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º <code>n</code> çš„é“¾è¡¨ï¼Œæ¯ä¸ªèŠ‚ç‚¹åŒ…å«ä¸€ä¸ªé¢å¤–å¢åŠ çš„éšæœºæŒ‡é’ˆ <code>random</code> ï¼Œè¯¥æŒ‡é’ˆå¯ä»¥æŒ‡å‘é“¾è¡¨ä¸­çš„ä»»ä½•èŠ‚ç‚¹æˆ–ç©ºèŠ‚ç‚¹ã€‚æ„é€ è¿™ä¸ªé“¾è¡¨çš„ <strong><a href="https://baike.baidu.com/item/%E6%B7%B1%E6%8B%B7%E8%B4%9D/22785317?fr=aladdin">æ·±æ‹·è´</a><strong>ã€‚ æ·±æ‹·è´åº”è¯¥æ­£å¥½ç”± <code>n</code> ä¸ª <strong>å…¨æ–°</strong> èŠ‚ç‚¹ç»„æˆï¼Œå…¶ä¸­æ¯ä¸ªæ–°èŠ‚ç‚¹çš„å€¼éƒ½è®¾ä¸ºå…¶å¯¹åº”çš„åŸèŠ‚ç‚¹çš„å€¼ã€‚æ–°èŠ‚ç‚¹çš„ <code>next</code> æŒ‡é’ˆå’Œ <code>random</code> æŒ‡é’ˆä¹Ÿéƒ½åº”æŒ‡å‘å¤åˆ¶é“¾è¡¨ä¸­çš„æ–°èŠ‚ç‚¹ï¼Œå¹¶ä½¿åŸé“¾è¡¨å’Œå¤åˆ¶é“¾è¡¨ä¸­çš„è¿™äº›æŒ‡é’ˆèƒ½å¤Ÿè¡¨ç¤ºç›¸åŒçš„é“¾è¡¨çŠ¶æ€ã€‚</strong>å¤åˆ¶é“¾è¡¨ä¸­çš„æŒ‡é’ˆéƒ½ä¸åº”æŒ‡å‘åŸé“¾è¡¨ä¸­çš„èŠ‚ç‚¹</strong> ã€‚</li></ul><h4 id="è§£æ³•ä¸€ï¼š-9"><a href="#è§£æ³•ä¸€ï¼š-9" class="headerlink" title="è§£æ³•ä¸€ï¼š"></a>è§£æ³•ä¸€ï¼š</h4><ul><li>æ€è·¯ï¼šç”±äºrandomæŒ‡é’ˆå¯èƒ½æŒ‡å‘åé¢çš„æœªåˆ›å»ºçš„èŠ‚ç‚¹ï¼Œæ‰€ä»¥é‡‡ç”¨<strong>å›æº¯+å“ˆå¸Œè¡¨</strong>ï¼Œç›´æ¥å¾€ä¸‹é€’å½’ï¼ŒæŠŠå¯¹åº”çš„èŠ‚ç‚¹è¿”å›æ¥å³å¯ã€‚æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦éƒ½æ˜¯O(N)ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    Map&lt;Node, Node&gt; cacheNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>    <span class="hljs-keyword">public</span> Node <span class="hljs-title function_">copyRandomList</span><span class="hljs-params">(Node head)</span> &#123;<br>        <span class="hljs-keyword">if</span>(head == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>        <span class="hljs-keyword">if</span>(!cacheNode.containsKey(head))&#123;<br>            <span class="hljs-type">Node</span> <span class="hljs-variable">newNode</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>(head.val);<br>            cacheNode.put(head, newNode);<br>            newNode.next = copyRandomList(head.next);<br>            newNode.random = copyRandomList(head.random);<br>        &#125;<br>        <span class="hljs-keyword">return</span> cacheNode.get(head);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šåŸæ¥<strong>é€’å½’è¿˜å¯ä»¥ç”¨äºå›æº¯</strong>ï¼Œå…¶å®å¥½åƒé€’å½’çš„æœ¬è´¨å°±æœ‰ç‚¹å›æº¯çš„æ„å‘³ï¼Œé‚£ä¹ˆè¿™é“é¢˜åˆšå¥½åº”ç”¨äº†è¿™ä¸€æœ¬è´¨ï¼Œå†ç»“åˆå“ˆå¸Œé¿å…äº†èŠ‚ç‚¹çš„é‡å¤å¤åˆ¶ã€‚</li></ul><h4 id="è§£æ³•äºŒï¼š-5"><a href="#è§£æ³•äºŒï¼š-5" class="headerlink" title="è§£æ³•äºŒï¼š"></a>è§£æ³•äºŒï¼š</h4><ul><li>æ€è·¯ï¼šé‡‡å–<strong>è¿­ä»£</strong>çš„æ–¹æ³•ï¼Œå…ˆæŠŠæ¯ä¸ªèŠ‚ç‚¹æ‹†åˆ†ä¸ºä¸¤ä¸ªä¸€æ ·çš„èŠ‚ç‚¹ï¼Œå‰é¢ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºåŸèŠ‚ç‚¹ï¼Œåé¢ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºå¤åˆ¶èŠ‚ç‚¹ï¼Œéå†æŠŠåé¢èŠ‚ç‚¹çš„randomæŒ‡é’ˆæŒ‡å‘å¯¹åº”çš„å¤åˆ¶èŠ‚ç‚¹ï¼Œæœ€åå†<strong>æ‹†åˆ†é“¾è¡¨</strong>ã€‚æ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆNï¼‰,ç©ºé—´å¤æ‚åº¦ä¸ºOï¼ˆ1ï¼‰ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> Node <span class="hljs-title function_">copyRandomList</span><span class="hljs-params">(Node head)</span> &#123;<br>        <span class="hljs-keyword">if</span>(head == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">Node</span> <span class="hljs-variable">node</span> <span class="hljs-operator">=</span> head; node != <span class="hljs-literal">null</span>; node = node.next.next)&#123;<br>            <span class="hljs-type">Node</span> <span class="hljs-variable">newNode</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>(node.val);<br>            newNode.next = node.next;<br>            node.next = newNode;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">Node</span> <span class="hljs-variable">node</span> <span class="hljs-operator">=</span> head; node != <span class="hljs-literal">null</span>; node = node.next.next)&#123;<br>            <span class="hljs-type">Node</span> <span class="hljs-variable">newNode</span> <span class="hljs-operator">=</span> node.next;<br>            newNode.random = (node.random != <span class="hljs-literal">null</span>) ? node.random.next : <span class="hljs-literal">null</span>;<br>        &#125;<br>        <span class="hljs-type">Node</span> <span class="hljs-variable">newHead</span> <span class="hljs-operator">=</span> head.next;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">Node</span> <span class="hljs-variable">node</span> <span class="hljs-operator">=</span> head; node != <span class="hljs-literal">null</span>; node = node.next)&#123;<br>            <span class="hljs-type">Node</span> <span class="hljs-variable">newNode</span> <span class="hljs-operator">=</span> node.next;<br>            node.next = node.next.next;<br>            newNode.next = (newNode.next != <span class="hljs-literal">null</span>) ? newNode.next.next : <span class="hljs-literal">null</span>;<br>        &#125;<br>        <span class="hljs-keyword">return</span> newHead;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šç”±äºé“¾è¡¨çš„ç‰¹æ€§é‡‡å–å¤åˆ¶èŠ‚ç‚¹çš„æƒ³æ³•ï¼Œé‚£ä¹ˆnextæŒ‡é’ˆçš„å¤åˆ¶å°±å¾ˆè‡ªç„¶ï¼ŒrandomæŒ‡é’ˆçš„å¤åˆ¶ä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œå¾ˆå·§å¦™çš„æ–¹æ³•~</li></ul><h4 id="è§£æ³•ä¸‰ï¼š-1"><a href="#è§£æ³•ä¸‰ï¼š-1" class="headerlink" title="è§£æ³•ä¸‰ï¼š"></a>è§£æ³•ä¸‰ï¼š</h4><ul><li>æ€è·¯ï¼šç›´æ¥å…ˆå¿½ç•¥randomæŒ‡é’ˆå¤åˆ¶å‡ºé“¾è¡¨çš„ç»“æ„ï¼Œç„¶åå†é’ˆå¯¹randomæŒ‡é’ˆè¿›è¡Œå¤åˆ¶å³å¯ã€‚å…¶ä¸­åˆ©ç”¨<strong>map</strong>é”®å€¼å¯¹æ¥ç»´æŠ¤èŠ‚ç‚¹å’Œå®ƒçš„å¤åˆ¶èŠ‚ç‚¹çš„å…³ç³»ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> Node <span class="hljs-title function_">copyRandomList</span><span class="hljs-params">(Node head)</span> &#123;<br>        <span class="hljs-keyword">if</span>(head == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>        <span class="hljs-type">Node</span> <span class="hljs-variable">cur</span> <span class="hljs-operator">=</span> head;<br>        Map&lt;Node, Node&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>        <span class="hljs-keyword">while</span>(cur != <span class="hljs-literal">null</span>)&#123;<br>            map.put(cur, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>(cur.val));<br>            cur = cur.next;<br>        &#125;<br>        cur = head;<br>        <span class="hljs-keyword">while</span>(cur != <span class="hljs-literal">null</span>)&#123;<br>            map.get(cur).next = map.get(cur.next);<br>            map.get(cur).random = map.get(cur.random);<br>            cur = cur.next;<br>        &#125;<br>        <span class="hljs-keyword">return</span> map.get(head);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šè¶…çº§ç®€å•æ˜“æ‡‚ï¼Œå·§å¦™åœ°é‡‡å–äº†Mapæ¥ç»´æŠ¤ï¼Œéå¸¸å·§å¦™ï¼</li></ul><h3 id="11-LRUç¼“å­˜"><a href="#11-LRUç¼“å­˜" class="headerlink" title="11.LRUç¼“å­˜"></a>11.LRUç¼“å­˜</h3><ul><li><p>æè¿°ï¼šè¯·ä½ è®¾è®¡å¹¶å®ç°ä¸€ä¸ªæ»¡è¶³ <a href="https://baike.baidu.com/item/LRU">LRU (æœ€è¿‘æœ€å°‘ä½¿ç”¨) ç¼“å­˜</a> çº¦æŸçš„æ•°æ®ç»“æ„ã€‚</p><p>å®ç° <code>LRUCache</code> ç±»ï¼š</p><ul><li><code>LRUCache(int capacity)</code> ä»¥ <strong>æ­£æ•´æ•°</strong> ä½œä¸ºå®¹é‡ <code>capacity</code> åˆå§‹åŒ– LRU ç¼“å­˜</li><li><code>int get(int key)</code> å¦‚æœå…³é”®å­— <code>key</code> å­˜åœ¨äºç¼“å­˜ä¸­ï¼Œåˆ™è¿”å›å…³é”®å­—çš„å€¼ï¼Œå¦åˆ™è¿”å› <code>-1</code> ã€‚</li><li><code>void put(int key, int value)</code> å¦‚æœå…³é”®å­— <code>key</code> å·²ç»å­˜åœ¨ï¼Œåˆ™å˜æ›´å…¶æ•°æ®å€¼ <code>value</code> ï¼›å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™å‘ç¼“å­˜ä¸­æ’å…¥è¯¥ç»„ <code>key-value</code> ã€‚å¦‚æœæ’å…¥æ“ä½œå¯¼è‡´å…³é”®å­—æ•°é‡è¶…è¿‡ <code>capacity</code> ï¼Œåˆ™åº”è¯¥ <strong>é€å‡º</strong> æœ€ä¹…æœªä½¿ç”¨çš„å…³é”®å­—ã€‚</li></ul><p>å‡½æ•° <code>get</code> å’Œ <code>put</code> å¿…é¡»ä»¥ <code>O(1)</code> çš„å¹³å‡æ—¶é—´å¤æ‚åº¦è¿è¡Œã€‚</p></li></ul><h4 id="è§£æ³•ä¸€ï¼š-10"><a href="#è§£æ³•ä¸€ï¼š-10" class="headerlink" title="è§£æ³•ä¸€ï¼š"></a>è§£æ³•ä¸€ï¼š</h4><ul><li>æ€è·¯ï¼šé‡‡ç”¨mapæ¥å®ç°keyå’Œnodeçš„å¯¹åº”ï¼Œé‡‡ç”¨åŒå‘é“¾è¡¨æ¥ç»´æŠ¤èŠ‚ç‚¹é—´çš„ç»“æ„ï¼Œä¿è¯äº†åˆ é™¤å°¾èŠ‚ç‚¹ååœ¨O(1)æ—¶é—´å†…æ‰¾åˆ°å°¾ç»“ç‚¹çš„å‰ä¸€ä¸ªä½œä¸ºæ–°çš„å°¾ç»“ç‚¹ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">LRUCache</span> &#123;<br>    <span class="hljs-keyword">class</span> <span class="hljs-title class_">DLinkedNode</span>&#123;<br>        <span class="hljs-type">int</span> key;<br>        <span class="hljs-type">int</span> value;<br>        DLinkedNode prev;<br>        DLinkedNode next;<br>        <span class="hljs-keyword">public</span> <span class="hljs-title function_">DLinkedNode</span><span class="hljs-params">()</span>&#123;&#125;<br>        <span class="hljs-keyword">public</span> <span class="hljs-title function_">DLinkedNode</span><span class="hljs-params">(<span class="hljs-type">int</span> _key, <span class="hljs-type">int</span> _value)</span>&#123;<br>            key = _key;<br>            value = _value;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">private</span> Map&lt;Integer, DLinkedNode&gt; cache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> size;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> capacity;<br>    <span class="hljs-keyword">private</span> DLinkedNode head, tail;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">LRUCache</span><span class="hljs-params">(<span class="hljs-type">int</span> capacity)</span> &#123;<br>        <span class="hljs-built_in">this</span>.size = <span class="hljs-number">0</span>;<br>        <span class="hljs-built_in">this</span>.capacity = capacity;<br>        head = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DLinkedNode</span>();<br>        tail = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DLinkedNode</span>();<br>        head.next = tail;<br>        tail.prev = head;<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">get</span><span class="hljs-params">(<span class="hljs-type">int</span> key)</span> &#123;<br>        <span class="hljs-type">DLinkedNode</span> <span class="hljs-variable">node</span> <span class="hljs-operator">=</span> cache.get(key);<br>        <span class="hljs-keyword">if</span>(node == <span class="hljs-literal">null</span>)&#123;<br>            <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;<br>        &#125;<br>        moveToHead(node);<br>        <span class="hljs-keyword">return</span> node.value;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">put</span><span class="hljs-params">(<span class="hljs-type">int</span> key, <span class="hljs-type">int</span> value)</span> &#123;<br>        <span class="hljs-type">DLinkedNode</span> <span class="hljs-variable">node</span> <span class="hljs-operator">=</span> cache.get(key);<br>        <span class="hljs-keyword">if</span>(node == <span class="hljs-literal">null</span>)&#123;<br>            <span class="hljs-type">DLinkedNode</span> <span class="hljs-variable">newNode</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DLinkedNode</span>(key, value);<br>            cache.put(key, newNode);<br>            addToHead(newNode);<br>            size++;<br>            <span class="hljs-keyword">if</span>(size &gt; capacity)&#123;<br>                <span class="hljs-type">DLinkedNode</span> <span class="hljs-variable">tail</span> <span class="hljs-operator">=</span> removeTail();<br>                cache.remove(tail.key);<br>                size--;<br>            &#125;<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            node.value = value;<br>            moveToHead(node);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">moveToHead</span><span class="hljs-params">(DLinkedNode node)</span>&#123;<br>        removeNode(node);<br>        addToHead(node);<br>    &#125;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">removeNode</span><span class="hljs-params">(DLinkedNode node)</span>&#123;<br>        node.prev.next = node.next;<br>        node.next.prev = node.prev;<br>    &#125;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addToHead</span><span class="hljs-params">(DLinkedNode node)</span>&#123;<br>        node.next = head.next;<br>        node.prev = head;<br>        head.next.prev = node;<br>        head.next = node;<br>    &#125;<br>    <span class="hljs-keyword">private</span> DLinkedNode <span class="hljs-title function_">removeTail</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-type">DLinkedNode</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> tail.prev;<br>        removeNode(res);<br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šå¯¹äºé“¾è¡¨æ¥è¯´å¾ˆå¥½çš„ä¸€é“ç»¼åˆé¢˜ï¼Œè€ƒå¯Ÿäº†å„ç§é“¾è¡¨æ“ä½œã€‚ç„¶ååŒå‘é“¾è¡¨ä»¥åŠhead,tailèŠ‚ç‚¹çš„ä½¿ç”¨ä¹Ÿå¾ˆç²¾å¦™ï¼Œå€¼å¾—åå¤å»å†™çš„ä¸€é“é¢˜ã€‚</li></ul><h3 id="12-Kä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨"><a href="#12-Kä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨" class="headerlink" title="12.Kä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨"></a>12.Kä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨</h3><ul><li><p>æè¿°: ç»™ä½ é“¾è¡¨çš„å¤´èŠ‚ç‚¹ <code>head</code> ï¼Œæ¯ <code>k</code> ä¸ªèŠ‚ç‚¹ä¸€ç»„è¿›è¡Œç¿»è½¬ï¼Œè¯·ä½ è¿”å›ä¿®æ”¹åçš„é“¾è¡¨ã€‚</p><p><code>k</code> æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œå®ƒçš„å€¼å°äºæˆ–ç­‰äºé“¾è¡¨çš„é•¿åº¦ã€‚å¦‚æœèŠ‚ç‚¹æ€»æ•°ä¸æ˜¯ <code>k</code> çš„æ•´æ•°å€ï¼Œé‚£ä¹ˆè¯·å°†æœ€åå‰©ä½™çš„èŠ‚ç‚¹ä¿æŒåŸæœ‰é¡ºåºã€‚</p><p>ä½ ä¸èƒ½åªæ˜¯å•çº¯çš„æ”¹å˜èŠ‚ç‚¹å†…éƒ¨çš„å€¼ï¼Œè€Œæ˜¯éœ€è¦å®é™…è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢</p></li></ul><h4 id="è§£æ³•ä¸€"><a href="#è§£æ³•ä¸€" class="headerlink" title="è§£æ³•ä¸€:"></a>è§£æ³•ä¸€:</h4><ul><li>æ€è·¯: å¯¹æ¯kä¸ªèŠ‚ç‚¹è¿›è¡Œç¿»è½¬é“¾è¡¨,ç”±äºæ˜¯ç¿»è½¬éƒ¨åˆ†é“¾è¡¨,é‚£ä¹ˆé“¾è¡¨çš„<strong>ä¸¤ä¾§çš„ç›¸é‚»çš„èŠ‚ç‚¹</strong>éƒ½è¦æ³¨æ„,ä¼šè·Ÿä¹‹å‰çš„ç›´æ¥ç¿»è½¬é“¾è¡¨æœ‰ç‚¹åŒºåˆ«ï¼ŒcurèŠ‚ç‚¹åœ¨åé¢å°±ç›¸å½“äºå·²ç»ç¿»è½¬å¥½çš„èŠ‚ç‚¹çš„é›†åˆï¼Œå…·ä½“æŒ‡å‘çš„æ˜¯æœ€åä¸€ä¸ªèŠ‚ç‚¹ã€‚</li><li>ä»£ç :</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> ListNode <span class="hljs-title function_">reverseKGroup</span><span class="hljs-params">(ListNode head, <span class="hljs-type">int</span> k)</span> &#123;<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">dummy</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ListNode</span>(-<span class="hljs-number">1</span>, head), prev = dummy;<br>        <span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>)&#123;<br>            <span class="hljs-type">ListNode</span> <span class="hljs-variable">last</span> <span class="hljs-operator">=</span> prev;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; k; i++)&#123;<br>                last = last.next;<br>                <span class="hljs-keyword">if</span>(last == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> dummy.next;<br>            &#125;<br>            <span class="hljs-type">ListNode</span> <span class="hljs-variable">cur</span> <span class="hljs-operator">=</span> prev.next, next;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; k - <span class="hljs-number">1</span>; i++)&#123;<br>                next = cur.next;<br>                cur.next = next.next;<br>                next.next = prev.next;<br>                prev.next = next;<br>            &#125;<br>            prev = cur;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“: ç¿»è½¬éƒ¨åˆ†çš„é“¾è¡¨ä¸ç›´æ¥ç¿»è½¬æ•´ä¸ªé“¾è¡¨è¿˜æ˜¯æœ‰ä¸€äº›åŒºåˆ«çš„,ä½†æ˜¯å†™èµ·æ¥èµ·æ‰¿è½¬åˆçš„å¾ˆä¼˜ç¾å“‡~</li></ul>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>é“¾è¡¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é»‘é©¬ç‚¹è¯„-çŸ­ä¿¡ç™»å½•</title>
    <link href="/2024/02/01/%E7%BD%91%E4%B8%8A%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E7%9F%AD%E4%BF%A1%E7%99%BB%E5%BD%95/"/>
    <url>/2024/02/01/%E7%BD%91%E4%B8%8A%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E7%9F%AD%E4%BF%A1%E7%99%BB%E5%BD%95/</url>
    
    <content type="html"><![CDATA[<h2 id="åŸºäºRediså®ç°çŸ­ä¿¡ç™»å½•"><a href="#åŸºäºRediså®ç°çŸ­ä¿¡ç™»å½•" class="headerlink" title="åŸºäºRediså®ç°çŸ­ä¿¡ç™»å½•"></a>åŸºäºRediså®ç°çŸ­ä¿¡ç™»å½•</h2><h3 id="0-å‰è¨€ï¼š"><a href="#0-å‰è¨€ï¼š" class="headerlink" title="0.å‰è¨€ï¼š"></a>0.å‰è¨€ï¼š</h3><h4 id="çŸ­ä¿¡éªŒè¯ç™»å½•è¿‡ç¨‹ä¸­éœ€è¦å…±äº«sessionï¼š"><a href="#çŸ­ä¿¡éªŒè¯ç™»å½•è¿‡ç¨‹ä¸­éœ€è¦å…±äº«sessionï¼š" class="headerlink" title="çŸ­ä¿¡éªŒè¯ç™»å½•è¿‡ç¨‹ä¸­éœ€è¦å…±äº«sessionï¼š"></a>çŸ­ä¿¡éªŒè¯ç™»å½•è¿‡ç¨‹ä¸­éœ€è¦<strong>å…±äº«session</strong>ï¼š</h4><ul><li>1.å‘é€çŸ­ä¿¡éªŒè¯ç ï¼š<strong>ä¿å­˜éªŒè¯ç åˆ°session</strong></li><li>2.çŸ­ä¿¡éªŒè¯ç ç™»å½•æ³¨å†Œï¼šæ ¹æ®æ‰‹æœºå·æŸ¥è¯¢ç”¨æˆ·ï¼Œå¦‚æœæ˜¯æ–°ç”¨æˆ·è¦å…ˆè¿›è¡Œæ³¨å†Œï¼Œå†<strong>ä¿å­˜ç”¨æˆ·åˆ°session</strong></li><li>3.éªŒè¯ç™»å½•çŠ¶æ€ï¼šcookieä¸­æœ‰<strong>sessionID</strong>ï¼Œåˆ¤æ–­ç”¨æˆ·æ˜¯å¦å­˜åœ¨ï¼Œè¿›è¡Œæ‹¦æˆªæˆ–è€…ä¿å­˜åˆ°ThreadLocalï¼Œå†æ”¾è¡Œ</li></ul><h4 id="é—®é¢˜ï¼š"><a href="#é—®é¢˜ï¼š" class="headerlink" title="é—®é¢˜ï¼š"></a>é—®é¢˜ï¼š</h4><ul><li>æ¯ä¸ªtomcatä¸­éƒ½æœ‰ä¸€ä»½å±äºè‡ªå·±çš„sessionï¼Œå¤šå°Tomcatä¸å…±äº«sessionå­˜å‚¨ç©ºé—´ï¼Œåˆ‡æ¢æ—¶æ•°æ®ä¸¢å¤±</li></ul><h4 id="æ›¿ä»£è¦æ±‚ï¼š"><a href="#æ›¿ä»£è¦æ±‚ï¼š" class="headerlink" title="æ›¿ä»£è¦æ±‚ï¼š"></a>æ›¿ä»£è¦æ±‚ï¼š</h4><ul><li>æ•°æ®å…±äº«</li><li>å†…å­˜å­˜å‚¨ï¼Œæ•°æ®å¤„ç†é€Ÿåº¦å¿«</li><li>key,valueç»“æ„</li></ul><p><strong>æ•…é€‰æ‹©Redisè¿›è¡Œè§£å†³</strong></p><h3 id="1-é‡‡ç”¨Redisçš„ä¸šåŠ¡æµç¨‹ï¼š"><a href="#1-é‡‡ç”¨Redisçš„ä¸šåŠ¡æµç¨‹ï¼š" class="headerlink" title="1.é‡‡ç”¨Redisçš„ä¸šåŠ¡æµç¨‹ï¼š"></a>1.é‡‡ç”¨Redisçš„ä¸šåŠ¡æµç¨‹ï¼š</h3><img src="10.png" alt="å‘é€éªŒè¯ç å’Œç™»é™†æ³¨å†Œ" width="800px"><img src="11.png" alt="ç™»é™†æ³¨å†Œå’Œæ ¡éªŒç™»é™†çŠ¶æ€" width="800px"><h4 id="ç»†èŠ‚ï¼š"><a href="#ç»†èŠ‚ï¼š" class="headerlink" title="ç»†èŠ‚ï¼š"></a>ç»†èŠ‚ï¼š</h4><h5 id="1-keyå’Œæ•°æ®ç»“æ„çš„é€‰æ‹©ï¼š"><a href="#1-keyå’Œæ•°æ®ç»“æ„çš„é€‰æ‹©ï¼š" class="headerlink" title="1.keyå’Œæ•°æ®ç»“æ„çš„é€‰æ‹©ï¼š"></a>1.keyå’Œæ•°æ®ç»“æ„çš„é€‰æ‹©ï¼š</h5><ul><li>ä¿å­˜éªŒè¯ç ï¼šç”¨æ‰‹æœºå·ä½œä¸ºkey<ul><li>æ‰‹æœºå·æ˜¯å”¯ä¸€çš„ï¼Œå¹¶ä¸”æ°å¥½ä¸éªŒè¯ç ç»‘å®š</li><li>é‡‡ç”¨Stringç±»å‹å­˜å‚¨code</li></ul></li><li>ä¿å­˜ç”¨æˆ·å¯¹è±¡ï¼šç”¨éšæœºç”Ÿæˆçš„tokenä½œä¸ºkey<ul><li>tokenéœ€è¦ä¼ é€’ç»™å‰ç«¯ï¼Œå¹¶åœ¨æ¯æ¬¡è¯·æ±‚ä¸­è¢«æºå¸¦ï¼Œç”¨æ‰‹æœºå·ä¼šæœ‰æ³„éœ²é£é™©</li><li>é‡‡ç”¨Hashç»“æ„å­˜å‚¨ç”¨æˆ·å¯¹è±¡ï¼Œç›¸æ¯”Stringé‡‡å–Jsonæ ¼å¼ï¼ŒHashç»“æ„æ¯ä¸ªå­—æ®µç›¸äº’ç‹¬ç«‹ï¼Œå¯ä»¥å•ç‹¬CRUD,å¹¶ä¸”å†…å­˜å ç”¨æ›´å°‘</li></ul></li></ul><h5 id="2-é€‰æ‹©åˆé€‚çš„æœ‰æ•ˆæœŸï¼š"><a href="#2-é€‰æ‹©åˆé€‚çš„æœ‰æ•ˆæœŸï¼š" class="headerlink" title="2.é€‰æ‹©åˆé€‚çš„æœ‰æ•ˆæœŸï¼š"></a>2.é€‰æ‹©åˆé€‚çš„æœ‰æ•ˆæœŸï¼š</h5><ul><li>tokenè¦è®¾ç½®ä¸€å®šçš„æœ‰æ•ˆæœŸï¼Œç”¨æˆ·é•¿æœŸä¸æ“ä½œï¼Œå°±å¤±å»ç™»å½•çŠ¶æ€</li></ul><h5 id="3-é€‰æ‹©åˆé€‚çš„å­˜å‚¨ç²’åº¦DTO"><a href="#3-é€‰æ‹©åˆé€‚çš„å­˜å‚¨ç²’åº¦DTO" class="headerlink" title="3.é€‰æ‹©åˆé€‚çš„å­˜å‚¨ç²’åº¦DTO"></a>3.é€‰æ‹©åˆé€‚çš„å­˜å‚¨ç²’åº¦DTO</h5><ul><li>ç”¨æˆ·å¯¹è±¡æœ¬èº«çš„ä¿¡æ¯æ˜¯å¾ˆä¸°å¯Œçš„ï¼Œè¿˜åŒ…æ‹¬æ‰‹æœºå·ï¼Œå¯†ç ç­‰éšç§ä¿¡æ¯ï¼Œåœ¨ç™»é™†é˜¶æ®µä¸éœ€è¦ä¿å­˜å’Œä¼ é€’è¿™ä¹ˆå¤šä¿¡æ¯ï¼Œå¯ä»¥æ–°å»ºä¸€ä¸ªUserDTOç±»æ¥ä»£æ›¿</li></ul><h3 id="2-æŠ€æœ¯è¦ç‚¹ï¼š"><a href="#2-æŠ€æœ¯è¦ç‚¹ï¼š" class="headerlink" title="2.æŠ€æœ¯è¦ç‚¹ï¼š"></a>2.æŠ€æœ¯è¦ç‚¹ï¼š</h3><h4 id="ThreadLocal"><a href="#ThreadLocal" class="headerlink" title="ThreadLocal:"></a>ThreadLocal:</h4><ul><li>åœ¨threadLocalä¸­ï¼Œä»–çš„putæ–¹æ³•å’Œä»–çš„getæ–¹æ³•ï¼Œ éƒ½æ˜¯å…ˆä»è·å¾—å½“å‰ç”¨æˆ·çš„çº¿ç¨‹ï¼Œç„¶åä»çº¿ç¨‹ä¸­å–å‡ºçº¿ç¨‹çš„æˆå‘˜å˜é‡mapï¼Œåªè¦çº¿ç¨‹ä¸ä¸€æ ·ï¼Œmapå°±ä¸ä¸€æ ·ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼æ¥åšåˆ°<strong>çº¿ç¨‹éš”ç¦»</strong></li><li>æ‰€ä»¥å¯ä»¥å®ç°æ¯ä¸ªç”¨æˆ·çš„ä¿å­˜å’Œç›¸å…³ä¿¡æ¯çš„è¯»å–</li></ul><h4 id="Userè½¬Hashå­˜å‚¨ï¼š"><a href="#Userè½¬Hashå­˜å‚¨ï¼š" class="headerlink" title="Userè½¬Hashå­˜å‚¨ï¼š"></a>Userè½¬Hashå­˜å‚¨ï¼š</h4><ul><li>userDTOè½¬Mapå†å­˜å‚¨åˆ°Redisè¿‡ç¨‹ä¸­ï¼Œç”±äºä½¿ç”¨çš„æ˜¯StringRedisTemplateè¦æ±‚æ‰€æœ‰çš„å­—æ®µéƒ½æ˜¯Stringç±»å‹ï¼Œä½†æ˜¯idæ˜¯Longç±»å‹çš„ï¼Œæ‰€ä»¥éœ€è¦å†è¿›è¡Œä¸€æ­¥æ‰‹åŠ¨è½¬åŒ–</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java">Map&lt;String, Object&gt; userMap = BeanUtil.beanToMap(userDTO, <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;(),<br>            CopyOptions.create()<br>                    .setIgnoreNullValue(<span class="hljs-literal">true</span>)<br>                    .setFieldValueEditor((fieldName, fieldValue) -&gt; fieldValue.toString()));<br></code></pre></td></tr></table></figure><h4 id="åˆ·æ–°tokenæœ‰æ•ˆæœŸä¼˜åŒ–ï¼š"><a href="#åˆ·æ–°tokenæœ‰æ•ˆæœŸä¼˜åŒ–ï¼š" class="headerlink" title="åˆ·æ–°tokenæœ‰æ•ˆæœŸä¼˜åŒ–ï¼š"></a>åˆ·æ–°tokenæœ‰æ•ˆæœŸä¼˜åŒ–ï¼š</h4><p>åœ¨åªæœ‰ä¸€ä¸ªæ‹¦æˆªå™¨çš„æƒ…å†µä¸‹ï¼Œæ‹¦æˆªå™¨é‡Œçš„è¿‡ç¨‹ï¼š</p><ul><li>è·å–tokenä¿¡æ¯</li><li>æŸ¥è¯¢Redisçš„ç”¨æˆ·ï¼Œä¸å­˜åœ¨å°±æ‹¦æˆªï¼Œå­˜åœ¨å°±ç»§ç»­</li><li>ä¿å­˜åˆ°ThreadLocalä¸­</li><li>åˆ·æ–°tokenæœ‰æ•ˆæœŸ</li><li>æ”¾è¡Œ</li></ul><p>é‚£ä¹ˆå¦‚æœç”¨æˆ·è¿›è¡Œäº†ä¸éœ€è¦ç™»å½•éªŒè¯çš„æ“ä½œï¼Œæ¯”å¦‚æŸ¥çœ‹é¦–é¡µï¼Œé‚£ä¹ˆæ‹¦æˆªå™¨ä¸ä¼šæ‹¦æˆªï¼Œtokenå°±å¾—ä¸åˆ°åˆ·æ–°ï¼Œæ˜¯æœ‰é—®é¢˜çš„ã€‚</p><p><strong>è§£å†³ï¼šå¢åŠ ä¸€ä¸ªæ‹¦æˆªä¸€åˆ‡è·¯å¾„çš„æ‹¦æˆªå™¨</strong></p><p>ç¬¬ä¸€ä¸ªæ‹¦æˆªå™¨ï¼šï¼ˆæ‰€æœ‰è·¯å¾„ï¼‰</p><ul><li>è·å–tokenä¿¡æ¯</li><li>æŸ¥è¯¢Redisçš„ç”¨æˆ·</li><li>ä¿å­˜åˆ°ThreadLocalä¸­</li><li>åˆ·æ–°tokenæœ‰æ•ˆæœŸ</li><li>æ”¾è¡Œ</li></ul><p>ç¬¬äºŒä¸ªæ‹¦æˆªå™¨ï¼šï¼ˆéœ€è¦ç™»é™†çš„è·¯å¾„ï¼‰</p><ul><li>ä¸å­˜åœ¨å°±æ‹¦æˆªï¼Œå­˜åœ¨å°±ç»§ç»­</li></ul><p>å®Œç¾å®ç°tokençš„åŠæ—¶åˆ·æ–°</p>]]></content>
    
    
    <categories>
      
      <category>é»‘é©¬ç‚¹è¯„</category>
      
    </categories>
    
    
    <tags>
      
      <tag>çŸ­ä¿¡ç™»é™†</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Redisè¯¾ç¨‹æ€ç»´å¯¼å›¾æ€»ç»“</title>
    <link href="/2024/02/01/%E7%BD%91%E4%B8%8A%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Redis%E8%AF%BE%E7%A8%8B/"/>
    <url>/2024/02/01/%E7%BD%91%E4%B8%8A%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Redis%E8%AF%BE%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<h3 id="RedisåŸºç¡€ç¯‡"><a href="#RedisåŸºç¡€ç¯‡" class="headerlink" title="RedisåŸºç¡€ç¯‡"></a>RedisåŸºç¡€ç¯‡</h3><img src="01.png" alt="åŸºç¡€ç¯‡çŸ¥è¯†æ€»ç»“" width="1500px">]]></content>
    
    
    <categories>
      
      <category>é»‘é©¬ç‚¹è¯„</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Redis</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Winter Vacation</title>
    <link href="/2024/01/31/%E7%94%9F%E6%B4%BB%E4%B8%8E%E6%8A%80%E6%9C%AF/Vacation/"/>
    <url>/2024/01/31/%E7%94%9F%E6%B4%BB%E4%B8%8E%E6%8A%80%E6%9C%AF/Vacation/</url>
    
    <content type="html"><![CDATA[<h2 id="My-Winter-Vacation"><a href="#My-Winter-Vacation" class="headerlink" title="My Winter Vacation"></a>My Winter Vacation</h2><h3 id="0-å‰è¨€ï¼š"><a href="#0-å‰è¨€ï¼š" class="headerlink" title="0.å‰è¨€ï¼š"></a>0.å‰è¨€ï¼š</h3><p>â€‹å›æƒ³ä¹‹å‰çš„å¯’æš‘å‡ï¼Œå¤§éƒ½ä¸€å¼€å§‹å…´è‡´æ»¡æ»¡ï¼Œæœ€ç»ˆä»¥è™šåº¦æ—¶å…‰ï¼Œæ”¶è·æ»¡æ»¡çš„æ²§æ¡‘ä¸ºç»“å°¾ã€‚è¿™æ¬¡ä»¥æ–°çš„æ–¹å¼å¼€å§‹ï¼Œä»¥ç›®çš„åˆ¶å®šç›®æ ‡ï¼Œä¸ºè‡ªå·±åšä¸»ï¼Œå¤§æ¦‚ä¼šä¸ä¸€æ ·å§~è™½ç„¶å¯’å‡å·²ç„¶è¿‡å»äº†1&#x2F;3,anyway,thatâ€™s not a big deal!</p><hr><h3 id="1-å°å°çš„å›é¡¾ï¼š"><a href="#1-å°å°çš„å›é¡¾ï¼š" class="headerlink" title="1.å°å°çš„å›é¡¾ï¼š"></a>1.å°å°çš„å›é¡¾ï¼š</h3><p>â€‹è¿‡å»çš„ä¸¤å‘¨ä¸»è¦æŠŠç²¾åŠ›æ”¾åœ¨<strong>ç®—æ³•é¢˜</strong>å’Œ<strong>Redisé»‘é©¬ç‚¹è¯„å­¦ä¹ </strong>ä¸Šï¼Œä»¥åŠä¸€äº›åšå®¢çš„æ›´æ–°ï¼Œæ€»çš„æ¥è¯´ï¼Œå¾ˆä¸é”™ï¼ŒåŸºæœ¬ç®—æ˜¯è¦äº‹ç¬¬ä¸€äº†ï¼Œå¹¶ä¸”ä¹Ÿäº«å—è¿™ä¸ªè¿‡ç¨‹ã€‚</p><p>â€‹ä½†æ˜¯ä»ä»¥ç»ˆä¸ºå§‹çš„è§’åº¦æ¥è¯´ï¼Œä¸¤ä¸ªçš„ç›®çš„æ€§ä¸å¤Ÿæ˜ç¡®ï¼Œæœ€ç»ˆè¦è¾¾åˆ°ä»€ä¹ˆæ•ˆæœæ›´æ˜¯æ²¡æœ‰æƒ³è¿‡ï¼Œé—´æ¥å¯¼è‡´äº†ä¸­é—´3å¤©çš„æ–­æ›´ã€‚è¿™ä¸€ç»éªŒè¯æ˜äº†ä»¥ç»ˆä¸ºå§‹çš„æ˜æ™ºã€‚</p><h3 id="2-ä¸€äº›ç½—åˆ—ï¼š"><a href="#2-ä¸€äº›ç½—åˆ—ï¼š" class="headerlink" title="2.ä¸€äº›ç½—åˆ—ï¼š"></a>2.ä¸€äº›ç½—åˆ—ï¼š</h3><ul><li>ç®—æ³•é¢˜è®­ç»ƒ</li><li>é»‘é©¬ç‚¹è¯„é¡¹ç›®</li><li>è®¡ç½‘è¯¾ç¨‹</li><li>æ–°æŠ€æœ¯äº†è§£è¾“å‡ºï¼Œä¸»è¦æ˜¯RedTech</li><li>æ¯å¤©æ›´æ–°åšå®¢</li><li>çœ‹ä¹¦ï¼šã€Šå®è´µçš„äººç”Ÿå»ºè®®ã€‹ï¼Œã€Šç§˜å¯†ã€‹ï¼Œã€ŠåŸå­ä¹ æƒ¯ã€‹</li><li>è‹±è¯­æ¯æ—¥å­¦ä¹ ä¸€ä¸¢ä¸¢</li><li>å†¥æƒ³</li><li>äº†è§£ä¸€ä¸‹äº§å“ç»ç†</li><li>è°ƒæŸ¥ä¸€äº›æ„Ÿå…´è¶£çš„å¤–ä¼å¤§å‚çš„jd</li></ul><h3 id="3-ç›®æ ‡é€‰å–ï¼š"><a href="#3-ç›®æ ‡é€‰å–ï¼š" class="headerlink" title="3.ç›®æ ‡é€‰å–ï¼š"></a>3.ç›®æ ‡é€‰å–ï¼š</h3><h4 id="ç®—æ³•é¢˜è®­ç»ƒï¼š"><a href="#ç®—æ³•é¢˜è®­ç»ƒï¼š" class="headerlink" title="ç®—æ³•é¢˜è®­ç»ƒï¼š"></a>ç®—æ³•é¢˜è®­ç»ƒï¼š</h4><p><strong>WHY:</strong></p><ul><li>æ€»çš„æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä»¶å¾ˆå…·æœ‰æœªæ¥æ€§çš„äº‹æƒ…</li><li>å†™ç®—æ³•é¢˜å¾ˆå¼€å¿ƒï¼Œå°¤å…¶æ˜¯ä½“æ‚Ÿåˆ°å…¶ä¸­çš„ç²¾å¦™ï¼ŒI quite enjoy it!</li><li>å¾ˆå¤šå¤§å‚æ³¨é‡ç®—æ³•çš„è€ƒå¯Ÿï¼Œç›¸å½“äºæ˜¯ä¸€å¼ å…¥åœºåˆ¸</li><li>4æœˆå‚åŠ è“æ¡¥æ¯æ¯”èµ›ï¼Œä¼°è®¡æ˜¯æœ€åä¸€æ¬¡äº†ï¼Œè™½ç„¶ç›®å‰æ˜¯Java,ä½†åº•å±‚æ˜¯ç›¸é€šçš„</li></ul><p><strong>WHAT:</strong></p><ul><li>å…·ä½“ï¼šæ¯å¤©å¯ä»¥å†™<strong>ä¸¤é“</strong>ä»¥ä¸Šå¹¶æœ‰<strong>é¢˜è§£</strong>è¾“å‡ºï¼Œåšä¸“é¢˜è®­ç»ƒ<ul><li><input checked="" disabled="" type="checkbox"> äºŒå‰æ ‘ï¼ˆäºŒå‰æ ‘çš„ä¸­åºéå†âœ”ï¼ŒäºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦âœ”ï¼ŒäºŒå‰æ ‘çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–âœ”ï¼‰</li><li><input disabled="" type="checkbox"> é“¾è¡¨</li><li><input disabled="" type="checkbox"> å›¾è®º</li></ul></li><li>å¯è¡¡é‡ï¼šä¾ç…§åšå®¢è®°å½•å¯ä»¥å›æº¯</li><li>å¯æ¥å—ï¼šä¸¤é“ä¸ç®—å¤šï¼ŒåŸºæœ¬ä¸Šä¸€ä¸ªå°æ—¶å¯ä»¥å®Œæˆï¼Œå°±å½“ä½œæ˜¯å†™æ™ºåŠ›é¢˜ï¼Œæ—¶é—´ä¼šè¿‡å¾—å¾ˆå¿«ï¼Œä¹‹å‰çš„åšæŒäº†ä¸€æ®µæ—¶é—´ï¼Œæ˜¯å¯ä»¥æ¥å—çš„</li><li>ç»“æœå¯¼å‘ï¼šé¢˜è§£çš„è¾“å‡ºå°±æ˜¯ç»“æœï¼Œå¸Œæœ›å¯ä»¥å®Œæˆ4-5ä¸ªä¸“é¢˜</li><li>æ—¶é™ï¼šåˆ°å¯’å‡ç»“æŸ</li></ul><p><strong>HOW:</strong></p><ul><li>å¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼Ÿ<ul><li>ç™½å¤©äº‹æƒ…å¤ªå¤šï¼Œæ™šä¸Šåˆæ²¡æœ‰è¶³å¤Ÿçš„æ—¶é—´å»å†™ç®—æ³•é¢˜äº†</li></ul></li><li>å¦‚ä½•è§£å†³ï¼Ÿ<ul><li>å†™ä¹‹å‰åšè¿‡çš„é¢˜ç›®ï¼Œéœ€è¦çš„æ—¶é—´å°±ä¼šå¤§å¤§å‡å°‘ï¼Œå¹¶ä¸”ä¹Ÿç®—æ˜¯å¾—åˆ°ä¸€å®šçš„é”»ç‚¼</li><li>å°½é‡åœ¨ç™½å¤©å°±å®Œæˆæ‰ï¼Œå¤šå¤šåˆ©ç”¨ä¸€äº›é—²æš‡æ—¶é—´</li></ul></li></ul><p>â€‹</p><h4 id="é»‘é©¬ç‚¹è¯„é¡¹ç›®ï¼š"><a href="#é»‘é©¬ç‚¹è¯„é¡¹ç›®ï¼š" class="headerlink" title="é»‘é©¬ç‚¹è¯„é¡¹ç›®ï¼š"></a>é»‘é©¬ç‚¹è¯„é¡¹ç›®ï¼š</h4><p><strong>WHY:</strong></p><ul><li>å¾ˆæ¥è¿‘ä¼ä¸šçº§åº”ç”¨çš„ä¸€ä¸ªé¡¹ç›®ï¼Œæ•™ç¨‹ä¹Ÿå¾ˆä¸é”™</li><li>æ›´æ·±ä¸€æ­¥æ¥è§¦åç«¯å¼€å‘é¢†åŸŸ</li><li>å€¼å¾—æ·±å…¥ç ”ç©¶ï¼Œå†™åœ¨ç®€å†ä¸Š</li></ul><p><strong>WHAT:</strong></p><ul><li>å…·ä½“ï¼šå®Œæˆå®æˆ˜ç¯‡çš„å†…å®¹ï¼Œå¹¶ä½œæ–‡ç« è¾“å‡º</li><li>å¯è¡¡é‡ï¼šä¾ç…§åšå®¢è®°å½•è¿›è¡Œå›æº¯ï¼Œä¸€å…±æœ‰7ä¸ªtopic</li><li>å¯æ¥å—ï¼šæŒ‰ç…§ä¸¤å¤©ä¸€ä¸ªtopicï¼Œå…¶å®æ˜¯okçš„</li><li>ç»“æœå¯¼å‘ï¼šåšå‡ºè¿™ä¸ªé¡¹ç›®</li><li>æ—¶é™ï¼šåˆ°å¯’å‡ç»“æŸ</li></ul><p><strong>HOW:</strong></p><ul><li>å¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼Ÿ<ul><li>2å¤©æ¥ä¸åŠå®Œæˆä¸€ä¸ªä¸“é¢˜ï¼Œè¿›è€Œäº§ç”Ÿæ”¾å¼ƒå¿ƒç†</li></ul></li><li>å¦‚ä½•è§£å†³ï¼Ÿ<ul><li>å®Œæˆæ¯”å®Œç¾æ›´é‡è¦ï¼Œåªè¦æ¯å¤©èŠ±æ—¶é—´å»å­¦ä¹ å°±å¥½å•¦ï¼Œä¸è¦è¢«æ‰€è°“çš„é‡åŒ–ç‰µç€é¼»å­èµ°</li></ul></li><li>é‡åˆ°çš„é—®é¢˜ï¼šåœäº†å‡ å¤©åå°±ä¸å»å¼€å¯äº†</li></ul><h3 id="4-æ€»ç»“"><a href="#4-æ€»ç»“" class="headerlink" title="4.æ€»ç»“:"></a>4.æ€»ç»“:</h3><ul><li>ä¸»è¦è¿˜æ˜¯å›´ç»•<strong>ç®—æ³•é¢˜</strong>å’Œ<strong>é»‘é©¬ç‚¹è¯„</strong>è¿›è¡Œï¼Œå…¶ä½™çš„ä¸åšå¼ºåˆ¶è¦æ±‚ï¼Œåªæ˜¯ä¸€äº›é€‰æ‹©ã€‚æˆ–è€…ä»é•¿è¿œæ¥è¯´ï¼Œè¿™äº›å…¶ä½™çš„é€‰é¡¹æ›´åŠ é‡è¦ï¼ŒåŒæ ·å€¼å¾—å»åš</li><li>è¿™ä»½è§„åˆ’å¹¶ä¸æ˜¯å›ºå®šçš„ï¼Œå¯ä»¥éš”ä¸€æ®µæ—¶é—´æ—¶é—´å°±æ›´æ–°ä¸€ä¸‹çŠ¶å†µ</li></ul>]]></content>
    
    
    <categories>
      
      <category>äººæ–‡</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è‡ªæˆ‘æˆé•¿</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å·¥ç¨‹å¸ˆçš„è‡ªæˆ‘è¿­ä»£-RedTech</title>
    <link href="/2024/01/23/%E7%94%9F%E6%B4%BB%E4%B8%8E%E6%8A%80%E6%9C%AF/RedTech/"/>
    <url>/2024/01/23/%E7%94%9F%E6%B4%BB%E4%B8%8E%E6%8A%80%E6%9C%AF/RedTech/</url>
    
    <content type="html"><![CDATA[<h3 id="å‰è¨€ï¼š"><a href="#å‰è¨€ï¼š" class="headerlink" title="å‰è¨€ï¼š"></a>å‰è¨€ï¼š</h3><p>è¿™ç¯‡æ–‡ç« æ˜¯çœ‹äº†å°çº¢ä¹¦æœ‰å…³â€œå·¥ç¨‹å¸ˆè‡ªæˆ‘è¿­ä»£â€çš„æŠ€æœ¯åˆ†äº«çš„ä¸€ä¸ªæ€»ç»“å¤ç›˜ï¼ŒItâ€™s quite mind-openingã€‚æ‰€ä»¥æ‹–äº†å¥½å‡ å¤©è¿˜æ˜¯æƒ³å°å°æ€»ç»“åæ€ä¸€ä¸‹ï¼Œæ–¹ä¾¿ä»¥åå›çœ‹ã€‚</p><hr><h3 id="0-ä¸¤ç§æˆåŠŸï¼šåˆä½œæˆåŠŸå’Œèµ‹èƒ½æˆåŠŸ"><a href="#0-ä¸¤ç§æˆåŠŸï¼šåˆä½œæˆåŠŸå’Œèµ‹èƒ½æˆåŠŸ" class="headerlink" title="0.ä¸¤ç§æˆåŠŸï¼šåˆä½œæˆåŠŸå’Œèµ‹èƒ½æˆåŠŸ"></a>0.ä¸¤ç§æˆåŠŸï¼šåˆä½œæˆåŠŸå’Œèµ‹èƒ½æˆåŠŸ</h3><ul><li>è¯´æ˜ï¼š<ul><li>åœ¨èŒåœºä¸Šçš„å·¥ç¨‹å¸ˆå¤§æ¦‚å¯ä»¥åˆ†ä¸ºä¸¤é˜¶æ®µï¼Œä¸€ä¸ªæ˜¯<strong>æŠ€æœ¯ç±»å·¥ç¨‹å¸ˆ</strong>ï¼Œä¸€ä¸ªæ˜¯<strong>ç®¡ç†å±‚å·¥ç¨‹å¸ˆ</strong>ã€‚è¿™ä¸¤ä¸ªåˆ†åˆ«å¯¹åº”ç€ä¸¤ç§ä¸åŒçš„æˆåŠŸï¼Œå³<strong>åˆä½œæˆåŠŸ</strong>ä¸<strong>èµ‹èƒ½æˆåŠŸ</strong>ã€‚</li></ul></li></ul><h3 id="1-åˆä½œæˆåŠŸï¼šå°Tå­—å‹äººæ‰"><a href="#1-åˆä½œæˆåŠŸï¼šå°Tå­—å‹äººæ‰" class="headerlink" title="1.åˆä½œæˆåŠŸï¼šå°Tå­—å‹äººæ‰"></a>1.åˆä½œæˆåŠŸï¼šå°Tå­—å‹äººæ‰</h3><ul><li>Tçš„æ„æ€æ˜¯åˆ†åˆ«å¯¹åº”â€ä¸€â€œçš„æ·±å’Œâ€|â€œçš„å¹¿ï¼Œæ·±å¹¿é¡»å…¼é¡¾</li></ul><h4 id="1-1æ·±åº¦ï¼ˆè‡ªå·±çš„æŠ€æœ¯æ ˆï¼‰ï¼š"><a href="#1-1æ·±åº¦ï¼ˆè‡ªå·±çš„æŠ€æœ¯æ ˆï¼‰ï¼š" class="headerlink" title="1.1æ·±åº¦ï¼ˆè‡ªå·±çš„æŠ€æœ¯æ ˆï¼‰ï¼š"></a>1.1æ·±åº¦ï¼ˆè‡ªå·±çš„æŠ€æœ¯æ ˆï¼‰ï¼š</h4><p>è¯´æ˜ï¼šå³å¯¹äºè‡ªå·±çš„æ–¹å‘è¦è¶³å¤Ÿæ·±å…¥ï¼Œæ–¹æ–¹é¢é¢éƒ½äº†è§£</p><ul><li><strong>ç³»ç»Ÿæ€§</strong>â€”â€”&gt;<em><u>æˆ‘è¯¥å¦‚ä½•æ­å»ºæˆ‘çš„çŸ¥è¯†ç³»ç»Ÿå‘¢ï¼Ÿ</u></em></li><li><strong>æ·±åˆ»ç†è§£</strong>â€”â€”&gt;<strong>æœ‰é¡¹ç›®ç»å†ï¼Œæœ‰æˆæœ</strong></li></ul><p><em><u>ç³»ç»Ÿæ€§çš„æ­å»ºä¸€æ–¹é¢å¯ä»¥åŸºäºå­¦æ ¡çš„ä¸“ä¸šè¯¾ç¨‹ï¼Œä¸€æ–¹é¢ä¹Ÿè¦è‡ªå·±å»æ¢ç´¢</u></em></p><h4 id="1-2å¹¿åº¦ï¼ˆç›¸å…³çš„æŠ€æœ¯å’Œä¸šåŠ¡ï¼‰ï¼š"><a href="#1-2å¹¿åº¦ï¼ˆç›¸å…³çš„æŠ€æœ¯å’Œä¸šåŠ¡ï¼‰ï¼š" class="headerlink" title="1.2å¹¿åº¦ï¼ˆç›¸å…³çš„æŠ€æœ¯å’Œä¸šåŠ¡ï¼‰ï¼š"></a>1.2å¹¿åº¦ï¼ˆç›¸å…³çš„æŠ€æœ¯å’Œä¸šåŠ¡ï¼‰ï¼š</h4><p>è¯´æ˜ï¼šä¸èƒ½åªä¸“äºè‡ªå·±çš„æ–¹å‘ï¼Œå¯¹äºç›¸å…³çš„é¢†åŸŸä¹Ÿè¦æœ‰æ‰€äº†è§£ã€‚æ¯”å¦‚æ¼”è®²äººæ˜¯éŸ³è§†é¢‘æ–¹å‘çš„ä¸“å®¶ï¼Œé‚£ä¹ˆä»–å¯¹äºäº‘åŸç”Ÿï¼Œæ•°æ®åº“ï¼Œç”µå•†è¡Œä¸šï¼Œç›´æ’­äº’åŠ¨ä¹Ÿè¦æœ‰æ‰€æ¶‰è¶³ã€‚</p><ul><li><strong>å…³é”®æ¦‚å¿µ</strong></li><li><strong>è¯­è¨€ä½“ç³»</strong></li><li><strong>äº¤äº’ç•Œé¢</strong></li></ul><p><em><u>ä»¥ä¸Šä¸‰ç‚¹æ€»ç»“æ¥è¯´å°±æ˜¯<strong>çŸ¥å½¼è§£å·±</strong>ï¼Œå³çŸ¥é“ç›¸å…³é¢†åŸŸçš„äººæ‰€è¯´çš„å…³é”®æ¦‚å¿µï¼Œä¹Ÿèƒ½è®©å¯¹æ–¹çŸ¥é“è‡ªå·±åœ¨è¡¨è¾¾ä»€ä¹ˆï¼Œå½¢æˆä¸€ä¸ªè‰¯å¥½çš„äº¤äº’ç•Œé¢ã€‚</u></em></p><h3 id="2-èµ‹èƒ½æˆåŠŸï¼šå¤§Tå­—å‹äººæ‰"><a href="#2-èµ‹èƒ½æˆåŠŸï¼šå¤§Tå­—å‹äººæ‰" class="headerlink" title="2.èµ‹èƒ½æˆåŠŸï¼šå¤§Tå­—å‹äººæ‰"></a>2.èµ‹èƒ½æˆåŠŸï¼šå¤§Tå­—å‹äººæ‰</h3><ul><li>èµ‹èƒ½æˆåŠŸï¼Œæ›´å¤šæ˜¯æŒ‡ä¸ºä»–äººèµ‹èƒ½ï¼Œä¸ºå›¢é˜Ÿèµ‹èƒ½</li></ul><h4 id="1-1æ·±åº¦ï¼š"><a href="#1-1æ·±åº¦ï¼š" class="headerlink" title="1.1æ·±åº¦ï¼š"></a>1.1æ·±åº¦ï¼š</h4><ul><li>æŠ€æœ¯çš„ä¸€ä¸ªæ³›åŒ–ï¼Œç›¸å½“äºå°Tå­—å‹äººæ‰çš„ä¸€ä¸ªæ€»å’Œã€‚æ­¤æ—¶ä¼šéœ€è¦æ¥è§¦å…¶ä»–å›¢é˜Ÿï¼Œæ¯”å¦‚è¯´äº§å“ã€è¿è¥ï¼Œå¯¹äºä»–ä»¬æ¥è¯´ï¼ŒæŠ€æœ¯æ˜¯ä¸€ä¸ªé»‘ç›’å­çš„æ¦‚å¿µã€‚</li></ul><h4 id="1-2å¹¿åº¦ï¼š"><a href="#1-2å¹¿åº¦ï¼š" class="headerlink" title="1.2å¹¿åº¦ï¼š"></a>1.2å¹¿åº¦ï¼š</h4><ul><li><p>æœ¯ï¼šè¡¨è¾¾ã€å†™ä½œã€é€»è¾‘ &#x3D;&#x3D;&#x3D;&gt;è¯´å’Œå†™æ€»å½’è¦æ“…é•¿ä¸€ä¸ª</p></li><li><p>é“ï¼šç†æ€§ã€<strong>é€»è¾‘</strong>ã€ä¿®å…»ã€<strong>ä¼å›¾å¿ƒ</strong>ã€è‡ªæˆ‘æ§åˆ¶åŠ›</p><ul><li>æ€ä¹ˆä¿®ï¼Ÿ<ul><li><strong>ä¸»åŠ¨ç§¯æ</strong>ï¼ˆé—®é¢˜é©±åŠ¨ï¼Œå…³æ³¨ç»“æœï¼‰ï¼Œè¾¾åˆ°<strong>ä»¥ç»ˆä¸ºå§‹</strong></li></ul></li></ul></li><li><p>ä¿¡å¿µï¼šè‡ªæˆ‘æ”¹å˜å³è¿­ä»£â€”â€”&gt;<strong>ä¸æ–­æ›´æ–°</strong></p><ul><li><p>å¿ƒæ€å¹´è½»ï¼šæ‹¥æŠ±æ–°äº‹ç‰©</p></li><li><p>å¿ƒæ™ºæˆç†Ÿï¼šä¸åšå·¨å©´</p></li><li><p>å·¨å©´ï¼š</p><ul><li>è‡ªæˆ‘â€”â€”&gt;çŸ¥å½¼è§£å·±ï¼ŒåŒèµ¢æ€ç»´ï¼Œç»Ÿåˆç»¼æ•ˆ</li><li>åªçœ‹çœ¼å‰â€”â€”&gt;è¦äº‹ç¬¬ä¸€ï¼Œä»¥ç»ˆä¸ºå§‹</li><li>ä¾èµ–æ€§å¼ºâ€”â€”&gt;ä¸»åŠ¨ç§¯æ</li><li>ä¸å†æˆé•¿â€”â€”&gt;ä¸æ–­æ›´æ–°</li></ul></li></ul></li></ul><h3 id="3-ç®¡ç†è€…çš„â€œä¸‰ä¼šä¸€æ‡‚â€"><a href="#3-ç®¡ç†è€…çš„â€œä¸‰ä¼šä¸€æ‡‚â€" class="headerlink" title="3.ç®¡ç†è€…çš„â€œä¸‰ä¼šä¸€æ‡‚â€"></a>3.ç®¡ç†è€…çš„â€œä¸‰ä¼šä¸€æ‡‚â€</h3><ul><li>ä¼šå®šç›®æ ‡ï¼š<ul><li>äº”è¦ç´ ï¼šå…·ä½“ã€å¯è¡¡é‡ã€å¯æ¥å—ã€ç»“æœå¯¼å‘ã€æ—¶é™</li></ul></li><li>ä¼šå¼€ä¼š<ul><li>ä¾‹ä¼šã€ä¸»é¢˜ä¼šï¼Œå°±ä¸å±•å¼€äº†</li></ul></li><li>ä¼šå¤ç›˜<ul><li>å°äº‹åŠæ—¶å¤ç›˜</li><li>å¤§äº‹é˜¶æ®µå¤ç›˜</li><li>å®Œäº‹å…¨é¢å¤ç›˜</li></ul></li><li>æ‡‚æˆ˜ç•¥<ul><li>æˆ˜ç•¥å³å–èˆ</li><li><strong><u>æˆ˜ç•¥ä¸æ˜¯å…³äºæœªæ¥åšä»€ä¹ˆï¼Œè€Œæ˜¯â€œç°åœ¨åšä»€ä¹ˆçš„æœªæ¥æ€§â€</u></strong> ï¼ˆæ•´ä¸ªåˆ†äº«æˆ‘æœ€çˆ±çš„ä¸€å¥è¯ï¼ï¼‰</li></ul></li></ul><p>æ€»ç»“ï¼š</p><ul><li>è™½ç„¶è¯´æ˜¯ç®¡ç†è€…çš„ä¸‰ä¼šä¸€æ‡‚ï¼Œä½†æˆ‘è§‰å¾—å¾ˆå¤šé“ç†æ˜¯ç›¸é€šçš„ï¼Œæ¯”å¦‚è¯´åˆ¶å®šç›®æ ‡çš„æ ‡å‡†ï¼Œè¿˜æœ‰æˆ‘ä¹‹å‰çš„å¤ç›˜ä¹Ÿå¤šå°‘å—æ­¤å½±å“ï¼Œä»¥åŠæœ€åçš„æˆ˜ç•¥ï¼Œå¸¸æ€å¸¸æ–°ã€‚</li></ul><h3 id="4-WWHè§†è§’"><a href="#4-WWHè§†è§’" class="headerlink" title="4.WWHè§†è§’"></a>4.WWHè§†è§’</h3><img src="11.png" alt="WWH" width="650px"><ul><li>WHY:<ul><li>ä¸ºä»€ä¹ˆè¦åšï¼Ÿ</li><li>ä¸åšè¡Œä¸è¡Œï¼Ÿ</li><li>ä»¥åå†åšè¡Œä¸è¡Œï¼Ÿ</li></ul></li><li>WHAT:<ul><li>æŠ€æœ¯ç‰¹ç‚¹æˆ–å…³é”®ç‚¹ï¼Ÿ</li><li>ç±»ä¼¼çš„æŠ€æœ¯ï¼ŒåŒºåˆ«ï¼Ÿ</li><li>ä¼˜ç¼ºç‚¹ï¼Ÿæˆç†Ÿåº¦ï¼Ÿ</li><li>æ”¶ç›Šä¸ä»£ä»·ï¼Ÿ</li></ul></li><li>HOW:<ul><li>å¦‚ä½•é¿å‘ï¼Ÿ</li><li>å¦‚ä½•å®éªŒï¼Ÿ</li><li>å¦‚ä½•è¿­ä»£ï¼Ÿ</li><li>å¦‚ä½•å·¥ç¨‹åŒ–ï¼Ÿ</li></ul></li><li>æ€»ç»“ï¼šä¸€ä¸ªå·¥ç¨‹å¸ˆçš„æˆé•¿å°±æ˜¯ä»åªå…³æ³¨HOWä¸Šæå‡åˆ°é€æ¸æ¶‰åŠWHATå’ŒWHYä¸Šçš„æ·±å…¥ã€‚å½“ç„¶ï¼Œæˆ‘è§‰å¾—æ€è€ƒå¾ˆå¤šäº‹æƒ…éƒ½å¯ä»¥å°è¯•å»å¥—ç”¨è¿™ä¸ªï¼Œé€»è¾‘ä¼šå¾ˆæ¸…æ™°ã€‚</li></ul><h3 id="5-æ€»ç»“ä¸æ€è€ƒ"><a href="#5-æ€»ç»“ä¸æ€è€ƒ" class="headerlink" title="5.æ€»ç»“ä¸æ€è€ƒ"></a>5.æ€»ç»“ä¸æ€è€ƒ</h3><ul><li>è¿™é‡Œé¢æåˆ°äº†ä¸å°‘ã€Šé«˜æ•ˆèƒ½äººå£«çš„ä¸ƒä¸ªä¹ æƒ¯ã€‹çš„æ¦‚å¿µï¼Œç»™æˆ‘ä¸€ç§ä¸–ç•Œå°½å¤´æ˜¯è¿™æœ¬ä¹¦çš„æ„Ÿè§‰ï¼Œä¹‹å‰æ²¡çœ‹è¿›å»ã€‚ä½†ç»“åˆå®é™…æ¥è®²ï¼Œå…¶ä¸­çš„è®¸å¤šæ¦‚å¿µç¡®å®å¾ˆå…ˆè¿›ï¼Œå€¼å¾—å­¦ä¹ ã€‚</li><li>æˆ‘çš„æ”¶è·<ul><li>å¯¹äºå·¥ç¨‹å¸ˆçš„èŒä¸šå‘å±•æœ‰äº†ä¸€ä¸ªæ›´å¤§çš„è§†è§’ï¼Œä¹‹å‰å¯èƒ½å°±æ˜¯é›†ä¸­äºæŠ€æœ¯çš„æå‡ï¼Œç°åœ¨å‘ç°å¾ˆå¤šè½¯å®åŠ›ä¹Ÿéå¸¸å€¼å¾—å…³æ³¨ï¼Œæˆ–è€…è¯´æ˜¯ä¸€ç§é€šç”¨èƒ½åŠ›</li><li>å¦‚ä½•åˆ¶å®šè§„åˆ’ï¼Œè®¾å®šç›®æ ‡ï¼Œåº•å±‚æ¥è¯´è¦<strong>è¦äº‹ç¬¬ä¸€ã€ä»¥ç»ˆä¸ºå§‹</strong>ï¼Œä¸Šå±‚æ¥è¯´å¯ä»¥ä»¥äº”è¦ç´ ä¸ºåŸºå‡†æ‹“å±•ï¼Œæ‰“ç®—æ‹¿è¿™å¥—æ¥è§„åˆ’ä¸€ä¸‹å¯’å‡ï¼Œï¼ˆä½†è¿˜æ²¡å¼€å§‹å‘¢ï¼‰</li><li>æ³¨é‡å¤ç›˜çš„ä½œç”¨ï¼ŒåŠæ—¶å¤ç›˜æ˜¯ä¸ªä¸é”™çš„ä¹ æƒ¯ï¼Œä¸€æ˜¯ç†æ¸…æ€è·¯ï¼ŒäºŒæ˜¯å‘æŒ¥äº‹ç‰©çš„æœ€å¤§ä»·å€¼</li><li><strong>æˆ˜ç•¥ä¸æ˜¯å…³äºæœªæ¥åšä»€ä¹ˆï¼Œè€Œæ˜¯â€œç°åœ¨åšä»€ä¹ˆçš„æœªæ¥æ€§â€</strong>ï¼Œä¸€å¥é¡¶ä¸€ä¸‡å¥çš„æ„Ÿè§‰</li><li>å…³äºæŠ€æœ¯çš„ç³»ç»Ÿæ€§æ­å»ºï¼Œç›®å‰æ²¡ä»€ä¹ˆæ€è·¯ï¼Œéœ€è¦æ›´å¤šçš„å­¦ä¹ å§ï¼Œåˆ°ä¸€å®šç¨‹åº¦ä¿¯è§ˆæ•´ä¸ªçŸ¥è¯†ç»“æ„</li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>äººæ–‡</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è‡ªæˆ‘æˆé•¿</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SQLçš„JOINè¿æ¥å¤šè¡¨æŸ¥è¯¢</title>
    <link href="/2024/01/22/%E7%BD%91%E4%B8%8A%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/SQL%E7%9A%84JOIN%E8%BF%9E%E6%8E%A5%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/"/>
    <url>/2024/01/22/%E7%BD%91%E4%B8%8A%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/SQL%E7%9A%84JOIN%E8%BF%9E%E6%8E%A5%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/</url>
    
    <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€:"></a>å‰è¨€:</h3><p>æ•°æ®åº“ä¸Šè¯¾æ—¶è¿™ä¸€éƒ¨åˆ†æ²¡æœ‰å¬è¿›å»ï¼Œå‰å‡ å¤©é¢è¯•åˆé—®åˆ°äº†SQLï¼Œç°åœ¨æ‰å‘ç°ç­”å¾—ç®€ç›´æ˜¯ä¹±ä¸ƒå…«ç³Ÿï¼Œé‚£å°±è¶ç°åœ¨å¥½å¥½æ•´ç†ä¸€ä¸‹å§ï¼Œæ„Ÿè°¢é¢è¯•å®˜çš„åŒ…å®¹ï¼ŒI really appreciate thatï¼</p><hr><h3 id="0-æ‰€æœ‰çš„JOINSæ¦‚è§ˆ"><a href="#0-æ‰€æœ‰çš„JOINSæ¦‚è§ˆ" class="headerlink" title="0.æ‰€æœ‰çš„JOINSæ¦‚è§ˆ"></a>0.æ‰€æœ‰çš„JOINSæ¦‚è§ˆ</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span><br><span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span><br><span class="hljs-keyword">RIGHT</span> <span class="hljs-keyword">JOIN</span><br><span class="hljs-keyword">OUTER</span> <span class="hljs-keyword">JOIN</span><br><span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> EXCLUDING <span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span><br><span class="hljs-keyword">RIGHT</span> <span class="hljs-keyword">JOIN</span> EXCLUDING <span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span><br><span class="hljs-keyword">OUTER</span> <span class="hljs-keyword">JOIN</span> EXCLUDING <span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span><br><span class="hljs-keyword">CROSS</span> <span class="hljs-keyword">JOIN</span><br></code></pre></td></tr></table></figure><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs brainfuck"><span class="hljs-comment">ç”¨äºæŸ¥è¯¢çš„ä¸¤å¼ è¡¨ä¿¡æ¯</span><br><span class="hljs-comment">TABLE_A</span><br>  <span class="hljs-comment">PK Value</span><br><span class="hljs-literal">----</span> <span class="hljs-literal">----------</span><br>   <span class="hljs-comment">1 FOX</span><br>   <span class="hljs-comment">2 COP</span><br>   <span class="hljs-comment">3 TAXI</span><br>   <span class="hljs-comment">6 WASHINGTON</span><br>   <span class="hljs-comment">7 DELL</span><br>   <span class="hljs-comment">5 ARIZONA</span><br>   <span class="hljs-comment">4 LINCOLN</span><br>  <span class="hljs-comment">10 LUCENT</span><br><br><span class="hljs-comment">TABLE_B</span><br>  <span class="hljs-comment">PK Value</span><br><span class="hljs-literal">----</span> <span class="hljs-literal">----------</span><br>   <span class="hljs-comment">1 TROT</span><br>   <span class="hljs-comment">2 CAR</span><br>   <span class="hljs-comment">3 CAB</span><br>   <span class="hljs-comment">6 MONUMENT</span><br>   <span class="hljs-comment">7 PC</span><br>   <span class="hljs-comment">8 MICROSOFT</span><br>   <span class="hljs-comment">9 APPLE</span><br>  <span class="hljs-comment">11 SCOTCH</span><br></code></pre></td></tr></table></figure><h3 id="1-Inner-JOINå†…è¿æ¥"><a href="#1-Inner-JOINå†…è¿æ¥" class="headerlink" title="1.Inner JOINå†…è¿æ¥"></a>1.Inner JOINå†…è¿æ¥</h3><img src="10.png" alt="å†…è¿æ¥" width="300px"><p>è¯´æ˜ï¼šç›¸å½“äºå–ä¸¤å¼ è¡¨çš„äº¤é›†ï¼ŒJOINæ²¡æœ‰ç‰¹åˆ«è¯´æ˜æ—¶é»˜è®¤å°±æ˜¯å†…è¿æ¥</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> A.PK <span class="hljs-keyword">AS</span> A_PK, A.Value <span class="hljs-keyword">AS</span> A_Value,<br>       B.Value <span class="hljs-keyword">AS</span> B_Value, B.PK <span class="hljs-keyword">AS</span> B_PK<br><span class="hljs-keyword">FROM</span> Table_A A<br><span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> Table_B B<br><span class="hljs-keyword">ON</span> A.PK <span class="hljs-operator">=</span> B.PK<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sql">A_PK A_Value    B_Value    B_PK<br><span class="hljs-comment">---- ---------- ---------- ----</span><br>   <span class="hljs-number">1</span> FOX        TROT          <span class="hljs-number">1</span><br>   <span class="hljs-number">2</span> COP        CAR           <span class="hljs-number">2</span><br>   <span class="hljs-number">3</span> TAXI       CAB           <span class="hljs-number">3</span><br>   <span class="hljs-number">6</span> WASHINGTON MONUMENT      <span class="hljs-number">6</span><br>   <span class="hljs-number">7</span> DELL       PC            <span class="hljs-number">7</span><br><br>(<span class="hljs-number">5</span> <span class="hljs-type">row</span>(s) affected)<br></code></pre></td></tr></table></figure><h3 id="2-Left-JOINå·¦è¿æ¥"><a href="#2-Left-JOINå·¦è¿æ¥" class="headerlink" title="2.Left JOINå·¦è¿æ¥"></a>2.Left JOINå·¦è¿æ¥</h3><img src="11.png" alt="å·¦è¿æ¥" width="300px"><p>è¯´æ˜ï¼šç›¸å½“äºå–ä¸¤å¼ è¡¨çš„äº¤é›†åŠ ä¸Šå·¦è¡¨ï¼Œå³æ‰€æœ‰çš„å·¦è¡¨æ•°æ®éƒ½ä¼šè¢«æ˜¾ç¤ºå‡ºæ¥ï¼Œä¸ç®¡æœ‰æ²¡æœ‰åŒ¹é…çš„å³è¡¨ï¼Œæ²¡æœ‰çš„è¯å³è¡¨éƒ¨åˆ†å°±æ˜¾ç¤ºNULL</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> A.PK <span class="hljs-keyword">AS</span> A_PK, A.Value <span class="hljs-keyword">AS</span> A_Value,<br>B.Value <span class="hljs-keyword">AS</span> B_Value, B.PK <span class="hljs-keyword">AS</span> B_PK<br><span class="hljs-keyword">FROM</span> Table_A A<br><span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> Table_B B<br><span class="hljs-keyword">ON</span> A.PK <span class="hljs-operator">=</span> B.PK<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs sql">A_PK A_Value    B_Value    B_PK<br><span class="hljs-comment">---- ---------- ---------- ----</span><br>   <span class="hljs-number">1</span> FOX        TROT          <span class="hljs-number">1</span><br>   <span class="hljs-number">2</span> COP        CAR           <span class="hljs-number">2</span><br>   <span class="hljs-number">3</span> TAXI       CAB           <span class="hljs-number">3</span><br>   <span class="hljs-number">4</span> LINCOLN    <span class="hljs-keyword">NULL</span>       <span class="hljs-keyword">NULL</span><br>   <span class="hljs-number">5</span> ARIZONA    <span class="hljs-keyword">NULL</span>       <span class="hljs-keyword">NULL</span><br>   <span class="hljs-number">6</span> WASHINGTON MONUMENT      <span class="hljs-number">6</span><br>   <span class="hljs-number">7</span> DELL       PC            <span class="hljs-number">7</span><br>  <span class="hljs-number">10</span> LUCENT     <span class="hljs-keyword">NULL</span>       <span class="hljs-keyword">NULL</span><br></code></pre></td></tr></table></figure><h3 id="3-Right-JOINå³è¿æ¥"><a href="#3-Right-JOINå³è¿æ¥" class="headerlink" title="3.Right JOINå³è¿æ¥"></a>3.Right JOINå³è¿æ¥</h3><img src="12.png" alt="å³è¿æ¥" width="300px"><p>è¯´æ˜ï¼šç›¸å½“äºå–ä¸¤å¼ è¡¨çš„äº¤é›†åŠ ä¸Šå³è¡¨ï¼Œå³æ‰€æœ‰çš„å³è¡¨æ•°æ®éƒ½ä¼šè¢«æ˜¾ç¤ºå‡ºæ¥ï¼Œä¸ç®¡æœ‰æ²¡æœ‰åŒ¹é…çš„å·¦è¡¨ï¼Œæ²¡æœ‰çš„è¯å·¦è¡¨çš„éƒ¨åˆ†å°±æ˜¾ç¤ºNULL</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> A.PK <span class="hljs-keyword">AS</span> A_PK, A.Value <span class="hljs-keyword">AS</span> A_Value,<br>B.Value <span class="hljs-keyword">AS</span> B_Value, B.PK <span class="hljs-keyword">AS</span> B_PK<br><span class="hljs-keyword">FROM</span> Table_A A<br><span class="hljs-keyword">RIGHT</span> <span class="hljs-keyword">JOIN</span> Table_B B<br><span class="hljs-keyword">ON</span> A.PK <span class="hljs-operator">=</span> B.PK<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs sql">A_PK A_Value    B_Value    B_PK<br><span class="hljs-comment">---- ---------- ---------- ----</span><br>   <span class="hljs-number">1</span> FOX        TROT          <span class="hljs-number">1</span><br>   <span class="hljs-number">2</span> COP        CAR           <span class="hljs-number">2</span><br>   <span class="hljs-number">3</span> TAXI       CAB           <span class="hljs-number">3</span><br>   <span class="hljs-number">6</span> WASHINGTON MONUMENT      <span class="hljs-number">6</span><br>   <span class="hljs-number">7</span> DELL       PC            <span class="hljs-number">7</span><br><span class="hljs-keyword">NULL</span> <span class="hljs-keyword">NULL</span>       MICROSOFT     <span class="hljs-number">8</span><br><span class="hljs-keyword">NULL</span> <span class="hljs-keyword">NULL</span>       APPLE         <span class="hljs-number">9</span><br><span class="hljs-keyword">NULL</span> <span class="hljs-keyword">NULL</span>       SCOTCH       <span class="hljs-number">11</span><br><br>(<span class="hljs-number">8</span> <span class="hljs-type">row</span>(s) affected)<br><br></code></pre></td></tr></table></figure><h3 id="4-OUTER-JOINå¤–è¿æ¥"><a href="#4-OUTER-JOINå¤–è¿æ¥" class="headerlink" title="4.OUTER JOINå¤–è¿æ¥"></a>4.OUTER JOINå¤–è¿æ¥</h3><img src="13.png" alt="å¤–è¿æ¥" width="300px"><p>è¯´æ˜ï¼šä¼šè¿”å›ä¸¤å¼ è¡¨çš„æ‰€æœ‰çš„è®°å½•ï¼Œç›¸å½“äºä¸¤å¼ è¡¨çš„å¹¶é›†</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> A.PK <span class="hljs-keyword">AS</span> A_PK, A.Value <span class="hljs-keyword">AS</span> A_Value,<br>B.Value <span class="hljs-keyword">AS</span> B_Value, B.PK <span class="hljs-keyword">AS</span> B_PK<br><span class="hljs-keyword">FROM</span> Table_A A<br><span class="hljs-keyword">FULL</span> <span class="hljs-keyword">OUTER</span> <span class="hljs-keyword">JOIN</span> Table_B B<br><span class="hljs-keyword">ON</span> A.PK <span class="hljs-operator">=</span> B.PK<br></code></pre></td></tr></table></figure><p>ç»“æœï¼šsql server é‡Œå…ˆæ˜¾ç¤ºå†…è¿æ¥ï¼Œå†æ˜¯å³è¿æ¥ï¼Œæœ€åæ˜¯å·¦è¿æ¥</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs sql">A_PK A_Value    B_Value    B_PK<br><span class="hljs-comment">---- ---------- ---------- ----</span><br>   <span class="hljs-number">1</span> FOX        TROT          <span class="hljs-number">1</span><br>   <span class="hljs-number">2</span> COP        CAR           <span class="hljs-number">2</span><br>   <span class="hljs-number">3</span> TAXI       CAB           <span class="hljs-number">3</span><br>   <span class="hljs-number">6</span> WASHINGTON MONUMENT      <span class="hljs-number">6</span><br>   <span class="hljs-number">7</span> DELL       PC            <span class="hljs-number">7</span><br><span class="hljs-keyword">NULL</span> <span class="hljs-keyword">NULL</span>       MICROSOFT     <span class="hljs-number">8</span><br><span class="hljs-keyword">NULL</span> <span class="hljs-keyword">NULL</span>       APPLE         <span class="hljs-number">9</span><br><span class="hljs-keyword">NULL</span> <span class="hljs-keyword">NULL</span>       SCOTCH       <span class="hljs-number">11</span><br>   <span class="hljs-number">5</span> ARIZONA    <span class="hljs-keyword">NULL</span>       <span class="hljs-keyword">NULL</span><br>   <span class="hljs-number">4</span> LINCOLN    <span class="hljs-keyword">NULL</span>       <span class="hljs-keyword">NULL</span><br>  <span class="hljs-number">10</span> LUCENT     <span class="hljs-keyword">NULL</span>       <span class="hljs-keyword">NULL</span><br><br>(<span class="hljs-number">11</span> <span class="hljs-type">row</span>(s) affected)<br><br></code></pre></td></tr></table></figure><h3 id="5-Left-Excluding-JOINå·¦è¡¨å”¯ä¸€è¿æ¥"><a href="#5-Left-Excluding-JOINå·¦è¡¨å”¯ä¸€è¿æ¥" class="headerlink" title="5.Left Excluding JOINå·¦è¡¨å”¯ä¸€è¿æ¥"></a>5.Left Excluding JOINå·¦è¡¨å”¯ä¸€è¿æ¥</h3><img src="14.png" alt="å·¦è¡¨å”¯ä¸€è¿æ¥" width="300px"><p>è¯´æ˜ï¼šä¼šè¿”å›å·¦è¡¨ä¸­ä¸å³è¡¨ä¸èƒ½åŒ¹é…çš„æ‰€æœ‰è®°å½•</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> A.PK <span class="hljs-keyword">AS</span> A_PK, A.Value <span class="hljs-keyword">AS</span> A_Value,<br>B.Value <span class="hljs-keyword">AS</span> B_Value, B.PK <span class="hljs-keyword">AS</span> B_PK<br><span class="hljs-keyword">FROM</span> Table_A A<br><span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> Table_B B<br><span class="hljs-keyword">ON</span> A.PK <span class="hljs-operator">=</span> B.PK<br><span class="hljs-keyword">WHERE</span> B.PK <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NULL</span><br></code></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sql">A_PK A_Value    B_Value    B_PK<br><span class="hljs-comment">---- ---------- ---------- ----</span><br>   <span class="hljs-number">4</span> LINCOLN    <span class="hljs-keyword">NULL</span>       <span class="hljs-keyword">NULL</span><br>   <span class="hljs-number">5</span> ARIZONA    <span class="hljs-keyword">NULL</span>       <span class="hljs-keyword">NULL</span><br>  <span class="hljs-number">10</span> LUCENT     <span class="hljs-keyword">NULL</span>       <span class="hljs-keyword">NULL</span><br>(<span class="hljs-number">3</span> <span class="hljs-type">row</span>(s) affected)<br><br></code></pre></td></tr></table></figure><h3 id="6-Right-Excluding-JOINå³è¡¨å”¯ä¸€è¿æ¥"><a href="#6-Right-Excluding-JOINå³è¡¨å”¯ä¸€è¿æ¥" class="headerlink" title="6.Right Excluding JOINå³è¡¨å”¯ä¸€è¿æ¥"></a>6.Right Excluding JOINå³è¡¨å”¯ä¸€è¿æ¥</h3><img src="15.png" alt="å³è¡¨å”¯ä¸€è¿æ¥" width="300px"><p>è¯´æ˜ï¼šä¼šè¿”å›å³è¡¨ä¸­ä¸å·¦è¡¨ä¸èƒ½åŒ¹é…çš„æ‰€æœ‰è®°å½•</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> A.PK <span class="hljs-keyword">AS</span> A_PK, A.Value <span class="hljs-keyword">AS</span> A_Value,<br>B.Value <span class="hljs-keyword">AS</span> B_Value, B.PK <span class="hljs-keyword">AS</span> B_PK<br><span class="hljs-keyword">FROM</span> Table_A A<br><span class="hljs-keyword">RIGHT</span> <span class="hljs-keyword">JOIN</span> Table_B B<br><span class="hljs-keyword">ON</span> A.PK <span class="hljs-operator">=</span> B.PK<br><span class="hljs-keyword">WHERE</span> A.PK <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NULL</span><br></code></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sql">A_PK A_Value    B_Value    B_PK<br><span class="hljs-comment">---- ---------- ---------- ----</span><br><span class="hljs-keyword">NULL</span> <span class="hljs-keyword">NULL</span>       MICROSOFT     <span class="hljs-number">8</span><br><span class="hljs-keyword">NULL</span> <span class="hljs-keyword">NULL</span>       APPLE         <span class="hljs-number">9</span><br><span class="hljs-keyword">NULL</span> <span class="hljs-keyword">NULL</span>       SCOTCH       <span class="hljs-number">11</span><br><br>(<span class="hljs-number">3</span> <span class="hljs-type">row</span>(s) affected)<br><br></code></pre></td></tr></table></figure><h3 id="7-Outer-Excluding-JOINéäº¤é›†è¿æ¥"><a href="#7-Outer-Excluding-JOINéäº¤é›†è¿æ¥" class="headerlink" title="7.Outer Excluding JOINéäº¤é›†è¿æ¥"></a>7.Outer Excluding JOINéäº¤é›†è¿æ¥</h3><img src="16.png" alt="éäº¤é›†è¿æ¥" width="300px"><p>è¯´æ˜ï¼šä¼šè¿”å›å·¦è¡¨å’Œå³è¡¨é‡Œæ²¡æœ‰ç›¸äº’å…³è”çš„è®°å½•</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> A.PK <span class="hljs-keyword">AS</span> A_PK, A.Value <span class="hljs-keyword">AS</span> A_Value,<br>B.Value <span class="hljs-keyword">AS</span> B_Value, B.PK <span class="hljs-keyword">AS</span> B_PK<br><span class="hljs-keyword">FROM</span> Table_A A<br><span class="hljs-keyword">FULL</span> <span class="hljs-keyword">OUTER</span> <span class="hljs-keyword">JOIN</span> Table_B B<br><span class="hljs-keyword">ON</span> A.PK <span class="hljs-operator">=</span> B.PK<br><span class="hljs-keyword">WHERE</span> A.PK <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NULL</span><br><span class="hljs-keyword">OR</span> B.PK <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NULL</span><br></code></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs sql">A_PK A_Value    B_Value    B_PK<br><span class="hljs-comment">---- ---------- ---------- ----</span><br><span class="hljs-keyword">NULL</span> <span class="hljs-keyword">NULL</span>       MICROSOFT     <span class="hljs-number">8</span><br><span class="hljs-keyword">NULL</span> <span class="hljs-keyword">NULL</span>       APPLE         <span class="hljs-number">9</span><br><span class="hljs-keyword">NULL</span> <span class="hljs-keyword">NULL</span>       SCOTCH       <span class="hljs-number">11</span><br>   <span class="hljs-number">5</span> ARIZONA    <span class="hljs-keyword">NULL</span>       <span class="hljs-keyword">NULL</span><br>   <span class="hljs-number">4</span> LINCOLN    <span class="hljs-keyword">NULL</span>       <span class="hljs-keyword">NULL</span><br>  <span class="hljs-number">10</span> LUCENT     <span class="hljs-keyword">NULL</span>       <span class="hljs-keyword">NULL</span><br><br>(<span class="hljs-number">6</span> <span class="hljs-type">row</span>(s) affected)<br><br></code></pre></td></tr></table></figure><h3 id="8-Cross-JOINäº¤å‰è¿æ¥"><a href="#8-Cross-JOINäº¤å‰è¿æ¥" class="headerlink" title="8.Cross JOINäº¤å‰è¿æ¥"></a>8.Cross JOINäº¤å‰è¿æ¥</h3><img src="17.png" alt="äº¤å‰è¿æ¥" width="300px"><p>è¯´æ˜ï¼šä¸€å¼ è¡¨ä¸­çš„æ•°æ®ä¾æ¬¡å–å‡ºåˆ†åˆ«ä¸å¦ä¸€å¼ è¡¨ä¸­çš„æ¯æ¡æ•°æ®æŒ¨ä¸ªç»„åˆï¼Œæœ€åè®°å½•æ•°é‡ä¸ºä¸¤å¼ è¡¨è®°å½•æ•°çš„ä¹˜ç§¯ï¼Œå°±æ˜¯ç¬›å¡å°”ç§¯ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">ä¾‹å¦‚ï¼š<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> student <span class="hljs-keyword">CROSS</span> <span class="hljs-keyword">JOIN</span> major<br></code></pre></td></tr></table></figure><h3 id="9-æœ‰å…³Whereçš„å¤šè¡¨è¿æ¥æŸ¥è¯¢"><a href="#9-æœ‰å…³Whereçš„å¤šè¡¨è¿æ¥æŸ¥è¯¢" class="headerlink" title="9.æœ‰å…³Whereçš„å¤šè¡¨è¿æ¥æŸ¥è¯¢"></a>9.æœ‰å…³Whereçš„å¤šè¡¨è¿æ¥æŸ¥è¯¢</h3><h4 id="9-1whereå’Œinner-joinçš„åŒºåˆ«ï¼š"><a href="#9-1whereå’Œinner-joinçš„åŒºåˆ«ï¼š" class="headerlink" title="9.1whereå’Œinner joinçš„åŒºåˆ«ï¼š"></a>9.1whereå’Œinner joinçš„åŒºåˆ«ï¼š</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> a.ID, b.Name, b.Date <span class="hljs-keyword">FROM</span> Customers a, Sales b <span class="hljs-keyword">WHERE</span> a.ID <span class="hljs-operator">=</span> b.ID;<br></code></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> a.ID, b.Name, b.Date <span class="hljs-keyword">FROM</span> Customers a <span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> Sales b <span class="hljs-keyword">ON</span> a.ID <span class="hljs-operator">=</span> b.ID;<br></code></pre></td></tr></table></figure><p>ä¸¤è€…çš„ç»“æœæ˜¯ä¸€æ ·çš„ã€‚</p><p>ä½†æ˜¯<strong>where</strong>æ˜¯å®é™…ä¸Šæ˜¯åˆ›å»ºäº†ä¸¤å¼ è¡¨çš„<strong>ç¬›å¡å°”ç§¯</strong>ï¼Œç„¶åå†åšç­›é€‰è¿‡æ»¤ã€‚å¦‚æœä¸¤å¼ è¡¨å„æœ‰1000æ¡è®°å½•ï¼Œå°±ä¼šå…ˆäº§ç”Ÿ1000000ä¸ªç»“æœï¼Œç„¶åé€šè¿‡æ­£ç¡®çš„ IDè¿‡æ»¤å‡ºç¬¦åˆ1000æ¡è®°å½•ã€‚</p><p>è€Œä½¿ç”¨<strong>inner join</strong> è¿™æ ·æ•°æ®åº“å°±åªäº§ç”Ÿç¬¦åˆçš„1000æ¡ç›®æ ‡ç»“æœï¼Œç›¸æ¯”ä¹‹ä¸‹ï¼ŒæŸ¥è¯¢æ•ˆç‡æ›´é«˜ã€‚</p><h4 id="9-2onå’Œwhereçš„åŒºåˆ«ï¼š"><a href="#9-2onå’Œwhereçš„åŒºåˆ«ï¼š" class="headerlink" title="9.2onå’Œwhereçš„åŒºåˆ«ï¼š"></a>9.2onå’Œwhereçš„åŒºåˆ«ï¼š</h4><ul><li>å¯¹äºleft join:</li><li>onæ¡ä»¶æ˜¯<strong>ç”Ÿæˆä¸´æ—¶è¡¨æ—¶çš„æ¡ä»¶</strong>ï¼Œæ— è®ºonçš„æ¡ä»¶æ˜¯å¦ä¸ºçœŸï¼Œå·¦è¡¨çš„æ•°æ®éƒ½ä¼šè¿”å›ï¼Œåªæ˜¯å³è¡¨æ•°æ®è¿™æ˜¯éƒ½ä¼šå˜æˆnullï¼Œè¿™æ˜¯Left Joinçš„ç‰¹æ€§(Right JoinåŒ)</li><li>whereæ˜¯åœ¨<strong>ä¸´æ—¶è¡¨åˆ›å»ºå®Œå</strong>æ ¹æ®æ¡ä»¶è¿›è¡Œç­›é€‰</li><li>å³ï¼š<strong>å…ˆon å»ºç«‹ä¸´æ—¶è¡¨å†whereè¿›è¡Œç­›é€‰</strong></li></ul><h3 id="æœ€åçš„å…¨å®¶ç¦"><a href="#æœ€åçš„å…¨å®¶ç¦" class="headerlink" title="æœ€åçš„å…¨å®¶ç¦"></a>æœ€åçš„å…¨å®¶ç¦</h3><img src="20.png" alt="æ‰€æœ‰è¿æ¥" width="300px"><hr><h3 id=""><a href="#" class="headerlink" title=""></a></h3><p>å‚è€ƒæ–‡ç« 1ï¼š<a href="https://www.codeproject.com/Articles/33052/Visual-Representation-of-SQL-Joins">https://www.codeproject.com/Articles/33052/Visual-Representation-of-SQL-Joins</a></p><p>å‚è€ƒæ–‡ç« 2ï¼š<a href="https://zhuanlan.zhihu.com/p/68136613">https://zhuanlan.zhihu.com/p/68136613</a></p>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®åº“</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SpringBoot-demo-HelloWorld</title>
    <link href="/2024/01/21/%E7%BD%91%E4%B8%8A%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/SpringBoot-demo-HelloWorld/"/>
    <url>/2024/01/21/%E7%BD%91%E4%B8%8A%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/SpringBoot-demo-HelloWorld/</url>
    
    <content type="html"><![CDATA[<h1 id="spring-boot-demo-helloworld"><a href="#spring-boot-demo-helloworld" class="headerlink" title="spring-boot-demo-helloworld"></a>spring-boot-demo-helloworld</h1><h3 id="1-æ€»ä½“è¯´æ˜"><a href="#1-æ€»ä½“è¯´æ˜" class="headerlink" title="1.æ€»ä½“è¯´æ˜"></a>1.æ€»ä½“è¯´æ˜</h3><ul><li>ä¸€ä¸ªåŸºæœ¬çš„SpringBootåº”ç”¨ç¨‹åºï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªRestfulæ§åˆ¶å™¨ï¼Œç”¨äºå“åº”httpçš„getè¯·æ±‚ã€‚</li></ul><h3 id="2-ä»£ç "><a href="#2-ä»£ç " class="headerlink" title="2.ä»£ç "></a>2.ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@SpringBootApplication</span><br><span class="hljs-meta">@RestController</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringBootDemoHelloworldApplication</span> &#123;  <span class="hljs-comment">//ä¸»ç±»</span><br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123; <span class="hljs-comment">//ç¨‹åºå…¥å£å¹¶å¯åŠ¨SpringBootåº”ç”¨ç¨‹åº</span><br>        SpringApplication.run(SpringBootDemoHelloworldApplication.class, args);<br>    &#125; <br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * Helloï¼ŒWorld</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> who å‚æ•°ï¼Œéå¿…é¡»</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> Hello, $&#123;who&#125;</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@GetMapping(&quot;/hello&quot;)</span> <span class="hljs-comment">//ä½¿ç”¨HTTPçš„getè¯·æ±‚ï¼Œå°†â€œ/helloâ€è·¯å¾„æ˜ å°„åˆ°sayHelloæ–¹æ³•</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">sayHello</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(required = false, name = &quot;who&quot;)</span> String who)</span> &#123;<span class="hljs-comment">//æ¥å—ä¸€ä¸ªå¯é€‰çš„æŸ¥è¯¢å‚æ•°åä¸ºwho,ç»‘å®šåˆ°å‚æ•°whoä¸Š</span><br>        <span class="hljs-keyword">if</span> (StrUtil.isBlank(who)) &#123;<br>            who = <span class="hljs-string">&quot;World&quot;</span>;<br>        &#125;<br>        <span class="hljs-keyword">return</span> StrUtil.format(<span class="hljs-string">&quot;Hello, &#123;&#125;!&quot;</span>, who); <span class="hljs-comment">//å°†å ä½ç¬¦&#123;&#125;ç”¨&quot;who&quot;å‚æ•°çš„å€¼æ›¿æ¢</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="3-è¯¦ç»†è§£é‡Š"><a href="#3-è¯¦ç»†è§£é‡Š" class="headerlink" title="3.è¯¦ç»†è§£é‡Š"></a>3.è¯¦ç»†è§£é‡Š</h3><ul><li><strong>@SpringBootApplication</strong>ï¼šæ ‡è®°SpringBootåº”ç”¨ç¨‹åºçš„<strong>ä¸»ç±»</strong>ï¼Œæ˜¯ä¸€ä¸ª<strong>é…ç½®ç±»</strong>ï¼Œå¹¶å¯ç”¨äº†Spring<u>ä¸Šä¸‹æ–‡</u>çš„è‡ªåŠ¨é…ç½®</li><li><strong>@RestController</strong>ï¼šå®šä¹‰Spring MVCåº”ç”¨ç¨‹åºä¸­çš„<strong>æ§åˆ¶å™¨ç±»</strong>ï¼Œè¡¨ç¤ºç±»ä¸­æ–¹æ³•çš„è¿”å›å€¼æ˜¯**<u>HTTPå“åº”ä½“</u>**ï¼ˆè€Œä¸æ˜¯ä¾èµ–äºè§†å›¾æŠ€æœ¯ï¼‰ã€‚</li></ul><h3 id="4-ä¸€äº›æ·±å…¥"><a href="#4-ä¸€äº›æ·±å…¥" class="headerlink" title="4.ä¸€äº›æ·±å…¥"></a>4.ä¸€äº›æ·±å…¥</h3><h4 id="4-1-ä»€ä¹ˆæ˜¯Spingä¸Šä¸‹æ–‡ï¼Ÿ"><a href="#4-1-ä»€ä¹ˆæ˜¯Spingä¸Šä¸‹æ–‡ï¼Ÿ" class="headerlink" title="4.1 ä»€ä¹ˆæ˜¯Spingä¸Šä¸‹æ–‡ï¼Ÿ"></a>4.1 ä»€ä¹ˆæ˜¯Spingä¸Šä¸‹æ–‡ï¼Ÿ</h4><p>â€‹<em>Spring ä¸Šä¸‹æ–‡ï¼ˆSpring Contextï¼‰æ˜¯ Spring æ¡†æ¶ä¸­çš„ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼Œå®ƒæ˜¯ä¸€ä¸ª<strong>å¯¹è±¡å®¹å™¨</strong>ï¼Œè´Ÿè´£ç®¡ç†å’Œç»´æŠ¤åº”ç”¨ç¨‹åºä¸­çš„æ‰€æœ‰<strong>å¯¹è±¡ï¼ˆbeanï¼‰</strong>ã€‚Spring ä¸Šä¸‹æ–‡å……å½“äº†å®¹å™¨ï¼Œè´Ÿè´£<strong>åŠ è½½ã€é…ç½®å’Œç»„ç»‡</strong>åº”ç”¨ç¨‹åºä¸­çš„å„ä¸ªç»„ä»¶ï¼Œä»¥åŠ<strong>ç®¡ç†</strong>å®ƒä»¬ä¹‹é—´çš„<strong>ä¾èµ–å…³ç³»</strong>ã€‚</em></p><ul><li>æˆ‘çš„ç†è§£ï¼šæ„Ÿè§‰è¿˜æ˜¯æœ‰ç‚¹æŠ½è±¡ï¼Œå…ˆç•™ä¸ªå°è±¡å§</li></ul><h4 id="4-2-ä»€ä¹ˆæ˜¯è§†å›¾æŠ€æœ¯ï¼Ÿ"><a href="#4-2-ä»€ä¹ˆæ˜¯è§†å›¾æŠ€æœ¯ï¼Ÿ" class="headerlink" title="4.2 ä»€ä¹ˆæ˜¯è§†å›¾æŠ€æœ¯ï¼Ÿ"></a>4.2 ä»€ä¹ˆæ˜¯è§†å›¾æŠ€æœ¯ï¼Ÿ</h4><p>å¸¸è§çš„è§†å›¾æŠ€æœ¯åŒ…æ‹¬ï¼š</p><ol><li><strong>JSPï¼ˆJavaServer Pagesï¼‰ï¼š</strong> JSP æ˜¯ä¸€ç§åŸºäº Java çš„æœåŠ¡å™¨ç«¯æ¨¡æ¿æŠ€æœ¯ï¼Œå…è®¸å°† Java ä»£ç åµŒå…¥åˆ° HTML é¡µé¢ä¸­ã€‚JSP æ–‡ä»¶é€šå¸¸åŒ…å« HTML æ ‡è®°å’ŒåµŒå…¥çš„ Java ä»£ç ï¼Œç”¨äºåŠ¨æ€ç”Ÿæˆé¡µé¢å†…å®¹ã€‚</li><li><strong>Thymeleafï¼š</strong> Thymeleaf æ˜¯ä¸€ç§ç°ä»£çš„æœåŠ¡å™¨ç«¯æ¨¡æ¿å¼•æ“ï¼Œæ”¯æŒè‡ªç„¶çš„æ¨¡æ¿è¯­æ³•ï¼Œè€Œä¸”å¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨ä¸­é¢„è§ˆæ¨¡æ¿ã€‚å®ƒç‰¹åˆ«é€‚ç”¨äºæ„å»º HTML5 é¡µé¢ã€‚</li></ol><p><code>@Controller</code> æ³¨è§£é€šå¸¸ä¸è§†å›¾æŠ€æœ¯ç»“åˆä½¿ç”¨ï¼Œå°†å¤„ç†ç»“æœå°è£…åˆ°æ¨¡å‹ä¸­ï¼Œç„¶åé€‰æ‹©é€‚å½“çš„<u>è§†å›¾æ¥å‘ˆç°è¿™äº›æ¨¡å‹æ•°æ®</u>ã€‚</p><p> <code>@RestController</code> æ³¨è§£è¡¨ç¤ºæ§åˆ¶å™¨ç±»çš„æ–¹æ³•çš„è¿”å›å€¼<u><strong>ç›´æ¥ä½œä¸º HTTP å“åº”ä½“</strong></u>ï¼Œä¸å†ä¾èµ–äºè§†å›¾æŠ€æœ¯ã€‚</p><h4 id="4-3é‡åˆ°çš„é—®é¢˜å’Œè§£å†³"><a href="#4-3é‡åˆ°çš„é—®é¢˜å’Œè§£å†³" class="headerlink" title="4.3é‡åˆ°çš„é—®é¢˜å’Œè§£å†³"></a>4.3é‡åˆ°çš„é—®é¢˜å’Œè§£å†³</h4><ul><li>é—®é¢˜ï¼šè‡ªå·±ç…§ç€ç¼–å†™äº†ä¸€ä¸ªMyHelloworldApplication,ä½†æ˜¯è¿è¡Œå¤±è´¥</li><li>åŸå› åˆ†æï¼šä¸¤ä¸ªä¸»ç±»åŸºæœ¬ä¸€è‡´ï¼Œäº§ç”Ÿäº†<strong>æ˜ å°„å†²çª</strong>ï¼Œå¯¼è‡´ä¸¤ä¸ªä¸åŒçš„ <code>@RestController</code> ç±»ä¸­çš„ç›¸åŒè·¯å¾„ <code>/hello</code> è¢«æ˜ å°„åˆ°äº†ç›¸åŒçš„æ–¹æ³•ä¸Š</li><li>è§£å†³ï¼šæ›´æ”¹å…¶ä¸­ä¸€ä¸ªè·¯å¾„ä¸º&#x2F;myHello,è§£å†³é—®é¢˜</li></ul>]]></content>
    
    
    <categories>
      
      <category>SpringBoot-Demo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SpringBoot</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£äºŒå‰æ ‘éƒ¨åˆ†é¢˜ç›®é¢˜è§£---åŸºæœ¬å®Œæˆå•¦~</title>
    <link href="/2024/01/20/%E5%8A%9B%E6%89%A3%E7%AE%97%E6%B3%95%E9%A2%98/%E5%8A%9B%E6%89%A3%E4%BA%8C%E5%8F%89%E6%A0%91%E9%83%A8%E5%88%86%E9%A2%98%E7%9B%AE%E6%80%BB%E7%BB%93/"/>
    <url>/2024/01/20/%E5%8A%9B%E6%89%A3%E7%AE%97%E6%B3%95%E9%A2%98/%E5%8A%9B%E6%89%A3%E4%BA%8C%E5%8F%89%E6%A0%91%E9%83%A8%E5%88%86%E9%A2%98%E7%9B%AE%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<h2 id="äºŒå‰æ ‘"><a href="#äºŒå‰æ ‘" class="headerlink" title="äºŒå‰æ ‘"></a>äºŒå‰æ ‘</h2><h3 id="å‰è¨€ï¼š"><a href="#å‰è¨€ï¼š" class="headerlink" title="å‰è¨€ï¼š"></a>å‰è¨€ï¼š</h3><p>â€‹å¯¹äºæ ‘ä¸€ç›´æ˜¯æœ‰ä¸€ç§æƒ§æ€•å¿ƒç†çš„ï¼Œé¢˜ç›®åšçš„ä¸å¤Ÿå¤šï¼Œæœ‰æ€è·¯éƒ½ä¸çŸ¥é“æ€ä¹ˆå®ç°ï¼Œå¸Œæœ›é€šè¿‡è¿™æ¬¡äºŒå‰æ ‘çš„ä¸“é¡¹ç»ƒä¹ ï¼Œå¯ä»¥å…¥ä¸ªé—¨å§~~~ï¼šï¼‰</p><hr><h3 id="1-äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨"><a href="#1-äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨" class="headerlink" title="1.äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨"></a>1.äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨</h3><ul><li>æè¿°ï¼šæŠŠä¸€æ£µäºŒå‰æ ‘å±•å¼€ä¸ºä¸€æ¡é“¾è¡¨ï¼Œé“¾è¡¨çš„é¡ºåºå°±æ˜¯äºŒå‰æ ‘çš„å…ˆåºéå†é¡ºåºï¼Œé“¾è¡¨å®é™…ä¸Šå°±æ˜¯ç‰¹æ®Šçš„äºŒå‰æ ‘</li><li>æ€»ä½“è¯´æ˜ï¼š<ul><li>åœ¨åŸå…ˆåŸºç¡€ä¸Šå»ºç«‹é“¾è¡¨<ul><li>è¿­ä»£ï¼Œåˆ’åˆ†ä¸ºä¸‰å¤§æ¨¡å—å†å¤„ç†é‡Œé¢çš„å†…å®¹ï¼ˆè§£æ³•ä¸€ï¼‰</li><li>å…ˆåºéå†çš„é€†è¿‡ç¨‹ï¼Œé€’å½’ï¼ˆè§£æ³•äºŒï¼‰</li><li>æ ˆä¿å­˜å·¦å³å­æ ‘ä¿¡æ¯ï¼ˆè§£æ³•ä¸‰ï¼‰</li></ul></li><li>æ–°å»ºé“¾è¡¨ï¼ˆå…ˆåºéå†ä¿å­˜ä¸‹æ¥ï¼Œå†å½¢æˆé“¾è¡¨ï¼‰ï¼ˆè§£æ³•å››ï¼‰<ul><li>é€’å½’æˆ–è€…çš„è¿­ä»£çš„æ–¹å¼è¿›è¡Œå…ˆåºéå†ä¾æ¬¡ä¿å­˜èŠ‚ç‚¹</li></ul></li></ul></li></ul><h4 id="è§£æ³•ä¸€ï¼š"><a href="#è§£æ³•ä¸€ï¼š" class="headerlink" title="è§£æ³•ä¸€ï¼š"></a>è§£æ³•ä¸€ï¼š</h4><ul><li><p>æ€è·¯ï¼šæŒ‰ç…§å…ˆåºéå†çš„æ€è·¯<strong>ç›´æ¥åœ¨äºŒå‰æ ‘ä¸Šåšä¿®æ”¹ï¼ˆè¿­ä»£ï¼‰</strong>ï¼Œå…ˆæ˜¯æ ¹èŠ‚ç‚¹ï¼Œç„¶åæ˜¯å·¦å­æ ‘ï¼Œæœ€åæ˜¯å³å­æ ‘ï¼›è¿­ä»£æ¯ä¸ªæ ¹èŠ‚ç‚¹ï¼ŒæŠŠå³å­æ ‘æŒ‚åˆ°å·¦å­æ ‘çš„æœ€å³å­èŠ‚ç‚¹ï¼Œç„¶åæŠŠå·¦å­æ ‘ç§»åˆ°å³å­æ ‘çš„ä½ç½®ï¼ŒåŸå…ˆçš„å·¦å­æ ‘ç½®ç©ºã€‚</p></li><li><p>ä»£ç ï¼š</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">flatten</span><span class="hljs-params">(TreeNode root)</span> &#123;<br>       <span class="hljs-keyword">while</span>(root != <span class="hljs-literal">null</span>)&#123;<br>           <span class="hljs-keyword">if</span>(root.left == <span class="hljs-literal">null</span>)&#123;<br>               root = root.right;<br>           &#125;<span class="hljs-keyword">else</span>&#123;<br>               <span class="hljs-type">TreeNode</span> <span class="hljs-variable">tmp</span> <span class="hljs-operator">=</span> root.left;<br>               <span class="hljs-keyword">while</span>(tmp.right != <span class="hljs-literal">null</span>)&#123; <span class="hljs-comment">//éå†æ‰¾åˆ°å·¦å­æ ‘çš„æœ€å³å­èŠ‚ç‚¹</span><br>                   tmp = tmp.right;<br>               &#125;<br>               tmp.right = root.right;<br>               root.right = root.left;<br>               root.left = <span class="hljs-literal">null</span>;<br>               root = root.right;<br>           &#125;<br>       &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šæ ¹æ®å…ˆåºéå†ï¼Œ<u>æŠŠæ ¹èŠ‚ç‚¹ï¼Œå·¦å­æ ‘ï¼Œå³å­æ ‘å…ˆä½œä¸ºä¸‰ä¸ªpartè¿æˆä¸€ä¸ªé“¾è¡¨</u>ï¼Œç„¶åå†ä¾æ¬¡<strong>è¿­ä»£</strong>é‡Œé¢çš„å†…å®¹</li></ul><h4 id="è§£æ³•äºŒ"><a href="#è§£æ³•äºŒ" class="headerlink" title="è§£æ³•äºŒ"></a>è§£æ³•äºŒ</h4><ul><li><p>æ€è·¯ï¼šå…ˆåºéå†çš„é€†è¿‡ç¨‹ã€‚å¦‚æœä»æ ¹èŠ‚ç‚¹å¼€å§‹æŒ‰ç…§å…ˆåºéå†çš„é¡ºåº<strong>ç›´æ¥</strong>å»ºç«‹é“¾è¡¨ï¼Œé‚£ä¹ˆå®ƒçš„å³èŠ‚ç‚¹å°±ä¼šè¿˜æ²¡æœ‰éå†åˆ°å°±ç›´æ¥è¢«è¦†ç›–æ‰äº†ã€‚æ‰€ä»¥è½¬æ¢æ€ç»´ï¼Œä»é“¾å°¾å¼€å§‹å€’ç€å»ºç«‹é“¾è¡¨ï¼ˆroot.right&#x3D;pre,root.left&#x3D;nullï¼‰preæ˜¯é“¾è¡¨ä¸Šå½“å‰rootçš„åä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ ¹æ®å…ˆå³å­æ ‘åå·¦å­æ ‘çš„<strong>é€’å½’</strong>ï¼Œ<strong>è‡ªåº•å‘ä¸Š</strong>å€’åºè¿æ¥å½¢æˆé“¾è¡¨ã€‚</p></li><li><p>ä»£ç ï¼š</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    TreeNode pre;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">flatten</span><span class="hljs-params">(TreeNode root)</span> &#123;<br>        <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span>;<br>        flatten(root.right);<br>        flatten(root.left);<br>        root.right = pre;<br>        root.left = <span class="hljs-literal">null</span>; <br>        pre = root;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šå¾ˆæ£’çš„æƒ³æ³•ï¼Œé€šè¿‡é€’å½’å®ç°çš„é¡ºåºæ˜¯<u><strong>å³å­æ ‘ï¼Œå·¦å­æ ‘ï¼Œæ ¹èŠ‚ç‚¹</strong></u>ï¼Œåˆšå¥½æ˜¯å…ˆåºéå†ï¼ˆæ ¹èŠ‚ç‚¹ï¼Œå·¦å­æ ‘ï¼Œå³å­æ ‘ï¼‰çš„é€†åºï¼Œå†é€æ­¥ç»„ç»‡é“¾è¡¨ã€‚</li></ul><h4 id="è§£æ³•ä¸‰ï¼š"><a href="#è§£æ³•ä¸‰ï¼š" class="headerlink" title="è§£æ³•ä¸‰ï¼š"></a>è§£æ³•ä¸‰ï¼š</h4><ul><li><p>æ€è·¯ï¼šä¹‹å‰æåˆ°ç›´æ¥æŒ‰ç…§å…ˆåºéå†å»ºç«‹é“¾è¡¨ä¼šè¦†ç›–æ‰åŸå…ˆçš„å³å­æ ‘ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡<strong>æ ˆçš„æ–¹å¼ä¿å­˜å­æ ‘ä¿¡æ¯</strong>ï¼Œå…ˆå­˜å³å­æ ‘ï¼Œå†å­˜å·¦å­æ ‘ï¼Œç”³æ˜ä¸€ä¸ªå‰ç½®èŠ‚ç‚¹ï¼Œåˆšå¼€å§‹æ˜¯root,ä»æ ˆä¸­å…ˆå–å‡ºæ¥çš„æ˜¯å·¦å­æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œpre.right &#x3D; cur; pre.left &#x3D; null;ç„¶åæ›´æ–°preå³å¯ã€‚æœ€ç»ˆå®ç°<strong>è‡ªé¡¶å‘ä¸‹</strong>å»ºç«‹é“¾è¡¨ã€‚</p></li><li><p>ä»£ç ï¼š</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">flatten</span><span class="hljs-params">(TreeNode root)</span> &#123;<br>        <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span>;<br>        Deque&lt;TreeNode&gt; stack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br>        stack.push(root);<br>        <span class="hljs-type">TreeNode</span> <span class="hljs-variable">pre</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>        <span class="hljs-keyword">while</span>(!stack.isEmpty())&#123;<br>            <span class="hljs-type">TreeNode</span> <span class="hljs-variable">cur</span> <span class="hljs-operator">=</span> stack.pop();<br>            <span class="hljs-keyword">if</span>(pre != <span class="hljs-literal">null</span>)&#123;<br>                pre.right = cur;<br>                pre.left = <span class="hljs-literal">null</span>;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(cur.right != <span class="hljs-literal">null</span>)&#123;<br>                stack.push(cur.right);<br>            &#125;<br>            <span class="hljs-keyword">if</span>(cur.left != <span class="hljs-literal">null</span>)&#123;<br>                stack.push(cur.left);<br>            &#125;<br>            pre = cur;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šé€’å½’è¿­ä»£è¿™äº›å¥½åƒç»å¸¸å¯ä»¥å’Œæ ˆè”ç³»èµ·æ¥ï¼Œæ ˆçš„ä½œç”¨ä¸»è¦æ˜¯<strong>ä¿å­˜çŠ¶æ€</strong>ï¼Œä½¿å¾—ç¨‹åºçš„éå†å¯ä»¥æ›´åŠ ç¬¦åˆ**<u>é¡ºåºé€»è¾‘</u>**ã€‚</li></ul><h4 id="è§£æ³•å››ï¼š"><a href="#è§£æ³•å››ï¼š" class="headerlink" title="è§£æ³•å››ï¼š"></a>è§£æ³•å››ï¼š</h4><ul><li>æ€è·¯ï¼šä»¥ä¸Šçš„æ–¹æ³•éƒ½æ˜¯ç›´æ¥åœ¨äºŒå‰æ ‘ä¸Šä¿®æ”¹ï¼Œä½¿ä¹‹å˜æˆé“¾è¡¨ï¼Œå®é™…ä¸Šä¹Ÿå¯ä»¥ç›´æ¥ç”³æ˜ä¸€ä¸ªList<Treenode> ç±»å‹çš„list,å…ˆåºéå†äºŒå‰æ ‘ï¼ŒæŠŠèŠ‚ç‚¹æŒ‰é¡ºåºæ”¾å…¥listï¼Œæœ€åè¿æ¥èµ·ä¸€ä¸ªé“¾è¡¨å³å¯ã€‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">flatten</span><span class="hljs-params">(TreeNode root)</span> &#123;<br>        List&lt;TreeNode&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        preorderTraversal(root, list);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; list.size()-<span class="hljs-number">1</span>; i++)&#123; <span class="hljs-comment">//Listç±»å‹è½¬ä¸ºå•å‘é“¾è¡¨</span><br>            <span class="hljs-type">TreeNode</span> <span class="hljs-variable">cur</span> <span class="hljs-operator">=</span> list.get(i), next = list.get(i + <span class="hljs-number">1</span>);<br>            cur.right = next;<br>            cur.left = <span class="hljs-literal">null</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">preorderTraversal</span><span class="hljs-params">(TreeNode root, List&lt;TreeNode&gt; list)</span>&#123;<br>        <span class="hljs-keyword">if</span>(root != <span class="hljs-literal">null</span>)&#123;<br>            list.add(root);<br>            preorderTraversal(root.left, list);<br>            preorderTraversal(root.right, list);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šå¯¹äºè¿™ç§ç®€å•çš„é€’å½’è¦å°½å¯èƒ½åœ°ç†Ÿç»ƒï¼Œå¹¶ä¸éš¾ã€‚</li></ul><h3 id="2-å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘"><a href="#2-å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘" class="headerlink" title="2.å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘"></a>2.å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘</h3><ul><li>æè¿°ï¼šç»™å®šä¸€ä¸ªå‡åºæ•°ç»„ï¼Œå°†å…¶è½¬åŒ–ä¸ºä¸€ä¸ªé«˜åº¦å¹³è¡¡çš„äºŒå‰æœç´¢æ ‘ï¼Œå³ä¸­åºéå†æ˜¯ä¸ªå‡åºæ•°ç»„</li></ul><h4 id="è§£æ³•ä¸€ï¼š-1"><a href="#è§£æ³•ä¸€ï¼š-1" class="headerlink" title="è§£æ³•ä¸€ï¼š"></a>è§£æ³•ä¸€ï¼š</h4><ul><li><p>æ€è·¯ï¼šé«˜åº¦å¹³è¡¡ï¼Œè€ƒè™‘æŠŠä¸­é—´ä½ç½®ä½œä¸ºæ ¹èŠ‚ç‚¹è¿›è¡Œå»ºæ ‘ï¼Œå†é€’å½’è°ƒç”¨å»ºç«‹å·¦å³å­æ ‘å³å¯ã€‚</p></li><li><p>ä»£ç ï¼š</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> TreeNode <span class="hljs-title function_">sortedArrayToBST</span><span class="hljs-params">(<span class="hljs-type">int</span>[] nums)</span> &#123;<br>        <span class="hljs-keyword">return</span> helper(nums, <span class="hljs-number">0</span>, nums.length - <span class="hljs-number">1</span>);<br>    &#125;<br>    <span class="hljs-keyword">public</span> TreeNode <span class="hljs-title function_">helper</span><span class="hljs-params">(<span class="hljs-type">int</span>[] nums, <span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right)</span>&#123;<br>        <span class="hljs-keyword">if</span>(left &gt; right) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">mid</span> <span class="hljs-operator">=</span> (left + right)/<span class="hljs-number">2</span>;<br>        <span class="hljs-type">TreeNode</span> <span class="hljs-variable">root</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeNode</span>(nums[mid]);<br>        root.left = helper(nums, left, mid -<span class="hljs-number">1</span>);<br>        root.right = helper(nums, mid + <span class="hljs-number">1</span>, right);<br>        <span class="hljs-keyword">return</span> root;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šæ•°ç»„è½¬åŒ–ä¸ºäºŒå‰æ ‘æ€è·¯å¹¶ä¸éš¾ï¼Œåªæ˜¯å¯¹æ ‘çš„å»ºç«‹è¿‡ç¨‹ä¸å¤Ÿç†Ÿæ‚‰ã€‚å› ä¸ºæ¶‰åŠé€’å½’ï¼Œæœ€å¥½æ–°å»ºä¸€ä¸ªå‡½æ•°ã€‚</li></ul><h3 id="3-äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ"><a href="#3-äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ" class="headerlink" title="3.äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ"></a>3.äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</h3><ul><li>æè¿°ï¼šç»™å®šä¸€ä¸ªäºŒå‰æ ‘, æ‰¾åˆ°è¯¥æ ‘ä¸­ä¸¤ä¸ªæŒ‡å®šèŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</li></ul><h4 id="è§£æ³•ä¸€ï¼š-2"><a href="#è§£æ³•ä¸€ï¼š-2" class="headerlink" title="è§£æ³•ä¸€ï¼š"></a>è§£æ³•ä¸€ï¼š</h4><ul><li><p>æ€è·¯ï¼šé€šè¿‡é€’å½’åˆ†åˆ«å»å·¦å³å­æ ‘å¯»æ‰¾ï¼Œä¸€æ—¦æ‰¾åˆ°pæˆ–qï¼Œç›´æ¥è¿”å›ï¼Œæˆ–è€…ä¸¤è€…åˆ†åˆ«åœ¨å·¦å³å­æ ‘ï¼Œè¿”å›å½“å‰çš„root</p></li><li><p>ä»£ç ï¼š</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> TreeNode <span class="hljs-title function_">lowestCommonAncestor</span><span class="hljs-params">(TreeNode root, TreeNode p, TreeNode q)</span> &#123;<br>        <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span> || root == p || root == q) <span class="hljs-keyword">return</span> root;<br>        <span class="hljs-type">TreeNode</span> <span class="hljs-variable">left</span> <span class="hljs-operator">=</span> lowestCommonAncestor(root.left, p, q);<br>        <span class="hljs-type">TreeNode</span> <span class="hljs-variable">right</span> <span class="hljs-operator">=</span> lowestCommonAncestor(root.right, p, q);<br>        <span class="hljs-keyword">if</span>(left == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> right;<br>        <span class="hljs-keyword">if</span>(right == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> left;<br>        <span class="hljs-keyword">return</span> root;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šå¾ˆç²¾å½©çš„é€’å½’ï¼Œå°¤å…¶æ˜¯return root è¿™é‡Œï¼Œç©ºçš„ä¼šå‘ä¸Šä¼ ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªleftå’Œrightéƒ½æ°å¥½æ˜¯éç©ºã€‚</li></ul><h4 id="è§£æ³•äºŒï¼š"><a href="#è§£æ³•äºŒï¼š" class="headerlink" title="è§£æ³•äºŒï¼š"></a>è§£æ³•äºŒï¼š</h4><ul><li><p>æ€è·¯ï¼šå…ˆæå‰dfsæ•´æ£µæ ‘ï¼Œç¡®å®šæ‰€æœ‰çš„çˆ¶èŠ‚ç‚¹ï¼Œç„¶åæ‰¾å‡ºpçš„çˆ¶èŠ‚ç‚¹è¿™æ¡è·¯ï¼Œå†æ‰¾qçš„æ‰€æœ‰ç¥–å…ˆï¼Œä¸€æ—¦ä¹‹å‰æ‰¾åˆ°è¿‡ï¼Œå°±æ˜¯æœ€è¿‘çš„å…¬å…±ç¥–å…ˆã€‚<strong>å¦å¤–ï¼Œé¢˜ç›®è¯´æ˜æ‰€æœ‰ <code>Node.val</code> <code>äº’ä¸ç›¸åŒ</code> ï¼Œæ•…å¯ä»¥Mapå­˜å‚¨èŠ‚ç‚¹çš„å€¼ã€‚</strong></p></li><li><p>ä»£ç ï¼š</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    Map&lt;Integer, TreeNode&gt; parent = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>    Set&lt;Integer&gt; visited = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;();<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">dfs</span><span class="hljs-params">(TreeNode root)</span>&#123;<br>        <span class="hljs-keyword">if</span>(root.left != <span class="hljs-literal">null</span>)&#123;<br>            parent.put(root.left.val, root);<br>            dfs(root.left);<br>        &#125;<br>        <span class="hljs-keyword">if</span>(root.right != <span class="hljs-literal">null</span>)&#123;<br>            parent.put(root.right.val, root);<br>            dfs(root.right);<br>        &#125;<br><br>    &#125;<br><span class="hljs-keyword">public</span> TreeNode <span class="hljs-title function_">lowestCommonAncestor</span><span class="hljs-params">(TreeNode root, TreeNode p, TreeNode q)</span> &#123;<br>        dfs(root);<br>        <span class="hljs-keyword">while</span>(p != <span class="hljs-literal">null</span>)&#123;<br>            visited.add(p.val);<br>            p = parent.get(p.val);<br>        &#125;<br>        <span class="hljs-keyword">while</span>(q != <span class="hljs-literal">null</span>)&#123;<br>            <span class="hljs-keyword">if</span>(visited.contains(q.val))&#123;<br>                <span class="hljs-keyword">return</span> q;<br>            &#125;<br>            q = parent.get(q.val);<br>       &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šè¿™ä¸ªä»£ç ç›¸å¯¹é€’å½’æ›´å¥½ç†è§£ï¼Œå°±æ˜¯ç›´è§‚çš„è§£æ³•ï¼Œåé¢çš„pï¼Œqå°±ä¸æ˜¯è¿™ä¸¤ä¸ªç‚¹äº†ï¼Œè€Œæ˜¯å®ƒä»¬æ‰€æœ‰ç›´æ¥ç¥–å…ˆè¿™æ¡çº¿ä¸Šçš„ç‚¹ã€‚</li></ul><h3 id="4-æŠŠäºŒå‰æœç´¢æ ‘è½¬åŒ–ä¸ºç´¯åŠ æ ‘"><a href="#4-æŠŠäºŒå‰æœç´¢æ ‘è½¬åŒ–ä¸ºç´¯åŠ æ ‘" class="headerlink" title="4.æŠŠäºŒå‰æœç´¢æ ‘è½¬åŒ–ä¸ºç´¯åŠ æ ‘"></a>4.æŠŠäºŒå‰æœç´¢æ ‘è½¬åŒ–ä¸ºç´¯åŠ æ ‘</h3><ul><li>æè¿°ï¼šç»™å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘ï¼Œè¯·å°†å®ƒçš„æ¯ä¸ªèŠ‚ç‚¹çš„å€¼æ›¿æ¢æˆæ ‘ä¸­å¤§äºæˆ–è€…ç­‰äºè¯¥èŠ‚ç‚¹å€¼çš„æ‰€æœ‰èŠ‚ç‚¹å€¼ä¹‹å’Œã€‚è¡¥å……ï¼šäºŒå‰æœç´¢æ ‘çš„ä¸­åºéå†æ˜¯ä¸€ä¸ªå‡åºæ•°ç»„ã€‚</li></ul><h4 id="è§£æ³•ä¸€ï¼š-3"><a href="#è§£æ³•ä¸€ï¼š-3" class="headerlink" title="è§£æ³•ä¸€ï¼š"></a>è§£æ³•ä¸€ï¼š</h4><ul><li>æ€è·¯ï¼šé€†å‘æ€ç»´ï¼Œä»äºŒå‰æœç´¢æ ‘çš„æœ€å³å­èŠ‚ç‚¹å¼€å§‹ï¼Œä»¥ä¸­åºéå†çš„é€†è¿‡ç¨‹ï¼ˆ<strong>å³å­æ ‘ï¼Œæ ¹èŠ‚ç‚¹ï¼Œå·¦å­æ ‘</strong>ï¼‰éå†ï¼Œå…¶å€¼å°±æ˜¯å½“å‰éå†è¿‡çš„èŠ‚ç‚¹çš„ä¸æ–­ç´¯åŠ ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">public</span> TreeNode <span class="hljs-title function_">convertBST</span><span class="hljs-params">(TreeNode root)</span> &#123;<br>        <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>        convertBST(root.right);<br>        sum += root.val;<br>        root.val = sum;<br>        convertBST(root.left);<br>        <span class="hljs-keyword">return</span> root;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šå¢åŠ äº†é€’å½’çš„ç†Ÿç»ƒåº¦ï¼Œå®è§‚æ¥çœ‹å°±æ˜¯<strong>å³å­æ ‘ï¼Œæ ¹èŠ‚ç‚¹ï¼Œå·¦å­æ ‘</strong>çš„é¡ºåºï¼Œå…·ä½“çš„å®ç°ç»†èŠ‚ä¹Ÿè¦éªŒè¯ç¬¦åˆè¦æ±‚ï¼Œå¾ˆé”»ç‚¼æ€ç»´èƒ½åŠ›ã€‚</li></ul><h3 id="5-è·¯å¾„æ€»å’Œ"><a href="#5-è·¯å¾„æ€»å’Œ" class="headerlink" title="5.è·¯å¾„æ€»å’Œ|||"></a>5.è·¯å¾„æ€»å’Œ|||</h3><ul><li>æè¿°ï¼šç»™å®šä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ <code>root</code> ï¼Œå’Œä¸€ä¸ªæ•´æ•° <code>targetSum</code> ï¼Œæ±‚è¯¥äºŒå‰æ ‘é‡ŒèŠ‚ç‚¹å€¼ä¹‹å’Œç­‰äº <code>targetSum</code> çš„ è·¯å¾„ çš„æ•°ç›®ã€‚è·¯å¾„ ä¸éœ€è¦ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œä¹Ÿä¸éœ€è¦åœ¨å¶å­èŠ‚ç‚¹ç»“æŸï¼Œä½†æ˜¯è·¯å¾„æ–¹å‘å¿…é¡»æ˜¯å‘ä¸‹çš„ï¼ˆåªèƒ½ä»çˆ¶èŠ‚ç‚¹åˆ°å­èŠ‚ç‚¹ï¼‰ã€‚</li></ul><h4 id="è§£æ³•ä¸€ï¼š-4"><a href="#è§£æ³•ä¸€ï¼š-4" class="headerlink" title="è§£æ³•ä¸€ï¼š"></a>è§£æ³•ä¸€ï¼š</h4><ul><li>æ€è·¯ï¼šè·¯å¾„æ˜¯ä»çˆ¶èŠ‚ç‚¹åˆ°æ ¹èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå¯ä»¥æ·±åº¦æœç´¢éå†æ•´æ£µæ ‘ï¼ŒåŒæ—¶ç»´æŠ¤ä¸€ä¸ªå‰ç¼€å’Œçš„å“ˆå¸Œæ•°ç»„ï¼Œé”®æ˜¯å½“å‰èŠ‚ç‚¹ä¹‹å‰å‡ºç°è¿‡çš„å‰ç¼€å’Œï¼Œå€¼å‡ºç°çš„æ¬¡æ•°ï¼Œcurä»£è¡¨ä»æ ¹èŠ‚ç‚¹åˆ°è¾¾å½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰çš„å’Œã€‚</li><li>ä»£ç </li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">pathSum</span><span class="hljs-params">(TreeNode root, <span class="hljs-type">int</span> targetSum)</span> &#123;<br>        Map&lt;Long, Integer&gt; prefix = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>        prefix.put(<span class="hljs-number">0L</span>, <span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">return</span> dfs(root, prefix, <span class="hljs-number">0</span>, targetSum);<br>    &#125;<br>    <span class="hljs-keyword">public</span> Integer <span class="hljs-title function_">dfs</span><span class="hljs-params">(TreeNode root, Map&lt;Long, Integer&gt; prefix, <span class="hljs-type">long</span> cur, <span class="hljs-type">int</span> targetSum&#123;</span><br><span class="hljs-params">        <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span>)</span> <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">ret</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;  <span class="hljs-comment">//retæ¯æ¬¡è¿›æ¥é‡æ–°èµ‹å€¼ï¼Œä½†ç”±äºä¸‹é¢çš„+=,æœ€åä¼šç´¯åŠ æˆæœ€ç»ˆçš„ç»“æœ</span><br>        cur += root.val;<br>        ret = prefix.getOrDefault(cur - targetSum,<span class="hljs-number">0</span>);<br>        prefix.put(cur, prefix.getOrDefault(cur, <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>);<br>        ret += dfs(root.left, prefix, cur, targetSum);<br>        ret += dfs(root.right, prefix, cur, targetSum);<br>        prefix.put(cur,prefix.getOrDefault(cur, <span class="hljs-number">0</span>) - <span class="hljs-number">1</span>); <span class="hljs-comment">//è·³è½¬åˆ°å¦ä¸€é¢—å­æ ‘ï¼Œå¿…é¡»æ¢å¤ç°åœº</span><br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šäºŒå‰æ ‘è¿˜æ˜¯è·Ÿé€’å½’å…³ç³»å¾ˆå¤§ï¼Œä¸»è¦æ˜¯åˆ©ç”¨äº†å‰ç¼€å’Œçš„æ€æƒ³å’ŒMapè¿™ä¸€é”®å€¼å¯¹çš„æ•°æ®ç»“æ„ï¼Œè¿˜æœ‰å°±æ˜¯å½“å½“å‰èŠ‚ç‚¹éå†å®Œï¼Œæ¢åˆ°å¦ä¸€é¢—å­æ ‘æ—¶ä¸€å®šè¦æ¢å¤ç°åœºï¼Œæ‰èƒ½ä¿è¯prefixçš„å‡†ç¡®æ€§ã€‚</li></ul><h3 id="6-äºŒå‰æœç´¢æ ‘ä¸­ç¬¬Kå°çš„å…ƒç´ "><a href="#6-äºŒå‰æœç´¢æ ‘ä¸­ç¬¬Kå°çš„å…ƒç´ " class="headerlink" title="6.äºŒå‰æœç´¢æ ‘ä¸­ç¬¬Kå°çš„å…ƒç´ "></a>6.äºŒå‰æœç´¢æ ‘ä¸­ç¬¬Kå°çš„å…ƒç´ </h3><ul><li>æè¿°ï¼šç»™å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘çš„æ ¹èŠ‚ç‚¹ <code>root</code> ï¼Œå’Œä¸€ä¸ªæ•´æ•° <code>k</code> ï¼Œè¯·ä½ è®¾è®¡ä¸€ä¸ªç®—æ³•æŸ¥æ‰¾å…¶ä¸­ç¬¬ <code>k</code> ä¸ªæœ€å°å…ƒç´ ï¼ˆä» 1 å¼€å§‹è®¡æ•°ï¼‰ã€‚</li></ul><h4 id="è§£æ³•ä¸€ï¼š-5"><a href="#è§£æ³•ä¸€ï¼š-5" class="headerlink" title="è§£æ³•ä¸€ï¼š"></a>è§£æ³•ä¸€ï¼š</h4><ul><li><p>æ€è·¯ï¼šäºŒå‰æœç´¢æ ‘çš„ç‰¹ç‚¹æ˜¯ä¸­åºéå†æ˜¯ä¸€ä¸ªå‡åºæ•°ç»„ï¼Œé‚£ä¹ˆç›´æ¥è¿›è¡Œä¸­åºéå†ï¼Œä¿å­˜åˆ°æ•°ç»„é‡Œï¼Œå–ç¬¬kä¸ªå…ƒç´ çš„å€¼å³å¯ï¼Œæ˜¯è‡ªå·±å†™å‡ºæ¥çš„ä¸€é“é¢˜å‘¦~o(<em>ï¿£â–½ï¿£</em>)ãƒ–</p></li><li><p>ä»£ç ï¼š</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">kthSmallest</span><span class="hljs-params">(TreeNode root, <span class="hljs-type">int</span> k)</span> &#123;<br>        List&lt;TreeNode&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        middleOrderTravesal(root,list);<br>        <span class="hljs-keyword">return</span> list.get(k-<span class="hljs-number">1</span>).val;<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">middleOrderTravesal</span><span class="hljs-params">(TreeNode root, List&lt;TreeNode&gt; list)</span>&#123;<br>        <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span>;<br>        middleOrderTravesal(root.left, list);<br>        list.add(root);<br>        middleOrderTravesal(root.right, list);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šäºŒå‰æ ‘æœç„¶è¿˜æ˜¯å’Œé€’å½’æˆ–è€…éå†åˆ†ä¸å¼€ï¼Œåšå¤šäº†å°±æ¸æ¸æœ‰æ„Ÿè§‰äº†ã€‚</li></ul><h3 id="7-äºŒå‰æ ‘çš„å³è§†å›¾"><a href="#7-äºŒå‰æ ‘çš„å³è§†å›¾" class="headerlink" title="7.äºŒå‰æ ‘çš„å³è§†å›¾"></a>7.äºŒå‰æ ‘çš„å³è§†å›¾</h3><ul><li>æè¿°ï¼šç»™å®šä¸€ä¸ªäºŒå‰æ ‘çš„ <strong>æ ¹èŠ‚ç‚¹</strong> <code>root</code>ï¼Œæƒ³è±¡è‡ªå·±ç«™åœ¨å®ƒçš„å³ä¾§ï¼ŒæŒ‰ç…§ä»é¡¶éƒ¨åˆ°åº•éƒ¨çš„é¡ºåºï¼Œè¿”å›ä»å³ä¾§æ‰€èƒ½çœ‹åˆ°çš„èŠ‚ç‚¹å€¼ã€‚</li></ul><h4 id="è§£æ³•ä¸€ï¼š-6"><a href="#è§£æ³•ä¸€ï¼š-6" class="headerlink" title="è§£æ³•ä¸€ï¼š"></a>è§£æ³•ä¸€ï¼š</h4><ul><li>æ€è·¯ï¼šå…ˆå³å­æ ‘åå·¦å­æ ‘åœ°é€’å½’ï¼Œç»´æŠ¤ä¸€ä¸ªæ·±åº¦å˜é‡ï¼Œå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡åˆ°è¾¾è¯¥å±‚å°±æ·»åŠ è¿›ç­”æ¡ˆï¼Œè¿™æ ·å°±æ»¡è¶³å³è§†å›¾çš„è¦æ±‚äº†ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">dep</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">public</span> List&lt;Integer&gt; <span class="hljs-title function_">rightSideView</span><span class="hljs-params">(TreeNode root)</span> &#123;<br>        List&lt;Integer&gt; right_view = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> right_view;<br>        dfs(root, right_view, <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">return</span> right_view;<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">dfs</span><span class="hljs-params">(TreeNode root, List&lt;Integer&gt; right_view, <span class="hljs-type">int</span> depth)</span>&#123;<br>        <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span>;<br>        depth++;<br>        <span class="hljs-keyword">if</span>(depth &gt; dep)&#123;<br>            right_view.add(root.val);<br>            dep = depth;<br>        &#125;<br>        dfs(root.right, right_view, depth);<br>        dfs(root.left, right_view ,depth);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šåˆšå¼€å§‹æ²¡æœ‰æƒ³åˆ°æœ‰å¯èƒ½å³å­æ ‘ä¸å­˜åœ¨ï¼Œçœ‹åˆ°çš„æ˜¯å·¦å­æ ‘çš„èŠ‚ç‚¹ã€‚æ‰€ä»¥éœ€è¦ç»´æŠ¤ä¸€ä¸ªæ·±åº¦ï¼Œè¿™éƒ¨åˆ†æœ‰ç‚¹æ€è·¯ä½†ä¸å¤ªä¼šå®ç°ï¼Œå®é™…ä¸Šå°±æ˜¯é€šè¿‡ä¸€ä¸ªå…¨å±€å˜é‡æ¥æ‰¾åˆ°è¯¥å±‚å‡ºç°çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚</li></ul><h3 id="8-äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ"><a href="#8-äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ" class="headerlink" title="8.äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ"></a>8.äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ</h3><ul><li>æè¿°ï¼šäºŒå‰æ ‘ä¸­çš„ <strong>è·¯å¾„</strong> è¢«å®šä¹‰ä¸ºä¸€æ¡èŠ‚ç‚¹åºåˆ—ï¼Œåºåˆ—ä¸­æ¯å¯¹ç›¸é‚»èŠ‚ç‚¹ä¹‹é—´éƒ½å­˜åœ¨ä¸€æ¡è¾¹ã€‚åŒä¸€ä¸ªèŠ‚ç‚¹åœ¨ä¸€æ¡è·¯å¾„åºåˆ—ä¸­ <strong>è‡³å¤šå‡ºç°ä¸€æ¬¡</strong> ã€‚è¯¥è·¯å¾„ <strong>è‡³å°‘åŒ…å«ä¸€ä¸ª</strong> èŠ‚ç‚¹ï¼Œä¸”ä¸ä¸€å®šç»è¿‡æ ¹èŠ‚ç‚¹ã€‚<strong>è·¯å¾„å’Œ</strong> æ˜¯è·¯å¾„ä¸­å„èŠ‚ç‚¹å€¼çš„æ€»å’Œã€‚ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ <code>root</code> ï¼Œè¿”å›å…¶ <strong>æœ€å¤§è·¯å¾„å’Œ</strong> ã€‚</li></ul><h4 id="è§£æ³•ä¸€ï¼š-7"><a href="#è§£æ³•ä¸€ï¼š-7" class="headerlink" title="è§£æ³•ä¸€ï¼š"></a>è§£æ³•ä¸€ï¼š</h4><ul><li>æ€è·¯ï¼šé¦–å…ˆï¼Œè¿™æ˜¯ä¸ªå¯é€’å½’çš„é—®é¢˜ï¼Œå¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œå¯ä»¥<strong>é€’å½’</strong>æ‰¾åˆ°<strong>ä»¥å®ƒä¸ºæ ¹èŠ‚ç‚¹çš„ä¸”å‘ä¸‹çš„è·¯å¾„å’Œçš„æœ€å¤§å€¼</strong>ï¼Œé‚£ä¹ˆå¯¹äºæ•´ä½“çš„äºŒå‰æ ‘çš„æœ€å¤§è·¯å¾„å’Œï¼Œå¯ä»¥åœ¨é€’å½’è¿‡ç¨‹ä¸­ï¼Œä¸æ–­æ¯”è¾ƒ<strong>èŠ‚ç‚¹çš„å€¼åŠ ä¸Šå…¶å·¦å³å­èŠ‚ç‚¹çš„æœ€å¤§è·¯å¾„å’Œ</strong>ï¼Œæœ€ç»ˆæ‰¾åˆ°æœ€å¤§è·¯å¾„å’Œã€‚ç”±äºå­˜åœ¨è´Ÿæ•°ï¼Œè¦å’Œ0æ¯”è¾ƒä¸€ä¸‹ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">maxSum</span> <span class="hljs-operator">=</span> Integer.MIN_VALUE;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">maxPathSum</span><span class="hljs-params">(TreeNode root)</span> &#123;<br>        maxGain(root);<br>        <span class="hljs-keyword">return</span> maxSum;<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">maxGain</span><span class="hljs-params">(TreeNode node)</span>&#123;<br>        <span class="hljs-keyword">if</span>(node == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">leftGain</span> <span class="hljs-operator">=</span> Math.max(<span class="hljs-number">0</span>, maxGain(node.left));<br>        <span class="hljs-type">int</span> <span class="hljs-variable">rightGain</span> <span class="hljs-operator">=</span> Math.max(<span class="hljs-number">0</span>,maxGain(node.right));<br>        maxSum = Math.max(maxSum, node.val + leftGain + rightGain); <span class="hljs-comment">//é€’å½’å®Œåå°±å¯ä»¥æŠŠè¯¥èŠ‚ç‚¹ä½œä¸ºå€™é€‰èŠ‚ç‚¹</span><br>        <span class="hljs-keyword">return</span> node.val + Math.max(leftGain, rightGain);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šæ„Ÿè§‰ä»¥å‰å¥½åƒåšè¿‡ï¼Œä½†æ˜¯å¯¹äºé€’å½’çš„ç†Ÿæ‚‰è¿˜æ˜¯ä¸å¤Ÿï¼Œç›¸å½“äºæŠŠæœ€ç»ˆçš„è·¯å¾„æŒ‰æœ€ä¸Šé¢çš„èŠ‚ç‚¹è¿›è¡Œæ‹†åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼ˆå½“å‰èŠ‚ç‚¹ï¼Œå·¦å­æ ‘çš„ä¸€æ¡æœ€å¤§è·¯å¾„ï¼Œå³å­æ ‘çš„ä¸€æ¡æœ€å¤§è·¯å¾„ï¼‰ï¼Œé‚£ä¹ˆé—®é¢˜å°±è½¬å˜ä¸ºé€’å½’æ¯ä¸ªèŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼ã€‚é€šè¿‡<strong>æ‹†åˆ†</strong>æŠŠå¤æ‚é—®é¢˜ç®€å•åŒ–ã€‚</li></ul><h3 id="9ã€äºŒå‰æ ‘çš„ç›´å¾„"><a href="#9ã€äºŒå‰æ ‘çš„ç›´å¾„" class="headerlink" title="9ã€äºŒå‰æ ‘çš„ç›´å¾„"></a>9ã€äºŒå‰æ ‘çš„ç›´å¾„</h3><ul><li>æè¿°ï¼šç»™ä½ ä¸€æ£µäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œè¿”å›è¯¥æ ‘çš„ <strong>ç›´å¾„</strong> ã€‚äºŒå‰æ ‘çš„ <strong>ç›´å¾„</strong> æ˜¯æŒ‡æ ‘ä¸­ä»»æ„ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´æœ€é•¿è·¯å¾„çš„ <strong>é•¿åº¦</strong> ã€‚è¿™æ¡è·¯å¾„å¯èƒ½ç»è¿‡ä¹Ÿå¯èƒ½ä¸ç»è¿‡æ ¹èŠ‚ç‚¹ <code>root</code> ã€‚ä¸¤èŠ‚ç‚¹ä¹‹é—´è·¯å¾„çš„ <strong>é•¿åº¦</strong> ç”±å®ƒä»¬ä¹‹é—´è¾¹æ•°è¡¨ç¤ºã€‚</li></ul><h4 id="è§£æ³•ä¸€ï¼š-8"><a href="#è§£æ³•ä¸€ï¼š-8" class="headerlink" title="è§£æ³•ä¸€ï¼š"></a>è§£æ³•ä¸€ï¼š</h4><ul><li><p>æ€è·¯ï¼šç›´å¾„å¯ä»¥ä¸é€šè¿‡æ ¹èŠ‚ç‚¹ï¼Œå³ç­”æ¡ˆçš„æœ€é«˜ç‚¹å¯ä»¥ä¸æ˜¯æ ¹èŠ‚ç‚¹ï¼Œé‚£ä¹ˆanså°±éœ€è¦åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¸æ–­æ¯”è¾ƒäº§ç”Ÿã€‚é€’å½’å¾—åˆ°ä»¥å½“å‰èŠ‚ç‚¹ä¸ºæ ¹çš„å·¦å³ä¸¤è¾¹çš„æœ€å¤§é•¿åº¦ï¼Œå°è¯•æ›´æ–°ansï¼Œå¹¶é€‰å–è¾ƒå¤§çš„ä¸€ä¸ªè¿”å›ç»™ä¸Šå±‚ï¼Œè¿™ä¸€ç‚¹è·Ÿé¢˜ç›®8å¾ˆåƒã€‚</p></li><li><p>ä»£ç ï¼š</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">ans</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">diameterOfBinaryTree</span><span class="hljs-params">(TreeNode root)</span> &#123;<br>        dfs(root);<br>        <span class="hljs-keyword">return</span> ans - <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">dfs</span><span class="hljs-params">(TreeNode root)</span>&#123;<br>        <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">left</span> <span class="hljs-operator">=</span> dfs(root.left) + <span class="hljs-number">1</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">right</span> <span class="hljs-operator">=</span> dfs(root.right) + <span class="hljs-number">1</span>;<br>        ans = Math.max(ans, left + right -<span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">return</span> Math.max(left, right);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šæ…¢æ…¢è‡ªå·±è°ƒå‡ºäº†acä»£ç ï¼Œè¿™ä¸ªè¿‡ç¨‹è¿˜æ˜¯å¾ˆé‡è¦çš„ï¼Œå¯¹äºä¸€äº›ç»†ç¢çš„åˆ†ç±»ä¼šæ›´åŠ æ¸…æ¥šï¼Œæ¯”å¦‚éœ€ä¸éœ€è¦å…¨å±€å˜é‡ï¼Œdfséœ€ä¸éœ€è¦è¿”å›å€¼ï¼Œ+1-1è¿™äº›åˆ¤æ–­ï¼Œè‡ªå·±æ€è€ƒåä¼šå¾ˆæ¸…æ™°ã€‚</li></ul><h3 id="10-éªŒè¯äºŒå‰æœç´¢æ ‘"><a href="#10-éªŒè¯äºŒå‰æœç´¢æ ‘" class="headerlink" title="10.éªŒè¯äºŒå‰æœç´¢æ ‘"></a>10.éªŒè¯äºŒå‰æœç´¢æ ‘</h3><ul><li><p>æè¿°ï¼šç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ <code>root</code> ï¼Œåˆ¤æ–­å…¶æ˜¯å¦æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„äºŒå‰æœç´¢æ ‘ã€‚</p><p><strong>æœ‰æ•ˆ</strong> äºŒå‰æœç´¢æ ‘å®šä¹‰å¦‚ä¸‹ï¼š</p><ul><li>èŠ‚ç‚¹çš„å·¦å­æ ‘åªåŒ…å« <strong>å°äº</strong> å½“å‰èŠ‚ç‚¹çš„æ•°ã€‚</li><li>èŠ‚ç‚¹çš„å³å­æ ‘åªåŒ…å« <strong>å¤§äº</strong> å½“å‰èŠ‚ç‚¹çš„æ•°ã€‚</li><li>æ‰€æœ‰å·¦å­æ ‘å’Œå³å­æ ‘è‡ªèº«å¿…é¡»ä¹Ÿæ˜¯äºŒå‰æœç´¢æ ‘ã€‚</li></ul></li></ul><h4 id="è§£æ³•ä¸€ï¼š-9"><a href="#è§£æ³•ä¸€ï¼š-9" class="headerlink" title="è§£æ³•ä¸€ï¼š"></a>è§£æ³•ä¸€ï¼š</h4><ul><li>æ€è·¯ï¼šåˆšå¼€å§‹æš´åŠ›çš„æƒ³æ³•å°±æ˜¯æŒ‰ç…§ä¸­åºéå†çš„æ–¹å¼ä¿å­˜æ‰€æœ‰èŠ‚ç‚¹ä¿¡æ¯ï¼Œå†åˆ¤æ–­æ˜¯å¦æ˜¯ä¸€ä¸ªå‡åºæ•°ç»„ï¼Œå®é™…ä¸Šå¯ä»¥ç›´æ¥åœ¨é€’å½’çš„è¿‡ç¨‹ä¸­é€æ­¥åœ°åˆ¤æ–­ï¼Œå¯¹äºå½“å‰çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸Šä¸€å±‚ä¼ ä¸‹æ¥çš„ä¸Šä¸‹ç•Œï¼Œä¸ç¬¦åˆæ¡ä»¶å³å¯è¿”å›falseã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isValidBST</span><span class="hljs-params">(TreeNode root)</span> &#123;<br>        <span class="hljs-keyword">return</span> isValidBST(root, Long.MIN_VALUE, Long.MAX_VALUE);<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isValidBST</span><span class="hljs-params">(TreeNode root, <span class="hljs-type">long</span> lower, <span class="hljs-type">long</span> upper)</span>&#123;<br>        <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">if</span>(root.val &lt;= lower || root.val &gt;= upper) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">return</span> isValidBST(root.left, lower, root.val) &amp;&amp; <br>        isValidBST(root.right, root.val, upper);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šè¿™ä¸ªé¢˜ç›®çš„é€’å½’é¡ºåºæ²¡æœ‰ç‰¹åˆ«å¤§çš„è¦æ±‚ï¼Œä¸»è¦æ˜¯ä¼ å‚é€’å½’ï¼Œå¹¶ä¸”å‚æ•°æ˜¯åœ¨ä¸æ–­ä¿®æ”¹çš„ã€‚å¦å¤–ï¼Œæ ‘ä¸Šçš„é€’å½’ä¸€èˆ¬éƒ½éœ€è¦ä¸€ä¸ªæœ€å…ˆçš„ifåˆ¤æ–­ç»ˆæ­¢æ¡ä»¶ï¼Œä»¥é˜²é€’å½’çš„æ— é™è¡ç”Ÿã€‚</li></ul><h3 id="11-äºŒå‰æ ‘çš„å±‚åºéå†"><a href="#11-äºŒå‰æ ‘çš„å±‚åºéå†" class="headerlink" title="11.äºŒå‰æ ‘çš„å±‚åºéå†"></a>11.äºŒå‰æ ‘çš„å±‚åºéå†</h3><ul><li>æè¿°ï¼šç»™ä½ äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ <code>root</code> ï¼Œè¿”å›å…¶èŠ‚ç‚¹å€¼çš„<strong>å±‚åºéå†</strong> ã€‚ ï¼ˆå³é€å±‚åœ°ï¼Œä»å·¦åˆ°å³è®¿é—®æ‰€æœ‰èŠ‚ç‚¹ï¼‰ã€‚</li></ul><h4 id="è§£æ³•ä¸€ï¼š-10"><a href="#è§£æ³•ä¸€ï¼š-10" class="headerlink" title="è§£æ³•ä¸€ï¼š"></a>è§£æ³•ä¸€ï¼š</h4><ul><li><p>æ€è·¯ï¼šæŒ‰ç…§é¢˜ç›®æŒ‰å±‚å–å‡ºèŠ‚ç‚¹å€¼ï¼Œæƒ³åˆ°<strong>å¹¿åº¦ä¼˜å…ˆæœç´¢</strong>å¤©ç„¶ç¬¦åˆï¼Œé€šè¿‡é˜Ÿåˆ—æ¥å®ç°ï¼Œå…ˆè€ƒè™‘å·¦èŠ‚ç‚¹å†è€ƒè™‘å³èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå–å‡ºæ¥å°±æ˜¯æ¯å±‚çš„ä»å·¦åˆ°å³ã€‚</p></li><li><p>ä»£ç ï¼š</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="hljs-title function_">levelOrder</span><span class="hljs-params">(TreeNode root)</span> &#123;<br>        List&lt;List&lt;Integer&gt;&gt; ret = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> ret;<br>        Queue&lt;TreeNode&gt; queue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br>        queue.offer(root);<br>        <span class="hljs-keyword">while</span>(!queue.isEmpty())&#123;<br>            List&lt;Integer&gt; level = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>            <span class="hljs-type">int</span> <span class="hljs-variable">curLevelSize</span> <span class="hljs-operator">=</span> queue.size();<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= curLevelSize; i++)&#123;<br>                <span class="hljs-type">TreeNode</span> <span class="hljs-variable">node</span> <span class="hljs-operator">=</span> queue.poll();<br>                level.add(node.val);<br>                <span class="hljs-keyword">if</span>(node.left != <span class="hljs-literal">null</span>) queue.offer(node.left);<br>                <span class="hljs-keyword">if</span>(node.right != <span class="hljs-literal">null</span>) queue.offer(node.right);<br>            &#125; <br>            ret.add(level);<br>        &#125;<br>        <span class="hljs-keyword">return</span> ret;<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šå¯¹äºå¹¿åº¦ä¼˜å…ˆæœç´¢å¤ªä¹…æ²¡å†™äº†ï¼Œä¸»è¦å°±æ˜¯ç”¨é˜Ÿåˆ—ï¼Œåˆšå¼€å§‹æ”¾ä¸€ä¸ªåˆå§‹èŠ‚ç‚¹ï¼Œç„¶åéç©ºåˆ¤æ–­ï¼Œå–å‡ºèŠ‚ç‚¹åˆå†æ”¾å…¥æ–°çš„èŠ‚ç‚¹ï¼Œå¹¶ä¸éš¾ã€‚</li></ul><h3 id="12-å¯¹ç§°äºŒå‰æ ‘"><a href="#12-å¯¹ç§°äºŒå‰æ ‘" class="headerlink" title="12.å¯¹ç§°äºŒå‰æ ‘"></a>12.å¯¹ç§°äºŒå‰æ ‘</h3><ul><li>æè¿°ï¼šç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ <code>root</code> ï¼Œ æ£€æŸ¥å®ƒæ˜¯å¦è½´å¯¹ç§°ã€‚</li></ul><h4 id="è§£æ³•ä¸€ï¼š-11"><a href="#è§£æ³•ä¸€ï¼š-11" class="headerlink" title="è§£æ³•ä¸€ï¼š"></a>è§£æ³•ä¸€ï¼š</h4><ul><li><p>æ€è·¯ï¼šå¯ä»¥é‡‡ç”¨<strong>è¿­ä»£</strong>ï¼Œåˆ©ç”¨é˜Ÿåˆ—æ¥å®ç°ï¼Œä¸æ–­åœ°æ›´æ–°å½“å‰çš„u,v</p></li><li><p>ä»£ç ï¼š</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isSymmetric</span><span class="hljs-params">(TreeNode root)</span> &#123;<br>        <span class="hljs-keyword">return</span> check(root, root);<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">check</span><span class="hljs-params">(TreeNode u, TreeNode v)</span>&#123;<br>        Queue&lt;TreeNode&gt; queue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br>        queue.offer(u);<br>        queue.offer(v);<br>        <span class="hljs-keyword">while</span>(!queue.isEmpty())&#123;<br>           u = queue.poll();<br>           v = queue.poll();<br>           <span class="hljs-keyword">if</span>(u == <span class="hljs-literal">null</span> &amp;&amp; v == <span class="hljs-literal">null</span>) <span class="hljs-keyword">continue</span>;<br>           <span class="hljs-keyword">if</span>(u == <span class="hljs-literal">null</span> || v == <span class="hljs-literal">null</span> || u.val != v.val) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>           queue.offer(u.left);<br>           queue.offer(v.right);<br>           queue.offer(u.right);<br>           queue.offer(v.left);<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šå¥½åƒç”¨åˆ°é˜Ÿåˆ—çš„å†™æ³•éƒ½æ¯”è¾ƒç±»ä¼¼ï¼Œåªä¸è¿‡è¿™é“é¢˜æ²¡æœ‰æ¶‰åŠå¹¿æœçš„æ€æƒ³ï¼Œä¸»è¦å°±æ˜¯å®ç°ä¸€ä¸ªè¿­ä»£ï¼Œå’Œæ·±æœçš„é€’å½’å¯ä»¥ç›¸äº’è½¬åŒ–ã€‚</li></ul><h4 id="è§£æ³•äºŒï¼š-1"><a href="#è§£æ³•äºŒï¼š-1" class="headerlink" title="è§£æ³•äºŒï¼š"></a>è§£æ³•äºŒï¼š</h4><ul><li>æ€è·¯ï¼šé‡‡å–é€’å½’çš„æ–¹å¼ï¼Œä¸æ–­å¾€ä¸‹è¿­ä»£ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isSymmetric</span><span class="hljs-params">(TreeNode root)</span> &#123;<br>        <span class="hljs-keyword">return</span> dfs(root, root);<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">dfs</span><span class="hljs-params">(TreeNode u, TreeNode v)</span>&#123;<br>        <span class="hljs-keyword">if</span>(u == <span class="hljs-literal">null</span> &amp;&amp; v == <span class="hljs-literal">null</span> ) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">if</span>(u == <span class="hljs-literal">null</span> || v == <span class="hljs-literal">null</span> || u.val != v.val) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">return</span> dfs(u.left, v.right) &amp;&amp; dfs(u.right, v.left);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šå¾ˆç²¾å¦™çš„é€’å½’é¢˜ç›®ï¼Œç®€å•çš„ä»£ç å³å¯å®ç°ã€‚</li></ul><h3 id="13-ç¿»è½¬äºŒå‰æ ‘"><a href="#13-ç¿»è½¬äºŒå‰æ ‘" class="headerlink" title="13.ç¿»è½¬äºŒå‰æ ‘"></a>13.ç¿»è½¬äºŒå‰æ ‘</h3><ul><li>æè¿°ï¼šç»™ä½ ä¸€æ£µäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ <code>root</code> ï¼Œç¿»è½¬è¿™æ£µäºŒå‰æ ‘ï¼Œå¹¶è¿”å›å…¶æ ¹èŠ‚ç‚¹ã€‚</li></ul><h4 id="è§£æ³•ä¸€ï¼š-12"><a href="#è§£æ³•ä¸€ï¼š-12" class="headerlink" title="è§£æ³•ä¸€ï¼š"></a>è§£æ³•ä¸€ï¼š</h4><ul><li>æ€è·¯ï¼šé€šè¿‡ç»å…¸çš„ä¸‰ç‚¹äº¤æ¢ä¸¤ä¸ªå¯¹è±¡çš„å€¼ï¼Œç„¶åé€’å½’å‘ä¸‹é€å±‚è¿›è¡Œç¿»è½¬ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> TreeNode <span class="hljs-title function_">invertTree</span><span class="hljs-params">(TreeNode root)</span> &#123;<br>        <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>        <span class="hljs-type">TreeNode</span> <span class="hljs-variable">tmp</span> <span class="hljs-operator">=</span> root.left;<br>        root.left = root.right;<br>        root.right = tmp;<br>        invertTree(root.left);<br>        invertTree(root.right);<br>        <span class="hljs-keyword">return</span> root;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šç‰¹åˆ«çš„ç‚¹åœ¨äºæ–¹æ³•è™½ç„¶æœ‰è¿”å›å€¼ï¼Œä½†æ˜¯åœ¨é€’å½’è°ƒç”¨æ—¶ä¸éœ€è¦è¿”å›å€¼ï¼Œæ ¹æ®é¢˜æ„å°±æ˜¯è¿”å›æ ¹èŠ‚ç‚¹å³å¯ï¼Œè€Œæ ¹èŠ‚ç‚¹æ˜¯ä¸å˜çš„ï¼Œæœ€ååŸæ ·è¿”å›å³å¯ã€‚</li></ul><h3 id="14-ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘"><a href="#14-ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘" class="headerlink" title="14.ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘"></a>14.ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘</h3><ul><li>æè¿°ï¼šç»™å®šä¸¤ä¸ªæ•´æ•°æ•°ç»„ <code>preorder</code> å’Œ <code>inorder</code> ï¼Œå…¶ä¸­ <code>preorder</code> æ˜¯äºŒå‰æ ‘çš„<strong>å…ˆåºéå†</strong>ï¼Œ <code>inorder</code> æ˜¯åŒä¸€æ£µæ ‘çš„<strong>ä¸­åºéå†</strong>ï¼Œè¯·æ„é€ äºŒå‰æ ‘å¹¶è¿”å›å…¶æ ¹èŠ‚ç‚¹ã€‚</li></ul><h4 id="è§£æ³•ä¸€ï¼š-13"><a href="#è§£æ³•ä¸€ï¼š-13" class="headerlink" title="è§£æ³•ä¸€ï¼š"></a>è§£æ³•ä¸€ï¼š</h4><ul><li>æ€è·¯ï¼šå‰åºä¸ä¸­åºéå†ç›¸ç»“åˆï¼Œé€šè¿‡å‰åºéå†æ‰¾åˆ°æ ¹èŠ‚ç‚¹ï¼Œå†é€šè¿‡è¯¥æ ¹èŠ‚ç‚¹åœ¨ä¸­åºéå†ä¸­æ‰¾åˆ°å·¦å­æ ‘çš„å¤§å°ï¼Œè¿›è€Œå›åˆ°å‰åºéå†æ‰¾åˆ°æ–°çš„æ ¹ï¼Œä¸æ–­å‘ä¸‹é€’å½’å®ç°æ•´æ£µäºŒå‰æ ‘çš„æ„é€ ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">private</span> Map&lt;Integer, Integer&gt; indexMap;<br>    <span class="hljs-keyword">public</span> TreeNode <span class="hljs-title function_">myBuildTree</span><span class="hljs-params">(<span class="hljs-type">int</span>[] preorder, <span class="hljs-type">int</span>[] inorder, <span class="hljs-type">int</span> pl, <span class="hljs-type">int</span> pr, <span class="hljs-type">int</span> il, <span class="hljs-type">int</span> ir)</span>&#123;<br>        <span class="hljs-keyword">if</span>(pl &gt; pr) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">p_root</span> <span class="hljs-operator">=</span> pl;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">i_root</span> <span class="hljs-operator">=</span> indexMap.get(preorder[p_root]);<br><br>        <span class="hljs-type">TreeNode</span> <span class="hljs-variable">root</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeNode</span>(preorder[p_root]);<br>        <span class="hljs-type">int</span> <span class="hljs-variable">size_left_subtree</span> <span class="hljs-operator">=</span> i_root - il;<br>        root.left = myBuildTree(preorder, inorder, pl + <span class="hljs-number">1</span>, pl + size_left_subtree, il, ir -<span class="hljs-number">1</span>);<br>        root.right = myBuildTree(preorder, inorder, pl + size_left_subtree + <span class="hljs-number">1</span>, pr, i_root + <span class="hljs-number">1</span>, ir);<br>        <span class="hljs-keyword">return</span> root;<br>    &#125;<br>    <span class="hljs-keyword">public</span> TreeNode <span class="hljs-title function_">buildTree</span><span class="hljs-params">(<span class="hljs-type">int</span>[] preorder, <span class="hljs-type">int</span>[] inorder)</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> preorder.length;<br>        indexMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;Integer,Integer&gt;();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; n; i++)&#123;<br>            indexMap.put(inorder[i], i);<br>        &#125;<br>        <span class="hljs-keyword">return</span> myBuildTree(preorder, inorder, <span class="hljs-number">0</span>, n - <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, n - <span class="hljs-number">1</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šæ‰¾åˆ°å…¶ä¸­å¯é€’å½’çš„éƒ¨åˆ†ï¼Œä¸¤ä¸ªæ•°ç»„äº¤ç›¸æ›´æ–°ï¼Œå¾ˆå·§å¦™çš„ä¸€ä¸ªå‡ºé¢˜æ€è·¯ã€‚åŒæ—¶ï¼Œåˆ©ç”¨äº†<strong>Map</strong>æ•°æ®ç»“æ„ï¼Œå¿«é€Ÿæ‰¾åˆ°å…¶ä¸­çš„å€¼çš„åæ ‡ã€‚</li></ul><h3 id="15-æ‰“å®¶åŠ«èˆ"><a href="#15-æ‰“å®¶åŠ«èˆ" class="headerlink" title="15.æ‰“å®¶åŠ«èˆ|||"></a>15.æ‰“å®¶åŠ«èˆ|||</h3><ul><li><p>æè¿°ï¼šå°å·åˆå‘ç°äº†ä¸€ä¸ªæ–°çš„å¯è¡Œçªƒçš„åœ°åŒºã€‚è¿™ä¸ªåœ°åŒºåªæœ‰ä¸€ä¸ªå…¥å£ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º <code>root</code> ã€‚</p><p>é™¤äº† <code>root</code> ä¹‹å¤–ï¼Œæ¯æ ‹æˆ¿å­æœ‰ä¸”åªæœ‰ä¸€ä¸ªâ€œçˆ¶â€œæˆ¿å­ä¸ä¹‹ç›¸è¿ã€‚ä¸€ç•ªä¾¦å¯Ÿä¹‹åï¼Œèªæ˜çš„å°å·æ„è¯†åˆ°â€œè¿™ä¸ªåœ°æ–¹çš„æ‰€æœ‰æˆ¿å±‹çš„æ’åˆ—ç±»ä¼¼äºä¸€æ£µäºŒå‰æ ‘â€ã€‚ å¦‚æœ <strong>ä¸¤ä¸ªç›´æ¥ç›¸è¿çš„æˆ¿å­åœ¨åŒä¸€å¤©æ™šä¸Šè¢«æ‰“åŠ«</strong> ï¼Œæˆ¿å±‹å°†è‡ªåŠ¨æŠ¥è­¦ã€‚</p><p>ç»™å®šäºŒå‰æ ‘çš„ <code>root</code> ã€‚è¿”å› <strong>åœ¨ä¸è§¦åŠ¨è­¦æŠ¥çš„æƒ…å†µä¸‹</strong> ï¼Œå°å·èƒ½å¤Ÿç›—å–çš„æœ€é«˜é‡‘é¢ ã€‚</p></li></ul><h4 id="è§£æ³•ä¸€ï¼š-14"><a href="#è§£æ³•ä¸€ï¼š-14" class="headerlink" title="è§£æ³•ä¸€ï¼š"></a>è§£æ³•ä¸€ï¼š</h4><ul><li>æ€è·¯ï¼šæ˜¯ä¸€ä¸ª<strong>æ ‘å½¢DP</strong>é—®é¢˜ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ‰é€‰ï¼ˆfï¼‰æˆ–ä¸é€‰(g)ä¸¤ç§é€‰æ‹©ï¼Œè‡ªåº•å‘ä¸Šçœ‹çš„è¯ï¼Œf(node) &#x3D; node.val+g(node.left)+g(node.right),g(node)&#x3D;max(g(node.left),f(node.left))+max(g(node.right),f(node.right))ã€‚å…ˆé€’å½’å†å¤„ç†å€¼çš„è½¬ç§»ï¼Œå°±å½¢æˆ<strong>è‡ªåº•å‘ä¸Šçš„æ¨å¯¼</strong>ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    Map&lt;TreeNode, Integer&gt; f = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>    Map&lt;TreeNode, Integer&gt; g = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">rob</span><span class="hljs-params">(TreeNode root)</span> &#123;<br>        dfs(root);<br>        <span class="hljs-keyword">return</span> Math.max(f.getOrDefault(root,<span class="hljs-number">0</span>), g.getOrDefault(root,<span class="hljs-number">0</span>));<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">dfs</span><span class="hljs-params">(TreeNode node)</span>&#123;<br>        <span class="hljs-keyword">if</span>(node == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span>;<br>        dfs(node.left);<br>        dfs(node.right);<br>        f.put(node,node.val + g.getOrDefault(node.left,<span class="hljs-number">0</span>) + g.getOrDefault(node.right,<span class="hljs-number">0</span>));<br>        g.put(node, Math.max(f.getOrDefault(node.left, <span class="hljs-number">0</span>),g.getOrDefault(node.left, <span class="hljs-number">0</span>))<br>        +Math.max(f.getOrDefault(node.right, <span class="hljs-number">0</span>),g.getOrDefault(node.right, <span class="hljs-number">0</span>)));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šç¬¬ä¸€çœ¼éƒ½æ²¡çœ‹å‡ºæ¥æ˜¯åŠ¨æ€è§„åˆ’ã€‚å…¶å®æ˜¯ä¸ªæ¯”è¾ƒå¸¸è§çš„è‡ªåº•å‘ä¸Šçš„å¥—è·¯ï¼Œæ¨å¯¼å…¬å¼ä¹Ÿæ¯”è¾ƒæ­£å¸¸ï¼Œç»“åˆMapå®ç°ï¼Œå¤šå¤šç»ƒä¹ å§ã€‚</li></ul><h4 id="è§£æ³•äºŒï¼š-2"><a href="#è§£æ³•äºŒï¼š-2" class="headerlink" title="è§£æ³•äºŒï¼š"></a>è§£æ³•äºŒï¼š</h4><ul><li>æ€è·¯ï¼šè§£æ³•ä¸€çš„ä»£ç å¯ä»¥å‘ç°f,gå’Œæ€»æ˜¯ä¾èµ–ä¸Šä¸€å±‚çš„ç»“æœï¼Œæ²¡å¿…è¦è®°å½•æ‰€æœ‰çš„è¿‡ç¨‹ï¼Œå¯ä»¥å¯¹æ­¤è¿›è¡Œä¼˜åŒ–ï¼Œåˆ©ç”¨æ•°ç»„è®°å½•æ¯æ¬¡çš„ç»“æœå³å¯ã€‚</li><li>ä»£ç ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">rob</span><span class="hljs-params">(TreeNode root)</span> &#123;<br>        <span class="hljs-type">int</span>[] rootStatus = dfs(root);<br>        <span class="hljs-keyword">return</span> Math.max(rootStatus[<span class="hljs-number">0</span>], rootStatus[<span class="hljs-number">1</span>]);<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span>[] dfs(TreeNode node)&#123;<br>        <span class="hljs-keyword">if</span>(node == <span class="hljs-literal">null</span>)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">0</span>, <span class="hljs-number">0</span>&#125;;<br>        &#125;<br>        <span class="hljs-type">int</span>[] l = dfs(node.left);<br>        <span class="hljs-type">int</span>[] r = dfs(node.right);<br>        <span class="hljs-type">int</span> <span class="hljs-variable">select</span> <span class="hljs-operator">=</span> node.val + l[<span class="hljs-number">1</span>] + r[<span class="hljs-number">1</span>];<br>        <span class="hljs-type">int</span> <span class="hljs-variable">noSelect</span> <span class="hljs-operator">=</span> Math.max(l[<span class="hljs-number">0</span>], l[<span class="hljs-number">1</span>]) + Math.max(r[<span class="hljs-number">0</span>], r[<span class="hljs-number">1</span>]);<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;select, noSelect&#125;;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“:åˆ©ç”¨æ•°ç»„çš„ä¸¤ä¸ªå…ƒç´ è¿›è¡Œä¼˜åŒ–ï¼Œä»£ç åŸç†åŸºæœ¬ä¸€è‡´ï¼Œdfsæœ‰äº†è¿”å›å€¼ï¼Œç›¸åŒçš„æ€è·¯ä¸ä¸€æ ·çš„å†™æ³•ï¼ŒThatâ€˜s cool.</li></ul><h3 id="16-äºŒå‰æ ‘çš„ä¸­åºéå†"><a href="#16-äºŒå‰æ ‘çš„ä¸­åºéå†" class="headerlink" title="16.äºŒå‰æ ‘çš„ä¸­åºéå†"></a>16.äºŒå‰æ ‘çš„ä¸­åºéå†</h3><ul><li>æè¿°ï¼šç»™å®šä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ <code>root</code> ï¼Œè¿”å› <em>å®ƒçš„ <strong>ä¸­åº</strong> éå†</em> ã€‚</li></ul><h4 id="è§£æ³•ä¸€ï¼š-15"><a href="#è§£æ³•ä¸€ï¼š-15" class="headerlink" title="è§£æ³•ä¸€ï¼š"></a>è§£æ³•ä¸€ï¼š</h4><ul><li>æ€è·¯ï¼šä¸­åºéå†å³æŒ‰ç…§<strong>å·¦å­æ ‘ã€æ ¹èŠ‚ç‚¹ã€å³å­æ ‘</strong>çš„é¡ºåº<strong>é€’å½’</strong>éå†æ•´æ£µäºŒå‰æ ‘</li><li>ä»£ç ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    List&lt;Integer&gt; res = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>    <span class="hljs-keyword">public</span> List&lt;Integer&gt; <span class="hljs-title function_">inorderTraversal</span><span class="hljs-params">(TreeNode root)</span> &#123;<br>        dfs(root);<br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">dfs</span><span class="hljs-params">(TreeNode root)</span>&#123;<br>        <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span>;<br>        dfs(root.left);<br>        res.add(root.val);<br>        dfs(root.right);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šåˆ†ædfsç‰¹ç‚¹ï¼Œé€‰æ‹©è®¾å®šä¸€ä¸ªå…¨å±€å˜é‡ï¼Œdfsä¸éœ€è¦è¿”å›å€¼ã€‚è‡ªå·±æ•²å‡ºæ¥äº†ï¼Œç®—æ˜¯å¯¹æ ‘çš„é€’å½’å…¥äº†é—¨å•¦ã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥æŠŠresä½œä¸ºä¸€ä¸ªå‚æ•°ä¼ å…¥åˆ°dfsä¸­ï¼Œæ˜¯ä¸€æ ·çš„æ•ˆæœã€‚</li></ul><h4 id="è§£æ³•äºŒï¼š-3"><a href="#è§£æ³•äºŒï¼š-3" class="headerlink" title="è§£æ³•äºŒï¼š"></a>è§£æ³•äºŒï¼š</h4><ul><li>æ€è·¯ï¼šä½¿ç”¨<strong>è¿­ä»£</strong>çš„æ€ç»´ï¼Œç»´æŠ¤ä¸€ä¸ª<strong>æ ˆ</strong>ï¼Œå…ˆååŠ å…¥å·¦å­æ ‘ï¼Œç›´åˆ°ä¸èƒ½åŠ å…¥ä¸ºæ­¢ï¼Œå†åŠ å…¥æ ¹èŠ‚ç‚¹ï¼Œå†åŠ å…¥å³å­æ ‘ï¼Œå›åˆ°ä¹‹å‰çš„æ­¥éª¤</li><li>ä»£ç ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> List&lt;Integer&gt; <span class="hljs-title function_">inorderTraversal</span><span class="hljs-params">(TreeNode root)</span> &#123;<br>        List&lt;Integer&gt; res = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        Deque&lt;TreeNode&gt; stk = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br>        <span class="hljs-keyword">while</span>(root != <span class="hljs-literal">null</span> || !stk.isEmpty())&#123;<br>            <span class="hljs-keyword">while</span>(root != <span class="hljs-literal">null</span>)&#123;<br>                stk.push(root);<br>                root = root.left;<br>            &#125;<br>            root = stk.pop();<br>            res.add(root.val);<br>            root = root.right;<br>        &#125;<br>        <span class="hljs-keyword">return</span> res;<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šé€’å½’å’Œè¿­ä»£åœ¨å¾ˆå¤šæ—¶å€™å¯ä»¥ç›¸äº’è½¬æ¢ï¼Œç›¸å¯¹æ¥è¯´ï¼Œå¯¹è¿­ä»£æ›´åŠ ä¸ç†Ÿæ‚‰ï¼Œéœ€è¦å¤šåŠ ç»ƒä¹ ã€‚å¤§éƒ¨åˆ†æ˜¯ç»“åˆæ ˆæ¥å®ç°ï¼Œå¦‚ç¬¬1é¢˜ï¼Œä½†ç¬¬12é¢˜å¯¹ç§°äºŒå‰æ ‘é‡‡ç”¨äº†é˜Ÿåˆ—å®ç°ã€‚</li></ul><h3 id="17-äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦"><a href="#17-äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦" class="headerlink" title="17.äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦"></a>17.äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦</h3><ul><li>æè¿°ï¼šç»™å®šä¸€ä¸ªäºŒå‰æ ‘ <code>root</code> ï¼Œè¿”å›å…¶æœ€å¤§æ·±åº¦ã€‚äºŒå‰æ ‘çš„ <strong>æœ€å¤§æ·±åº¦</strong> æ˜¯æŒ‡ä»æ ¹èŠ‚ç‚¹åˆ°æœ€è¿œå¶å­èŠ‚ç‚¹çš„æœ€é•¿è·¯å¾„ä¸Šçš„èŠ‚ç‚¹æ•°ã€‚</li></ul><h4 id="è§£æ³•ä¸€ï¼š-16"><a href="#è§£æ³•ä¸€ï¼š-16" class="headerlink" title="è§£æ³•ä¸€ï¼š"></a>è§£æ³•ä¸€ï¼š</h4><ul><li>æ€è·¯ï¼šå¾ˆé€’å½’çš„ä¸€é“é¢˜ç›®ï¼Œå·¦å³å­æ ‘çš„æœ€å¤§æ·±åº¦åˆå¯ä»¥å†³å®šå½“å‰çš„æœ€å¤§æ·±åº¦</li><li>ä»£ç ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">maxDepth</span><span class="hljs-params">(TreeNode root)</span> &#123;<br>        <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">l</span> <span class="hljs-operator">=</span> maxDepth(root.left);<br>        <span class="hljs-type">int</span> <span class="hljs-variable">r</span> <span class="hljs-operator">=</span> maxDepth(root.right);<br>        <span class="hljs-keyword">return</span> Math.max(l,r) + <span class="hljs-number">1</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šé€’å½’å¾ˆæ¸…æ™°çš„ä¸€é“é¢˜ç›®ï¼Œç®—æ˜¯å¾ˆå¤šé¢˜ç›®çš„æºå¤´å­~</li></ul><h3 id="18-äºŒå‰æ ‘çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–"><a href="#18-äºŒå‰æ ‘çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–" class="headerlink" title="18.äºŒå‰æ ‘çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–"></a>18.äºŒå‰æ ‘çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–</h3><ul><li><p>æè¿°ï¼šåºåˆ—åŒ–æ˜¯å°†ä¸€ä¸ªæ•°æ®ç»“æ„æˆ–è€…å¯¹è±¡è½¬æ¢ä¸ºè¿ç»­çš„æ¯”ç‰¹ä½çš„æ“ä½œï¼Œè¿›è€Œå¯ä»¥å°†è½¬æ¢åçš„æ•°æ®å­˜å‚¨åœ¨ä¸€ä¸ªæ–‡ä»¶æˆ–è€…å†…å­˜ä¸­ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥é€šè¿‡ç½‘ç»œä¼ è¾“åˆ°å¦ä¸€ä¸ªè®¡ç®—æœºç¯å¢ƒï¼Œé‡‡å–ç›¸åæ–¹å¼é‡æ„å¾—åˆ°åŸæ•°æ®ã€‚</p><p>è¯·è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥å®ç°äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ã€‚è¿™é‡Œä¸é™å®šä½ çš„åºåˆ— &#x2F; ååºåˆ—åŒ–ç®—æ³•æ‰§è¡Œé€»è¾‘ï¼Œåªéœ€è¦ä¿è¯ä¸€ä¸ªäºŒå‰æ ‘å¯ä»¥è¢«åºåˆ—åŒ–ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²å¹¶ä¸”å°†è¿™ä¸ªå­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºåŸå§‹çš„æ ‘ç»“æ„ã€‚</p></li></ul><h4 id="è§£æ³•ä¸€ï¼š-17"><a href="#è§£æ³•ä¸€ï¼š-17" class="headerlink" title="è§£æ³•ä¸€ï¼š"></a>è§£æ³•ä¸€ï¼š</h4><ul><li>æ€è·¯ï¼šå¯ä»¥æŒ‰ç…§å…ˆåºéå†å–å‡ºäºŒå‰æ ‘ä¸Šçš„å€¼ï¼Œç©ºèŠ‚ç‚¹ç”¨Noneä»£æ›¿ï¼Œç„¶åå†æŠŠListç±»å‹é€’å½’æŒ‰å…ˆåºéå†ç”ŸæˆäºŒå‰æ ‘</li><li>ä»£ç ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Codec</span> &#123;<br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">serialize</span><span class="hljs-params">(TreeNode root)</span> &#123;<br>        <span class="hljs-keyword">return</span> rserialize(root, <span class="hljs-string">&quot;&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">public</span> TreeNode <span class="hljs-title function_">deserialize</span><span class="hljs-params">(String data)</span> &#123;<br>        String[] dataArray = data.split(<span class="hljs-string">&quot;,&quot;</span>);<br>        List&lt;String&gt; dataList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;String&gt;(Arrays.asList(dataArray));<br>        <span class="hljs-keyword">return</span> rdeserialize(dataList);   <br>    &#125;<br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">rserialize</span><span class="hljs-params">(TreeNode root, String str)</span>&#123;<br>        <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span>)&#123;<br>            str += <span class="hljs-string">&quot;None,&quot;</span>;<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            str += str.valueOf(root.val) + <span class="hljs-string">&quot;,&quot;</span>;<br>            str = rserialize(root.left, str);<br>            str = rserialize(root.right, str);<br>        &#125;<br>        <span class="hljs-keyword">return</span> str;<br>    &#125;<br>    <span class="hljs-keyword">public</span> TreeNode <span class="hljs-title function_">rdeserialize</span><span class="hljs-params">(List&lt;String&gt; dataList)</span>&#123;<br>        <span class="hljs-keyword">if</span>(dataList.get(<span class="hljs-number">0</span>).equals(<span class="hljs-string">&quot;None&quot;</span>))&#123;<br>            dataList.remove(<span class="hljs-number">0</span>);<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>        &#125;<br>        <span class="hljs-type">TreeNode</span> <span class="hljs-variable">root</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeNode</span>(Integer.valueOf(dataList.get(<span class="hljs-number">0</span>)));<br>        dataList.remove(<span class="hljs-number">0</span>);<br>        root.left = rdeserialize(dataList);<br>        root.right = rdeserialize(dataList);<br>        <span class="hljs-keyword">return</span> root;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ€»ç»“ï¼šç›¸å½“äºä¸¤ä¸ªç®€å•é¢˜çš„ç»„åˆï¼Œè¯»å–äºŒå‰æ ‘å’Œå°†æœ‰åºæ•°ç»„è½¬åŒ–ä¸ºäºŒå‰æ ‘ï¼Œè¿˜æœ‰ä¸€äº›å­—ç¬¦ä¸²çš„åº”ç”¨ï¼Œæ¯”å¦‚valueOf,splitæ–¹æ³•</li></ul>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>äºŒå‰æ ‘</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è¯¾è®¾å¤ç›˜</title>
    <link href="/2024/01/19/%E6%A0%A1%E5%86%85%E5%AD%A6%E4%B9%A0/%E8%AF%BE%E8%AE%BE%E5%A4%8D%E7%9B%98/"/>
    <url>/2024/01/19/%E6%A0%A1%E5%86%85%E5%AD%A6%E4%B9%A0/%E8%AF%BE%E8%AE%BE%E5%A4%8D%E7%9B%98/</url>
    
    <content type="html"><![CDATA[<h1 id="å¤§ä¸‰ä¸Šä¸¤æ¬¡è¯¾ç¨‹è®¾è®¡å¤ç›˜"><a href="#å¤§ä¸‰ä¸Šä¸¤æ¬¡è¯¾ç¨‹è®¾è®¡å¤ç›˜" class="headerlink" title="å¤§ä¸‰ä¸Šä¸¤æ¬¡è¯¾ç¨‹è®¾è®¡å¤ç›˜"></a>å¤§ä¸‰ä¸Šä¸¤æ¬¡è¯¾ç¨‹è®¾è®¡å¤ç›˜</h1><h4 id="1-æ•°æ®åº“ç®¡ç†ç³»ç»Ÿè¯¾è®¾"><a href="#1-æ•°æ®åº“ç®¡ç†ç³»ç»Ÿè¯¾è®¾" class="headerlink" title="1.æ•°æ®åº“ç®¡ç†ç³»ç»Ÿè¯¾è®¾"></a>1.æ•°æ®åº“ç®¡ç†ç³»ç»Ÿè¯¾è®¾</h4><ul><li><strong>Situationï¼š</strong> æƒ…æ™¯ã€‚ äº‹æƒ…æ˜¯åœ¨ä»€ä¹ˆæƒ…å†µä¸‹å‘ç”Ÿçš„ï¼Ÿ<ul><li>6ä¸ªäººçš„å°ç»„ï¼Œéœ€è¦å®Œæˆä¸€ä¸ªæ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ŒåŒ…æ‹¬æ–‡ä»¶ç»“æ„å­˜å‚¨ï¼Œå®ç°DDL,DMLè¯­å¥ã€‚</li></ul></li><li><strong>Taskï¼š</strong> ä»»åŠ¡ã€‚ä½ çš„ä»»åŠ¡æ˜¯ä»€ä¹ˆï¼Ÿ<ul><li>æ‹…ä»»ç»„é•¿</li><li>æŒ‘é€‰åˆé€‚çš„é¡¹ç›®ä½œä¸ºå¼€å‘åŸºç¡€</li><li>å¯¹ä»»åŠ¡è¿›è¡Œåˆ†å·¥ï¼ŒåŒ…æ‹¬ä»å¼€å‘ä»»åŠ¡åˆ°æ±‡æŠ¥æ–‡æ¡£</li></ul></li><li><strong>Actionï¼š</strong> è¡ŒåŠ¨ã€‚ä½ åšäº†ä»€ä¹ˆï¼Ÿ<ul><li>åˆšå¼€å§‹é€‰æ‹©MYDBä½œä¸ºé¡¹ç›®åŸºç¡€ï¼Œä½†æ˜¯å…¶å®ç°æ›´ååŸç†æ€§ï¼Œå¯ç”¨æ€§ä¸å¼ºï¼Œä¸”ç†è§£éš¾åº¦é«˜ï¼Œæ•…èˆå¼ƒ</li><li>ç†è§£ç°æœ‰é¡¹ç›®çš„å®ç°ï¼Œå’Œç»„å‘˜è®¨è®ºåœ¨æ­¤åŸºç¡€ä¸Šè¦æ‰©å……çš„å†…å®¹</li><li>åˆç†åˆ†é…ä»»åŠ¡ï¼Œè‡ªå·±é€‰æ‹©æœ€éš¾çš„selectè¯­å¥å®ç°</li><li>å¸®åŠ©ç»„å‘˜è§£å†³æŠ€æœ¯å¡å…‹ç‚¹</li><li>åˆ¶ä½œppt,å‘è€å¸ˆè¿›è¡Œæ±‡æŠ¥ç­”è¾©</li></ul></li><li><strong>Resultï¼š</strong> ç»“æœã€‚æœ€ç»ˆçš„ç»“æœæ€æ ·ï¼Ÿ<ul><li>æ—¢å®šçš„ä»»åŠ¡å®ç°äº†90%ï¼Œæ²¡æœ‰å®ç°çš„æ˜¯é¢„å…ˆæ²¡æœ‰ç›´æ¥åˆ†é…çš„é‚£ä¸ªä»»åŠ¡</li><li>å®ç°äº†å‰ç«¯ç•Œé¢å’Œæ‰€æœ‰åŸºæœ¬è¯­å¥çš„æ”¯æŒï¼Œé¡¹ç›®æ¯”è¾ƒå®Œæ•´</li><li>ç­”è¾©æ±‡æŠ¥ä¹Ÿæ¯”è¾ƒé¡ºåˆ©ï¼Œé—®ç­”ç¯èŠ‚æ¯ä¸ªäººå›ç­”åˆ°ä½</li></ul></li><li><strong>æ”¶è·ï¼š</strong><ul><li>æ­¤æ¬¡çš„ä¸“ä¸šæŠ€èƒ½æå‡ä¸»è¦åœ¨äºç¼–å†™selectè¯­å¥ä¸Šï¼Œå¤§åŠ›å‡ºå¥‡è¿¹çš„æ„Ÿè§‰ï¼Œç¬¬ä¸€æ¬¡çœŸæ­£ç”¨ç¼–ç è§£å†³å®é™…é—®é¢˜ï¼Œè™½ç„¶å…¶å®ç°æ€§è¾ƒä¸ºæœ‰é™</li><li>è½¯å®åŠ›æå‡äº†ä¸å°‘ï¼ŒåŒ…æ‹¬å’Œç»„å‘˜å…±åŒèƒ½åŠ›ï¼Œå¯¹æ•´ä¸ªé¡¹ç›®è¿›åº¦çš„æŒæ§èƒ½åŠ›ï¼Œä»¥åŠæœ€åæ±‡æŠ¥çš„è¡¨è¾¾èƒ½åŠ›ï¼Œå‡å¾—åˆ°äº†æå‡</li></ul></li></ul><h4 id="2-è½¯ä»¶æ–‡æ¡£-äººè„¸è¯†åˆ«Android-appè¯¾è®¾"><a href="#2-è½¯ä»¶æ–‡æ¡£-äººè„¸è¯†åˆ«Android-appè¯¾è®¾" class="headerlink" title="2.è½¯ä»¶æ–‡æ¡£-äººè„¸è¯†åˆ«Android appè¯¾è®¾"></a>2.è½¯ä»¶æ–‡æ¡£-äººè„¸è¯†åˆ«Android appè¯¾è®¾</h4><ul><li><strong>Situationï¼š</strong> æƒ…æ™¯ã€‚ äº‹æƒ…æ˜¯åœ¨ä»€ä¹ˆæƒ…å†µä¸‹å‘ç”Ÿçš„ï¼Ÿ<ul><li>éœ€è¦å¼€å‘ä¸€ä¸ªç³»ç»Ÿå®ç°äººè„¸è¯†åˆ«è€ƒå‹¤ç­¾åˆ°ï¼Œæ•™å¸ˆå­¦ç”Ÿä¿¡æ¯ç®¡ç†ä»¥åŠæƒé™ç®¡ç†ç³»ç»Ÿ</li></ul></li><li><strong>Taskï¼š</strong> ä»»åŠ¡ã€‚ä½ çš„ä»»åŠ¡æ˜¯ä»€ä¹ˆï¼Ÿ<ul><li>ååŠ©ç»„é•¿ï¼Œå¸®åŠ©å…¶æ¨è¿›é¡¹ç›®</li></ul></li><li><strong>Actionï¼š</strong> è¡ŒåŠ¨ã€‚ä½ åšäº†ä»€ä¹ˆï¼Ÿ<ul><li>æœ€å¼€å§‹é€‰æ‹©åŸºç¡€é¡¹ç›®ï¼Œæ•²å®šä½¿ç”¨ä¸€ä¸ªåŠŸèƒ½æ¯”è¾ƒå…¨çš„appé¡¹ç›®</li><li>æœ€è¿‘é¡¹ç›®ç¯å¢ƒé…ç½®ï¼Œä¸€ç›´ä¸æˆåŠŸï¼Œåœ¨ç½‘ä¸Šè”ç³»æŠ€æœ¯ä¸“å®¶è§£å†³</li><li>æœ€åé¡¹ç›®éƒ¨ç½²ä¸Šçº¿ï¼ŒååŠ©ç»„é•¿</li><li>ä¸€äº›æ–‡æ¡£ç¼–å†™ï¼ŒåŒ…æ‹¬ERå›¾çš„ç»˜åˆ¶</li></ul></li><li><strong>Resultï¼š</strong> ç»“æœã€‚æœ€ç»ˆçš„ç»“æœæ€æ ·ï¼Ÿ<ul><li>æ˜¯å”¯ä¸€ä¸€ä¸ªæŠŠappåšå‡ºæ¥çš„å°ç»„ ï¼Œå…¶ä»–éƒ½æ˜¯ç½‘é¡µç‰ˆçš„å®ç°ï¼Œå®ç°éƒ¨åˆ†æ‹¿åˆ°äº†æ»¡åˆ†</li></ul></li><li><strong>æ”¶è·ï¼š</strong><ul><li>ä¸“ä¸šæŠ€æœ¯ï¼šERå›¾å»ºæ¨¡ï¼Œå¯¹å…³ç³»å‹æ•°æ®åº“å»ºæ¨¡çš„é€»è¾‘æ€§æœ‰äº†æ›´æ·±çš„ç†è§£ï¼›Androidé¡¹ç›®çš„åŸºæœ¬è®¤è¯†ï¼›é¡¹ç›®éƒ¨ç½²ä¸Šçº¿æµç¨‹æœ‰äº†å¤§è‡´çš„äº†è§£ã€‚</li><li>è½¯èƒ½åŠ›ï¼š<ul><li>å¯¹ä¸€ä¸ªæ›´å¤§é¡¹ç›®çš„æ•´ä½“å®ç°çš„è®¤è¯†ï¼Œä»å„ç§æ–‡æ¡£çš„ç¼–å†™ï¼Œå‰æœŸéœ€æ±‚åˆ†æï¼Œåˆ°ERå›¾å»ºæ¨¡ï¼Œé¡¹ç›®é€‰å‹ï¼ŒæŠ€æœ¯å®ç°ï¼Œéƒ¨ç½²ä¸Šçº¿ï¼Œæœ‰äº†ä¸€ä¸ªæ›´åŠ ç›´è§‚çš„ä½“éªŒï¼›</li><li>å­¦ä¹ åˆ°ä¸€äº›ç»„ç»‡ä¸€ä¸ª8äººå°ç»„çš„ç»éªŒ</li></ul></li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>é¡¹ç›®</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å­¦æ ¡é¡¹ç›®</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æµ‹è¯•æ–‡ç« </title>
    <link href="/2024/01/19/%E7%94%9F%E6%B4%BB%E4%B8%8E%E6%8A%80%E6%9C%AF/%E6%B5%8B%E8%AF%95%E6%96%87%E7%AB%A0/"/>
    <url>/2024/01/19/%E7%94%9F%E6%B4%BB%E4%B8%8E%E6%8A%80%E6%9C%AF/%E6%B5%8B%E8%AF%95%E6%96%87%E7%AB%A0/</url>
    
    <content type="html"><![CDATA[<p> è¿™æ˜¯ä¸€ç¯‡æµ‹è¯•æ–‡ç« ï¼š</p><img src="/2024/01/19/%E7%94%9F%E6%B4%BB%E4%B8%8E%E6%8A%80%E6%9C%AF/%E6%B5%8B%E8%AF%95%E6%96%87%E7%AB%A0/test.png" class="" title="å›¾ç‰‡å¼•ç”¨æ–¹æ³•ä¸€">]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
